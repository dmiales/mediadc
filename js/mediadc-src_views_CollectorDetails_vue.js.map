{"version":3,"file":"mediadc-src_views_CollectorDetails_vue.js?v=151c87f56775dc27a27c","mappings":"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","sources":["webpack:///mediadc/src\\components\\details\\DetailsExport.vue?vue&type=style&index=0&id=59143620&prod&scoped=true&lang=css","webpack:///mediadc/src\\components\\details\\DetailsFile.vue?vue&type=style&index=0&id=4d8158fc&prod&scoped=true&lang=css","webpack:///mediadc/src\\components\\details\\DetailsGroupList.vue?vue&type=style&index=0&id=3ed04696&prod&scoped=true&lang=css","webpack:///mediadc/src\\components\\details\\DetailsList.vue?vue&type=style&index=0&id=14ad58d6&prod&scoped=true&lang=css","webpack:///mediadc/src\\components\\details\\DetailsListItem.vue?vue&type=style&index=0&id=d2859054&prod&lang=css","webpack:///mediadc/src\\components\\details\\DetailsListItem.vue?vue&type=style&index=1&id=d2859054&prod&scoped=true&lang=css","webpack:///mediadc/src\\components\\details\\Pagination.vue?vue&type=style&index=0&id=07add7c2&prod&scoped=true&lang=css","webpack:///mediadc/src\\components\\tasks\\TasksEdit.vue?vue&type=style&index=0&id=d11ce3a6&prod&scoped=true&lang=css","webpack:///mediadc/src\\views\\CollectorDetails.vue?vue&type=style&index=0&id=a195a68e&prod&scoped=true&lang=css","webpack://mediadc/./node_modules/vue-material-design-icons/ContentCopy.vue?c47c","webpack:///mediadc/node_modules\\vue-material-design-icons\\ContentCopy.vue","webpack://mediadc/./node_modules/vue-material-design-icons/PlusThick.vue?2502","webpack:///mediadc/node_modules\\vue-material-design-icons\\PlusThick.vue","webpack://mediadc/./src/views/CollectorDetails.vue?28ef","webpack:///mediadc/node_modules\\vue-material-design-icons\\MinusBoxOutline.vue","webpack:///mediadc/node_modules\\vue-material-design-icons\\MinusBoxOutline.vue?vue&type=script&lang=js","webpack://mediadc/./node_modules/vue-material-design-icons/MinusBoxOutline.vue?355f","webpack:///mediadc/node_modules\\vue-material-design-icons\\MinusBoxOutline.vue?vue&type=template&id=8a801ca8","webpack:///mediadc/node_modules\\vue-material-design-icons\\CheckAll.vue","webpack:///mediadc/node_modules\\vue-material-design-icons\\CheckAll.vue?vue&type=script&lang=js","webpack://mediadc/./node_modules/vue-material-design-icons/CheckAll.vue?0e58","webpack:///mediadc/node_modules\\vue-material-design-icons\\CheckAll.vue?vue&type=template&id=a1309aae","webpack:///mediadc/node_modules\\vue-material-design-icons\\CheckUnderline.vue","webpack:///mediadc/node_modules\\vue-material-design-icons\\CheckUnderline.vue?vue&type=script&lang=js","webpack://mediadc/./node_modules/vue-material-design-icons/CheckUnderline.vue?abfa","webpack:///mediadc/node_modules\\vue-material-design-icons\\CheckUnderline.vue?vue&type=template&id=3e4cd1c0","webpack:///mediadc/src\\components\\details\\DetailsFile.vue","webpack:///mediadc/src\\components\\details\\DetailsFile.vue?vue&type=script&lang=js","webpack://mediadc/./src/components/details/DetailsFile.vue?ac0f","webpack://mediadc/./src/components/details/DetailsFile.vue?d5b4","webpack:///mediadc/src\\components\\details\\DetailsGroupList.vue?vue&type=script&lang=js","webpack:///mediadc/src\\components\\details\\DetailsGroupList.vue","webpack://mediadc/./src/components/details/DetailsFile.vue?c4d4","webpack://mediadc/./src/components/details/DetailsGroupList.vue?93ee","webpack://mediadc/./src/components/details/DetailsGroupList.vue?34c2","webpack://mediadc/./src/components/details/DetailsGroupList.vue?779d","webpack:///mediadc/src\\components\\details\\DetailsListItem.vue","webpack:///mediadc/src\\components\\details\\DetailsListItem.vue?vue&type=script&lang=js","webpack://mediadc/./src/components/details/DetailsListItem.vue?0867","webpack://mediadc/./src/components/details/DetailsListItem.vue?cf61","webpack://mediadc/./src/components/details/DetailsListItem.vue?df6d","webpack://mediadc/./src/components/details/DetailsListItem.vue?92f8","webpack:///mediadc/src\\components\\details\\Pagination.vue","webpack:///mediadc/src\\components\\details\\Pagination.vue?vue&type=script&lang=js","webpack://mediadc/./src/components/details/Pagination.vue?cec1","webpack://mediadc/./src/components/details/Pagination.vue?22e6","webpack://mediadc/./src/components/details/Pagination.vue?0118","webpack:///mediadc/src\\components\\details\\DetailsList.vue?vue&type=script&lang=js","webpack:///mediadc/src\\components\\details\\DetailsList.vue","webpack://mediadc/./src/components/details/DetailsList.vue?f33c","webpack://mediadc/./src/components/details/DetailsList.vue?03d0","webpack://mediadc/./src/components/details/DetailsList.vue?7cf9","webpack://mediadc/./src/components/tasks/TasksEdit.vue?b5e4","webpack:///mediadc/src\\components\\tasks\\TasksEdit.vue","webpack:///mediadc/src\\components\\tasks\\TasksEdit.vue?vue&type=script&lang=js","webpack://mediadc/./src/components/tasks/TasksEdit.vue?9085","webpack://mediadc/./src/components/tasks/TasksEdit.vue?db3b","webpack:///mediadc/src\\components\\details\\DetailsExport.vue","webpack:///mediadc/src\\components\\details\\DetailsExport.vue?vue&type=script&lang=js","webpack://mediadc/./src/components/details/DetailsExport.vue?b936","webpack://mediadc/./src/components/details/DetailsExport.vue?9e2c","webpack://mediadc/./src/components/details/DetailsExport.vue?c096","webpack:///mediadc/node_modules\\vue-material-design-icons\\FileExportOutline.vue","webpack:///mediadc/node_modules\\vue-material-design-icons\\FileExportOutline.vue?vue&type=script&lang=js","webpack://mediadc/./node_modules/vue-material-design-icons/FileExportOutline.vue?9351","webpack:///mediadc/node_modules\\vue-material-design-icons\\FileExportOutline.vue?vue&type=template&id=354fac6b","webpack:///mediadc/src\\views\\CollectorDetails.vue?vue&type=script&lang=js","webpack:///mediadc/src\\views\\CollectorDetails.vue","webpack://mediadc/./src/views/CollectorDetails.vue?f518","webpack://mediadc/./src/views/CollectorDetails.vue?5e70","webpack:///mediadc/node_modules\\vue-material-design-icons\\ContentCopy.vue?vue&type=script&lang=js","webpack:///mediadc/node_modules\\vue-material-design-icons\\PlusThick.vue?vue&type=script&lang=js","webpack:///mediadc/node_modules\\vue-material-design-icons\\ContentCopy.vue?vue&type=template&id=0e8bd3c4","webpack:///mediadc/node_modules\\vue-material-design-icons\\PlusThick.vue?vue&type=template&id=9f167876"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.fade-enter-active[data-v-59143620],\n.fade-leave-active[data-v-59143620] {\n\ttransition: opacity 250ms;\n}\n.fade-enter[data-v-59143620],\n.fade-leave-to[data-v-59143620] {\n\topacity: 0;\n}\n.fade-visibility-enter[data-v-59143620],\n.fade-visibility-leave-to[data-v-59143620] {\n\tvisibility: hidden;\n\topacity: 0;\n}\n.details-export-wrapper[data-v-59143620] {\n\tposition: fixed;\n\tz-index: 9998;\n\ttop: 0;\n\tleft: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 100%;\n\theight: 100%;\n}\n.details-export[data-v-59143620] {\n\tposition: relative;\n\tborder: 1px solid var(--color-border-dark);\n\tborder-radius: var(--border-radius-large);\n\tbox-shadow: 0 0 30px var(--color-box-shadow);\n\tpadding: 20px 20px 10px;\n\twidth: 100%;\n\tmax-width: 300px;\n\tmargin: auto;\n\tbackground-color: var(--color-main-background);\n}\n.details-export-close[data-v-59143620] {\n\tposition: absolute;\n\ttop: 10px;\n\tright: 5px;\n\tpadding: 25px;\n\tbackground: var(--icon-close-dark) no-repeat center;\n\topacity: .5;\n\tcursor: pointer;\n}\n.details-export-close[data-v-59143620]:hover {\n\topacity: 1;\n}\n.selection-container[data-v-59143620] {\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin: 10px auto;\n}\n@media (max-width: 540px) {\n.details-export[data-v-59143620] {\n\t\twidth: 90vw;\n\t\theight: 80vh;\n\t\toverflow-y: scroll;\n\t\ttop: calc(100% - 96vh);\n}\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/details/DetailsExport.vue\"],\"names\":[],\"mappings\":\";AAmFA;;CAEA,yBAAA;AACA;AAEA;;CAEA,UAAA;AACA;AAEA;;CAEA,kBAAA;CACA,UAAA;AACA;AAEA;CACA,eAAA;CACA,aAAA;CACA,MAAA;CACA,OAAA;CACA,aAAA;CACA,mBAAA;CACA,uBAAA;CACA,WAAA;CACA,YAAA;AAEA;AAEA;CACA,kBAAA;CACA,0CAAA;CACA,yCAAA;CACA,4CAAA;CACA,uBAAA;CACA,WAAA;CACA,gBAAA;CACA,YAAA;CACA,8CAAA;AACA;AAEA;CACA,kBAAA;CACA,SAAA;CACA,UAAA;CACA,aAAA;CACA,mDAAA;CACA,WAAA;CACA,eAAA;AACA;AAEA;CACA,UAAA;AACA;AAEA;CACA,aAAA;CACA,sBAAA;CACA,iBAAA;AACA;AAEA;AACA;EACA,WAAA;EACA,YAAA;EACA,kBAAA;EACA,sBAAA;AACA;AACA\",\"sourcesContent\":[\"<!--\\n - @copyright Copyright (c) 2022 Andrey Borysenko <andrey18106x@gmail.com>\\n -\\n - @copyright Copyright (c) 2022 Alexander Piskun <bigcat88@icloud.com>\\n -\\n - @author 2022 Andrey Borysenko <andrey18106x@gmail.com>\\n -\\n - @license AGPL-3.0-or-later\\n -\\n - This program is free software: you can redistribute it and/or modify\\n - it under the terms of the GNU Affero General Public License as\\n - published by the Free Software Foundation, either version 3 of the\\n - License, or (at your option) any later version.\\n -\\n - This program is distributed in the hope that it will be useful,\\n - but WITHOUT ANY WARRANTY; without even the implied warranty of\\n - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\\n - GNU Affero General Public License for more details.\\n -\\n - You should have received a copy of the GNU Affero General Public License\\n - along with this program. If not, see <http://www.gnu.org/licenses/>.\\n -\\n -->\\n\\n<template>\\n\\t<transition name=\\\"fade\\\">\\n\\t\\t<div class=\\\"details-export-wrapper\\\">\\n\\t\\t\\t<div class=\\\"details-export\\\">\\n\\t\\t\\t\\t<div class=\\\"details-export-close\\\" @click=\\\"closeExportResultsDialog()\\\" />\\n\\t\\t\\t\\t<h2>{{ t('mediadc', 'Export task results') }}</h2>\\n\\t\\t\\t\\t<div class=\\\"selection-container\\\">\\n\\t\\t\\t\\t\\t<label for=\\\"export-file-format\\\">{{ t('mediadc', 'Select export file format') }}</label>\\n\\t\\t\\t\\t\\t<select id=\\\"export-file-format\\\"\\n\\t\\t\\t\\t\\t\\tv-model=\\\"exportFileFormat\\\">\\n\\t\\t\\t\\t\\t\\t<option v-for=\\\"format in exportFormatOptions\\\" :key=\\\"format\\\" :value=\\\"format\\\">\\n\\t\\t\\t\\t\\t\\t\\t{{ format }}\\n\\t\\t\\t\\t\\t\\t</option>\\n\\t\\t\\t\\t\\t</select>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<NcButton :href=\\\"downloadExportUrl\\\">\\n\\t\\t\\t\\t\\t{{ t('mediadc', 'Export') }}\\n\\t\\t\\t\\t</NcButton>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</transition>\\n</template>\\n\\n<script>\\nimport { generateUrl } from '@nextcloud/router'\\n\\nimport { NcButton } from '@nextcloud/vue'\\n\\nexport default {\\n\\tname: 'DetailsExport',\\n\\tcomponents: {\\n\\t\\tNcButton,\\n\\t},\\n\\tprops: {\\n\\t\\ttask: {\\n\\t\\t\\ttype: Object,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\texportFormatOptions: ['xml', 'json'],\\n\\t\\t\\texportFileFormat: 'xml',\\n\\t\\t}\\n\\t},\\n\\tcomputed: {\\n\\t\\tdownloadExportUrl() {\\n\\t\\t\\treturn generateUrl(`/apps/mediadc/api/v1/tasks/${this.task.id}/export/${this.exportFileFormat}`)\\n\\t\\t},\\n\\t},\\n\\tmethods: {\\n\\t\\tcloseExportResultsDialog() {\\n\\t\\t\\tthis.$emit('update:opened', false)\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style scoped>\\n.fade-enter-active,\\n.fade-leave-active {\\n\\ttransition: opacity 250ms;\\n}\\n\\n.fade-enter,\\n.fade-leave-to {\\n\\topacity: 0;\\n}\\n\\n.fade-visibility-enter,\\n.fade-visibility-leave-to {\\n\\tvisibility: hidden;\\n\\topacity: 0;\\n}\\n\\n.details-export-wrapper {\\n\\tposition: fixed;\\n\\tz-index: 9998;\\n\\ttop: 0;\\n\\tleft: 0;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\n}\\n\\n.details-export {\\n\\tposition: relative;\\n\\tborder: 1px solid var(--color-border-dark);\\n\\tborder-radius: var(--border-radius-large);\\n\\tbox-shadow: 0 0 30px var(--color-box-shadow);\\n\\tpadding: 20px 20px 10px;\\n\\twidth: 100%;\\n\\tmax-width: 300px;\\n\\tmargin: auto;\\n\\tbackground-color: var(--color-main-background);\\n}\\n\\n.details-export-close {\\n\\tposition: absolute;\\n\\ttop: 10px;\\n\\tright: 5px;\\n\\tpadding: 25px;\\n\\tbackground: var(--icon-close-dark) no-repeat center;\\n\\topacity: .5;\\n\\tcursor: pointer;\\n}\\n\\n.details-export-close:hover {\\n\\topacity: 1;\\n}\\n\\n.selection-container {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tmargin: 10px auto;\\n}\\n\\n@media (max-width: 540px) {\\n\\t.details-export {\\n\\t\\twidth: 90vw;\\n\\t\\theight: 80vh;\\n\\t\\toverflow-y: scroll;\\n\\t\\ttop: calc(100% - 96vh);\\n\\t}\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.file.icon-loading .updating-blackout[data-v-4d8158fc] {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground: rgba(0, 0, 0, 0.7);\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tborder-radius: var(--border-radius-large);\n\tz-index: 1;\n}\n.file[data-v-4d8158fc] {\n\tdisplay: flex;\n\theight: 100%;\n\tflex-direction: column;\n\tjustify-content: space-between;\n\tborder: 1px solid var(--color-border-dark);\n\ttransition: box-shadow .3s;\n\tmargin: 10px;\n\tbackground-color: var(--color-background-dark);\n\tborder-radius: var(--border-radius-large);\n\toverflow: hidden;\n}\n.file-thumb-loaded[data-v-4d8158fc] {\n\tdisplay: flex;\n\twidth: 100%;\n\tborder-radius: var(--border-radius-large);\n}\n.file-thumb img[data-v-4d8158fc] {\n\twidth: 100%;\n\theight: auto;\n\tcursor: pointer;\n\tborder-radius: var(--border-radius-large);\n}\n.placeholder[data-v-4d8158fc] {\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: pointer;\n\tborder-radius: var(--border-radius-large);\n}\nbody[data-theme-dark] .placeholder[data-v-4d8158fc] {\n\tbackground-color: var(--color-loading-dark);\n}\n.file-info[data-v-4d8158fc] {\n\twidth: 100%;\n\tpadding: 5px 10px;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tbackground-color: var(--color-background-dark);\n\ttext-align: center;\n\tcolor: var(--color-main-text);\n}\n.filename[data-v-4d8158fc] {\n\twidth: 100%;\n\toverflow-x: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n.filepath[data-v-4d8158fc] {\n\twidth: 100%;\n\tline-break: anywhere;\n\tborder-bottom: 1px solid var(--color-border-dark);\n\tpadding-bottom: 5px;\n\tmargin-bottom: 5px;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/details/DetailsFile.vue\"],\"names\":[],\"mappings\":\";AA8SA;CACA,kBAAA;CACA,MAAA;CACA,OAAA;CACA,QAAA;CACA,SAAA;CACA,8BAAA;CACA,aAAA;CACA,mBAAA;CACA,uBAAA;CACA,yCAAA;CACA,UAAA;AACA;AAEA;CACA,aAAA;CACA,YAAA;CACA,sBAAA;CACA,8BAAA;CACA,0CAAA;CACA,0BAAA;CACA,YAAA;CACA,8CAAA;CACA,yCAAA;CACA,gBAAA;AACA;AAEA;CACA,aAAA;CACA,WAAA;CACA,yCAAA;AACA;AAEA;CACA,WAAA;CACA,YAAA;CACA,eAAA;CACA,yCAAA;AACA;AAEA;CACA,WAAA;CACA,YAAA;CACA,aAAA;CACA,mBAAA;CACA,uBAAA;CACA,eAAA;CACA,yCAAA;AACA;AAEA;CACA,2CAAA;AACA;AAEA;CACA,WAAA;CACA,iBAAA;CACA,aAAA;CACA,sBAAA;CACA,mBAAA;CACA,8CAAA;CACA,kBAAA;CACA,6BAAA;AACA;AAEA;CACA,WAAA;CACA,kBAAA;CACA,uBAAA;CACA,mBAAA;AACA;AAEA;CACA,WAAA;CACA,oBAAA;CACA,iDAAA;CACA,mBAAA;CACA,kBAAA;AACA\",\"sourcesContent\":[\"<!--\\n - @copyright Copyright (c) 2021-2022 Andrey Borysenko <andrey18106x@gmail.com>\\n -\\n - @copyright Copyright (c) 2021-2022 Alexander Piskun <bigcat88@icloud.com>\\n -\\n - @author 2021-2022 Andrey Borysenko <andrey18106x@gmail.com>\\n -\\n - @license AGPL-3.0-or-later\\n -\\n - This program is free software: you can redistribute it and/or modify\\n - it under the terms of the GNU Affero General Public License as\\n - published by the Free Software Foundation, either version 3 of the\\n - License, or (at your option) any later version.\\n -\\n - This program is distributed in the hope that it will be useful,\\n - but WITHOUT ANY WARRANTY; without even the implied warranty of\\n - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\\n - GNU Affero General Public License for more details.\\n -\\n - You should have received a copy of the GNU Affero General Public License\\n - along with this program. If not, see <http://www.gnu.org/licenses/>.\\n -\\n -->\\n\\n<template>\\n\\t<div class=\\\"file\\\" :class=\\\"{'icon-loading': updating}\\\" :style=\\\"'width: ' + detailsGridSize + 'px;'\\\">\\n\\t\\t<div v-if=\\\"updating\\\" class=\\\"updating-blackout\\\" />\\n\\t\\t<div class=\\\"file-thumb\\\" @click=\\\"openFile(file)\\\">\\n\\t\\t\\t<div v-show=\\\"loaded\\\"\\n\\t\\t\\t\\tv-if=\\\"file.filempart === 'image' || (file.filempart === 'video' && file.has_preview)\\\"\\n\\t\\t\\t\\tclass=\\\"file-thumb-loaded\\\">\\n\\t\\t\\t\\t<img v-show=\\\"loaded\\\"\\n\\t\\t\\t\\t\\t:key=\\\"file.filepath\\\"\\n\\t\\t\\t\\t\\t:src=\\\"imageUrl\\\"\\n\\t\\t\\t\\t\\t:alt=\\\"file.filename\\\"\\n\\t\\t\\t\\t\\t:title=\\\"file.filepath\\\"\\n\\t\\t\\t\\t\\t@load=\\\"onLoad\\\">\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-show=\\\"!loaded && file.filempart === 'video'\\\"\\n\\t\\t\\t\\tclass=\\\"placeholder\\\"\\n\\t\\t\\t\\t:style=\\\"'min-height: ' + detailsGridSize + 'px'\\\"\\n\\t\\t\\t\\t:title=\\\"file.filepath\\\">\\n\\t\\t\\t\\t<svg width=\\\"50%\\\"\\n\\t\\t\\t\\t\\theight=\\\"50%\\\"\\n\\t\\t\\t\\t\\tversion=\\\"1.1\\\"\\n\\t\\t\\t\\t\\tviewBox=\\\"-31 0 512 512\\\"\\n\\t\\t\\t\\t\\txmlns=\\\"http://www.w3.org/2000/svg\\\">\\n\\t\\t\\t\\t\\t<path d=\\\"m440.59 206.68h-341.17l327.7-94.93c2.5469-0.73828 4.6953-2.4609 5.9766-4.7812 1.2812-2.3242 1.5859-5.0586 0.84766-7.6055l-17.148-59.199c-6.8516-23.645-28.867-40.16-53.539-40.16-5.1992 0-10.379 0.73828-15.402 2.1914l-307.68 89.129c-14.23 4.1211-26.023 13.582-33.215 26.633-7.1875 13.051-8.875 28.078-4.7539 42.305l16.754 57.836v238.25c0 30.688 24.965 55.652 55.648 55.652h120.16c5.5234 0 10-4.4766 10-10s-4.4766-10-10-10h-120.16c-19.66 0-35.652-15.992-35.652-35.652v-136.09h391.63v136.09c2.1e-4 19.66-15.992 35.652-35.652 35.652h-120.16c-5.5195 0-10 4.4766-10 10s4.4805 10 10 10h120.16c30.688 0 55.652-24.965 55.652-55.652v-239.67c0-5.5234-4.4766-10-10-10zm-176.33 93.586 42.488-73.586h55.262l-42.484 73.586zm-78.359 0 42.488-73.586h55.262l-42.484 73.586zm-78.355 0 42.484-73.586h55.266l-42.488 73.586zm37.18-129.46-71.148-68.336 53.309-15.441c0.375 0.54688 0.8125 1.0625 1.3125 1.543l71.148 68.336-53.309 15.441c-0.375-0.54688-0.81641-1.0664-1.3125-1.543zm134-125.84 71.148 68.336-53.309 15.441c-0.375-0.54688-0.8125-1.0664-1.3125-1.543l-71.148-68.336 53.309-15.441c0.375 0.54688 0.8125 1.0625 1.3125 1.543zm-75.266 21.805 71.148 68.332-53.309 15.445c-0.375-0.54687-0.8125-1.0664-1.3125-1.543l-71.148-68.336 53.309-15.441c0.37891 0.54297 0.81641 1.0625 1.3125 1.543zm149.96-45.367c3.2109-0.92969 6.5195-1.4023 9.8359-1.4023 15.824 0 29.938 10.578 34.328 25.727l14.367 49.59-40.121 11.621c-0.3789-0.54688-0.8164-1.0625-1.3164-1.543l-71.145-68.332zm-328.94 106.2c4.6094-8.3711 12.16-14.434 21.262-17.07l5.875-1.7031c0.37891 0.54688 0.81641 1.0664 1.3125 1.543l71.148 68.336-88.293 25.578-14.367-49.59c-2.6367-9.0976-1.5469-18.719 3.0625-27.094zm14.48 99.074h87.973l-42.484 73.586h-45.488zm303.66 73.586 42.484-73.586h45.488v73.586z\\\" />\\n\\t\\t\\t\\t\\t<path d=\\\"m303.92 405.11c0-3.5742-1.9062-6.875-5-8.6602l-87.855-50.723c-3.0938-1.7852-6.9062-1.7852-10 0-3.0938 1.7852-5 5.0859-5 8.6602v101.45c0 3.5703 1.9062 6.8711 5 8.6562 1.5469 0.89453 3.2734 1.3438 5 1.3438 1.7266 0 3.4531-0.44922 5-1.3438l87.855-50.719c3.0938-1.7852 5-5.0859 5-8.6602zm-87.855 33.402v-66.805l57.855 33.402z\\\" />\\n\\t\\t\\t\\t\\t<path d=\\\"m234.77 492c-5.5078 0-10 4.4922-10 10s4.4922 10 10 10c5.5117 0 10-4.4922 10-10s-4.4883-10-10-10z\\\" />\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-show=\\\"!loaded && file.filempart === 'image'\\\"\\n\\t\\t\\t\\tclass=\\\"placeholder\\\"\\n\\t\\t\\t\\t:style=\\\"'min-height: ' + detailsGridSize + 'px'\\\"\\n\\t\\t\\t\\t:title=\\\"file.filepath\\\">\\n\\t\\t\\t\\t<svg width=\\\"50%\\\"\\n\\t\\t\\t\\t\\tenable-background=\\\"new 0 0 512 512\\\"\\n\\t\\t\\t\\t\\tversion=\\\"1.1\\\"\\n\\t\\t\\t\\t\\tviewBox=\\\"0 0 512 512\\\"\\n\\t\\t\\t\\t\\txml:space=\\\"preserve\\\"\\n\\t\\t\\t\\t\\txmlns=\\\"http://www.w3.org/2000/svg\\\">\\n\\t\\t\\t\\t\\t<path d=\\\"m446.58 0h-381.15c-36.076 0-65.425 29.35-65.425 65.426v381.15c0 36.075 29.349 65.425 65.425 65.425h381.15c36.076 0 65.425-29.35 65.425-65.426v-381.15c0-36.076-29.349-65.426-65.425-65.426zm35.267 446.58c0 19.447-15.821 35.267-35.267 35.267h-381.15c-19.447 0-35.268-15.821-35.268-35.267v-55.007l99.255-84.451c3.622-3.082 8.906-3.111 12.562-0.075l62.174 51.628c5.995 4.977 14.795 4.569 20.304-0.946l147.73-147.95c2.67-2.675 5.783-2.935 7.408-2.852 1.62 0.083 4.695 0.661 7.078 3.596l95.176 117.19v118.87zm0-166.71-71.766-88.366c-7.117-8.764-17.666-14.122-28.942-14.701-11.268-0.57-22.317 3.672-30.294 11.662l-138.01 138.22-51.59-42.839c-14.959-12.422-36.563-12.293-51.373 0.308l-79.712 67.822v-286.55c0-19.447 15.821-35.268 35.268-35.268h381.15c19.447 0 35.267 15.821 35.267 35.268v214.44z\\\" />\\n\\t\\t\\t\\t\\t<path d=\\\"m161.17 62.995c-40.095 0-72.713 32.62-72.713 72.713 0 40.094 32.619 72.713 72.713 72.713s72.713-32.619 72.713-72.713-32.618-72.713-72.713-72.713zm0 115.27c-23.466 0-42.556-19.091-42.556-42.556 0-23.466 19.09-42.556 42.556-42.556s42.556 19.091 42.556 42.556-19.09 42.556-42.556 42.556z\\\" />\\n\\t\\t\\t\\t</svg>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div class=\\\"file-info\\\">\\n\\t\\t\\t<span :class=\\\"{ filename: !showFullFilePath, filepath: showFullFilePath }\\\" :title=\\\"file.filepath\\\">{{ !showFullFilePath ? file.filename : file.filepath }}</span>\\n\\t\\t\\t<span class=\\\"owner\\\">{{ file.fileowner }}</span>\\n\\t\\t\\t<span class=\\\"size\\\" :title=\\\"file.filesize + ' B'\\\">{{ formatBytes(Number(file.filesize)) }}</span>\\n\\t\\t\\t<div class=\\\"actions\\\" style=\\\"display: flex;\\\">\\n\\t\\t\\t\\t<NcCheckboxRadioSwitch v-tooltip=\\\"{ content: t('mediadc', 'Select file'), placement: 'top' }\\\"\\n\\t\\t\\t\\t\\tclass=\\\"mediadc-checkbox-only\\\"\\n\\t\\t\\t\\t\\t:checked.sync=\\\"checked\\\" />\\n\\t\\t\\t\\t<NcButton v-tooltip=\\\"{ content: t('mediadc', 'Delete file'), placement: 'top' }\\\"\\n\\t\\t\\t\\t\\ttype=\\\"tertiary\\\"\\n\\t\\t\\t\\t\\t:aria-label=\\\"t('mediadc', 'Delete file')\\\"\\n\\t\\t\\t\\t\\t@click=\\\"deleteGroupFile(file)\\\">\\n\\t\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t\\t<span class=\\\"icon-delete\\\" />\\n\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t</NcButton>\\n\\t\\t\\t\\t<NcButton v-tooltip=\\\"{ content: t('mediadc', 'Remove file (mark resolved)'), placement: 'top' }\\\"\\n\\t\\t\\t\\t\\ttype=\\\"tertiary\\\"\\n\\t\\t\\t\\t\\t:aria-label=\\\"t('mediadc', 'Remove file (mark resolved)')\\\"\\n\\t\\t\\t\\t\\t@click=\\\"removeGroupFile(file)\\\">\\n\\t\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t\\t<span class=\\\"icon-close\\\" />\\n\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t</NcButton>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport axios from '@nextcloud/axios'\\nimport { getCurrentUser } from '@nextcloud/auth'\\nimport { emit, subscribe, unsubscribe } from '@nextcloud/event-bus'\\nimport { showError, showMessage, showWarning } from '@nextcloud/dialogs'\\nimport { generateRemoteUrl, generateUrl } from '@nextcloud/router'\\n\\nimport { NcButton, NcCheckboxRadioSwitch } from '@nextcloud/vue'\\n\\nimport { mapGetters } from 'vuex'\\n\\nimport Formats from '../../mixins/Formats.js'\\n\\nexport default {\\n\\tname: 'DetailsFile',\\n\\tcomponents: {\\n\\t\\tNcButton,\\n\\t\\tNcCheckboxRadioSwitch,\\n\\t},\\n\\tmixins: [Formats],\\n\\tprops: {\\n\\t\\tfile: {\\n\\t\\t\\ttype: Object,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tfiles: {\\n\\t\\t\\ttype: Array,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tallFiles: {\\n\\t\\t\\ttype: Array,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tcheckedFiles: {\\n\\t\\t\\ttype: Array,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tdetail: {\\n\\t\\t\\ttype: Object,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tloaded: false,\\n\\t\\t\\tchecked: false,\\n\\t\\t\\tupdating: false,\\n\\t\\t}\\n\\t},\\n\\tcomputed: {\\n\\t\\t...mapGetters([\\n\\t\\t\\t'detailsGridSize',\\n\\t\\t\\t'deleteFileConfirmation',\\n\\t\\t\\t'showFullFilePath',\\n\\t\\t\\t'details',\\n\\t\\t]),\\n\\t\\timageUrl() {\\n\\t\\t\\tif (this.file.has_preview) {\\n\\t\\t\\t\\treturn generateUrl(`/core/preview?fileId=${this.file.fileid}&x=${this.detailsGridSize}&y=${this.detailsGridSize}$forceIcon=0`)\\n\\t\\t\\t} else {\\n\\t\\t\\t\\treturn generateRemoteUrl(`dav/files${this.file.filepath.replace('files/', '')}`)\\n\\t\\t\\t}\\n\\t\\t},\\n\\t},\\n\\twatch: {\\n\\t\\tchecked() {\\n\\t\\t\\tconst newCheckedFiles = this.checkedFiles\\n\\t\\t\\tconst fileIndex = newCheckedFiles.findIndex(f => f.fileid === this.file.fileid)\\n\\t\\t\\tif (this.checked) {\\n\\t\\t\\t\\tif (fileIndex === -1) {\\n\\t\\t\\t\\t\\tnewCheckedFiles.push(this.file)\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else if (fileIndex !== -1) {\\n\\t\\t\\t\\tnewCheckedFiles.splice(fileIndex, 1)\\n\\t\\t\\t}\\n\\t\\t\\tthis.$emit('update:checkedFiles', newCheckedFiles)\\n\\t\\t},\\n\\t\\tcheckedFiles() {\\n\\t\\t\\tconst fileIndex = this.checkedFiles.findIndex(f => f.fileid === this.file.fileid)\\n\\t\\t\\tif (!this.checked && fileIndex !== -1) {\\n\\t\\t\\t\\tthis.checked = true\\n\\t\\t\\t}\\n\\t\\t},\\n\\t},\\n\\tbeforeMount() {\\n\\t\\tconst fileIndexChecked = this.checkedFiles.findIndex(f => f.fileid === this.file.fileid)\\n\\t\\tthis.checked = fileIndexChecked !== -1\\n\\t\\tsubscribe('deselectFiles', this.deselect)\\n\\t},\\n\\tbeforeDestroy() {\\n\\t\\tunsubscribe('deselectFiles', this.deselect)\\n\\t},\\n\\tmethods: {\\n\\t\\topenFile(file) {\\n\\t\\t\\tconst filesList = this.files.map(file => ({\\n\\t\\t\\t\\tbasename: file.filename,\\n\\t\\t\\t\\tfileid: file.fileid,\\n\\t\\t\\t\\tfilename: file.filepath.replace(`/${getCurrentUser().uid}/files`, '').replace('files/', '/'),\\n\\t\\t\\t\\tgetcontentlength: file.filesize,\\n\\t\\t\\t\\tgetcontenttype: file.filemtype,\\n\\t\\t\\t\\tmime: file.filemtype,\\n\\t\\t\\t\\tsize: file.filesize,\\n\\t\\t\\t}))\\n\\t\\t\\tOCA.Viewer.open({\\n\\t\\t\\t\\tpath: file.filepath.replace(`/${getCurrentUser().uid}/files`, '').replace('files/', '/'),\\n\\t\\t\\t\\tlist: filesList.map(file => ({\\n\\t\\t\\t\\t\\t...file,\\n\\t\\t\\t\\t\\tlist: filesList,\\n\\t\\t\\t\\t})),\\n\\t\\t\\t})\\n\\t\\t},\\n\\t\\tonLoad() {\\n\\t\\t\\tthis.loaded = true\\n\\t\\t},\\n\\t\\tdeleteGroupFile(file) {\\n\\t\\t\\tif (this.deleteFileConfirmation) {\\n\\t\\t\\t\\tconst self = this\\n\\t\\t\\t\\tOC.dialogs.confirm(this.t('mediadc', 'Are you sure you want to delete this file?'),\\n\\t\\t\\t\\t\\tthis.t('mediadc', 'Confirm file deletion'), function(success) {\\n\\t\\t\\t\\t\\t\\tif (success) {\\n\\t\\t\\t\\t\\t\\t\\tself._deleteGroupFile(file)\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t})\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tthis._deleteGroupFile(file)\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t_deleteGroupFile(file) {\\n\\t\\t\\tthis.updating = true\\n\\t\\t\\taxios.delete(generateUrl(`/apps/mediadc/api/v1/tasks/${this.detail.task_id}/files/${this.detail.group_id}/${file.fileid}`))\\n\\t\\t\\t\\t.then(res => {\\n\\t\\t\\t\\t\\tif (res.data.success) {\\n\\t\\t\\t\\t\\t\\tconst files = this.files\\n\\t\\t\\t\\t\\t\\tif (this.allFiles.length === 2) { // Remove detail when 1 file left\\n\\t\\t\\t\\t\\t\\t\\temit('openNextDetailGroup', this.detail)\\n\\t\\t\\t\\t\\t\\t\\tthis.$store.commit('deleteDetail', this.detail)\\n\\t\\t\\t\\t\\t\\t\\tshowMessage(this.t('mediadc', 'Group successfully removed (1 file left)'))\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tconst fileidIndex = files.findIndex(f => f.fileid === file.fileid)\\n\\t\\t\\t\\t\\t\\tfiles.splice(fileidIndex, 1)\\n\\t\\t\\t\\t\\t\\tconst checkedIndex = this.checkedFiles.findIndex(f => f.fileid === file.fileid)\\n\\t\\t\\t\\t\\t\\tif (this.checked && checkedIndex !== -1) {\\n\\t\\t\\t\\t\\t\\t\\tconst newCheckedFiles = this.checkedFiles\\n\\t\\t\\t\\t\\t\\t\\tnewCheckedFiles.splice(checkedIndex, 1)\\n\\t\\t\\t\\t\\t\\t\\tthis.$emit('update:checkedFiles', newCheckedFiles)\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tthis.$emit('update:files', files)\\n\\t\\t\\t\\t\\t\\temit('updateTaskInfo')\\n\\t\\t\\t\\t\\t\\tthis.$store.commit('setTask', res.data.task)\\n\\t\\t\\t\\t\\t\\temit('updateGroupFilesPagination', this.file)\\n\\t\\t\\t\\t\\t} else if ('locked' in res.data && res.data.locked) {\\n\\t\\t\\t\\t\\t\\tshowWarning(this.t('mediadc', 'Wait until file has been loaded before deleting it'))\\n\\t\\t\\t\\t\\t} else if ('not_permitted' in res.data && res.data.not_permited) {\\n\\t\\t\\t\\t\\t\\tshowError(this.t('mediadc', 'Not enough permissions to delete the file'))\\n\\t\\t\\t\\t\\t} else if ('not_found' in res.data && res.data.not_found) {\\n\\t\\t\\t\\t\\t\\tshowError(this.t('mediadc', 'File not found. Probably it\\\\'s has been already deleted'))\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tshowError(this.t('mediadc', 'An error occurred while deleting the file'))\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tthis.updating = false\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\t.catch(err => {\\n\\t\\t\\t\\t\\tconsole.debug(err)\\n\\t\\t\\t\\t\\tshowError(this.t('mediadc', 'An error occurred while deleting the file'))\\n\\t\\t\\t\\t\\tthis.updating = false\\n\\t\\t\\t\\t})\\n\\t\\t},\\n\\t\\tremoveGroupFile(file) {\\n\\t\\t\\tthis.updating = true\\n\\t\\t\\taxios.post(generateUrl(`/apps/mediadc/api/v1/tasks/${this.detail.task_id}/files/${this.detail.group_id}/remove`), { fileIds: [file.fileid] }).then(res => {\\n\\t\\t\\t\\tif (res.data.success) {\\n\\t\\t\\t\\t\\tconst files = this.files\\n\\t\\t\\t\\t\\tif (this.allFiles.length === 2) { // Remove detail when 1 file left\\n\\t\\t\\t\\t\\t\\temit('openNextDetailGroup', this.detail)\\n\\t\\t\\t\\t\\t\\tthis.$store.commit('deleteDetail', this.detail)\\n\\t\\t\\t\\t\\t\\tshowMessage(this.t('mediadc', 'Group successfully removed (1 file left)'))\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tconst fileidIndex = files.findIndex(f => f.fileid === file.fileid)\\n\\t\\t\\t\\t\\tfiles.splice(fileidIndex, 1)\\n\\t\\t\\t\\t\\tconst checkedIndex = this.checkedFiles.findIndex(f => f.fileid === file.fileid)\\n\\t\\t\\t\\t\\tif (this.checked && checkedIndex !== -1) {\\n\\t\\t\\t\\t\\t\\tconst newCheckedFiles = this.checkedFiles\\n\\t\\t\\t\\t\\t\\tnewCheckedFiles.splice(checkedIndex, 1)\\n\\t\\t\\t\\t\\t\\tthis.$emit('update:checkedFiles', newCheckedFiles)\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tthis.$emit('update:files', files)\\n\\t\\t\\t\\t\\temit('updateTaskInfo')\\n\\t\\t\\t\\t\\temit('updateGroupFilesPagination', this.file)\\n\\t\\t\\t\\t\\tthis.updating = false\\n\\t\\t\\t\\t}\\n\\t\\t\\t}).catch(err => {\\n\\t\\t\\t\\tconsole.debug(err)\\n\\t\\t\\t\\tshowError(this.t('mediadc', 'A server error occurred'))\\n\\t\\t\\t\\tthis.updating = false\\n\\t\\t\\t})\\n\\t\\t},\\n\\t\\tdeselect(filesToDeselect) {\\n\\t\\t\\tif (this.checked && filesToDeselect.map(f => f.fileid).includes(this.file.fileid)) {\\n\\t\\t\\t\\tthis.checked = false\\n\\t\\t\\t}\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style scoped>\\n.file.icon-loading .updating-blackout {\\n\\tposition: absolute;\\n\\ttop: 0;\\n\\tleft: 0;\\n\\tright: 0;\\n\\tbottom: 0;\\n\\tbackground: rgba(0, 0, 0, 0.7);\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tborder-radius: var(--border-radius-large);\\n\\tz-index: 1;\\n}\\n\\n.file {\\n\\tdisplay: flex;\\n\\theight: 100%;\\n\\tflex-direction: column;\\n\\tjustify-content: space-between;\\n\\tborder: 1px solid var(--color-border-dark);\\n\\ttransition: box-shadow .3s;\\n\\tmargin: 10px;\\n\\tbackground-color: var(--color-background-dark);\\n\\tborder-radius: var(--border-radius-large);\\n\\toverflow: hidden;\\n}\\n\\n.file-thumb-loaded {\\n\\tdisplay: flex;\\n\\twidth: 100%;\\n\\tborder-radius: var(--border-radius-large);\\n}\\n\\n.file-thumb img {\\n\\twidth: 100%;\\n\\theight: auto;\\n\\tcursor: pointer;\\n\\tborder-radius: var(--border-radius-large);\\n}\\n\\n.placeholder {\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\tcursor: pointer;\\n\\tborder-radius: var(--border-radius-large);\\n}\\n\\nbody[data-theme-dark] .placeholder {\\n\\tbackground-color: var(--color-loading-dark);\\n}\\n\\n.file-info {\\n\\twidth: 100%;\\n\\tpadding: 5px 10px;\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\talign-items: center;\\n\\tbackground-color: var(--color-background-dark);\\n\\ttext-align: center;\\n\\tcolor: var(--color-main-text);\\n}\\n\\n.filename {\\n\\twidth: 100%;\\n\\toverflow-x: hidden;\\n\\ttext-overflow: ellipsis;\\n\\twhite-space: nowrap;\\n}\\n\\n.filepath {\\n\\twidth: 100%;\\n\\tline-break: anywhere;\\n\\tborder-bottom: 1px solid var(--color-border-dark);\\n\\tpadding-bottom: 5px;\\n\\tmargin-bottom: 5px;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.details-group[data-v-3ed04696] {\n\twidth: 100%;\n\tborder-top: 1px solid var(--color-border-dark);\n\tborder-bottom: 1px solid var(--color-border-dark);\n\tmargin: 10px 0;\n}\n.details-group-files[data-v-3ed04696] {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tjustify-content: center;\n\tmax-height: 100vh;\n\toverflow-y: scroll;\n}\n@media (max-width: 540px) {\n.file[data-v-3ed04696] {\n\t\tmax-width: 192px;\n}\n.filters[data-v-3ed04696] {\n\t\tflex-direction: column;\n}\n}\n.file[data-v-3ed04696]:hover {\n\tbox-shadow: 0 0 10px 0 rgba(0, 0, 0, .25);\n}\n.filters[data-v-3ed04696] {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: 5px 10px;\n\tmargin: 10px 0;\n\tborder: 1px solid var(--color-border-dark);\n\tborder-radius: var(--border-radius-large);\n}\n.search[data-v-3ed04696] {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n.sorting[data-v-3ed04696] {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n.batch-editing[data-v-3ed04696] {\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n.batch-actions-menu-button[data-v-3ed04696] {\n\tpadding: 20px;\n\tborder-radius: 50%;\n\tcursor: pointer;\n\tuser-select: none;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/details/DetailsGroupList.vue\"],\"names\":[],\"mappings\":\";AA4UA;CACA,WAAA;CACA,8CAAA;CACA,iDAAA;CACA,cAAA;AACA;AAEA;CACA,aAAA;CACA,eAAA;CACA,uBAAA;CACA,iBAAA;CACA,kBAAA;AACA;AAEA;AACA;EACA,gBAAA;AACA;AAEA;EACA,sBAAA;AACA;AACA;AAEA;CACA,yCAAA;AACA;AAEA;CACA,aAAA;CACA,mBAAA;CACA,8BAAA;CACA,iBAAA;CACA,cAAA;CACA,0CAAA;CACA,yCAAA;AACA;AAEA;CACA,aAAA;CACA,mBAAA;CACA,uBAAA;AACA;AAEA;CACA,aAAA;CACA,mBAAA;CACA,uBAAA;AACA;AAEA;CACA,kBAAA;CACA,aAAA;CACA,mBAAA;CACA,uBAAA;AACA;AAEA;CACA,aAAA;CACA,kBAAA;CACA,eAAA;CACA,iBAAA;AACA\",\"sourcesContent\":[\"<!--\\n - @copyright Copyright (c) 2021-2022 Andrey Borysenko <andrey18106x@gmail.com>\\n -\\n - @copyright Copyright (c) 2021-2022 Alexander Piskun <bigcat88@icloud.com>\\n -\\n - @author 2021-2022 Andrey Borysenko <andrey18106x@gmail.com>\\n -\\n - @license AGPL-3.0-or-later\\n -\\n - This program is free software: you can redistribute it and/or modify\\n - it under the terms of the GNU Affero General Public License as\\n - published by the Free Software Foundation, either version 3 of the\\n - License, or (at your option) any later version.\\n -\\n - This program is distributed in the hope that it will be useful,\\n - but WITHOUT ANY WARRANTY; without even the implied warranty of\\n - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\\n - GNU Affero General Public License for more details.\\n -\\n - You should have received a copy of the GNU Affero General Public License\\n - along with this program. If not, see <http://www.gnu.org/licenses/>.\\n -\\n -->\\n\\n<template>\\n\\t<div v-if=\\\"!loadingFiles\\\" class=\\\"details-group\\\">\\n\\t\\t<div class=\\\"filters\\\">\\n\\t\\t\\t<div class=\\\"sorting\\\">\\n\\t\\t\\t\\t{{ t('mediadc', 'Files size sorting') }}\\n\\t\\t\\t\\t<NcButton type=\\\"tertiary\\\"\\n\\t\\t\\t\\t\\t:aria-label=\\\"t('mediadc', 'Toggle files size sorting')\\\"\\n\\t\\t\\t\\t\\tstyle=\\\"margin: 0 10px;\\\"\\n\\t\\t\\t\\t\\t@click=\\\"updateFileSorting\\\">\\n\\t\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t\\t<span :class=\\\"filesAscending ? 'icon-triangle-s sorting-group-files-btn' : 'icon-triangle-n sorting-group-files-btn'\\\" />\\n\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t</NcButton>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"search\\\">\\n\\t\\t\\t\\t<label for=\\\"filename-filter\\\">\\n\\t\\t\\t\\t\\t{{ t('mediadc', 'Filter by filename: ') }}\\n\\t\\t\\t\\t\\t<input id=\\\"filename-filter\\\"\\n\\t\\t\\t\\t\\t\\tv-model=\\\"filterFileName\\\"\\n\\t\\t\\t\\t\\t\\ttype=\\\"search\\\"\\n\\t\\t\\t\\t\\t\\tname=\\\"filename-filter\\\"\\n\\t\\t\\t\\t\\t\\t:placeholder=\\\"t('mediadc', 'Filename or part')\\\"\\n\\t\\t\\t\\t\\t\\t@input=\\\"filterByFileName\\\">\\n\\t\\t\\t\\t</label>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-if=\\\"checkedFiles.length > 0\\\" class=\\\"batch-editing\\\">\\n\\t\\t\\t\\t{{ n('mediadc', 'Batch actions for %n file', 'Batch actions for %n files', checkedFiles.length) }}\\n\\t\\t\\t\\t<NcActions placement=\\\"left\\\" style=\\\"margin-left: 5px;\\\">\\n\\t\\t\\t\\t\\t<NcActionButton v-tooltip=\\\"{content: t('mediadc', 'Select all files in a group'), placement: 'left'}\\\"\\n\\t\\t\\t\\t\\t\\ticon=\\\"icon-checkmark\\\"\\n\\t\\t\\t\\t\\t\\t@click=\\\"selectAllFiles\\\">\\n\\t\\t\\t\\t\\t\\t{{ checkedFiles.length === allFiles.length ? t('mediadc', 'Deselect all') : t('mediadc', 'Select all') }}\\n\\t\\t\\t\\t\\t</NcActionButton>\\n\\t\\t\\t\\t\\t<NcActionButton v-if=\\\"detail.files.length > groupItemsPerPage\\\"\\n\\t\\t\\t\\t\\t\\ticon=\\\"icon-checkmark\\\"\\n\\t\\t\\t\\t\\t\\t@click=\\\"selectAllFilesOnPage\\\">\\n\\t\\t\\t\\t\\t\\t{{ checkedFilesIntersect.length === files.length ? t('mediadc', 'Deselect all on page') : t('mediadc', 'Select all on page') }}\\n\\t\\t\\t\\t\\t</NcActionButton>\\n\\t\\t\\t\\t\\t<NcActionButton v-tooltip=\\\"{content: t('mediadc', 'Mark as resolved without deleting'), placement: 'left'}\\\"\\n\\t\\t\\t\\t\\t\\ticon=\\\"icon-close\\\"\\n\\t\\t\\t\\t\\t\\t@click=\\\"removeCheckedFiles\\\">\\n\\t\\t\\t\\t\\t\\t{{ n('mediadc', 'Remove file', 'Remove files', checkedFiles.length) }}\\n\\t\\t\\t\\t\\t</NcActionButton>\\n\\t\\t\\t\\t\\t<NcActionButton v-tooltip=\\\"{content: n('mediadc', 'Delete selected file', 'Delete selected files', checkedFiles.length), placement: 'left'}\\\"\\n\\t\\t\\t\\t\\t\\ticon=\\\"icon-delete\\\"\\n\\t\\t\\t\\t\\t\\t@click=\\\"deleteCheckedFiles\\\">\\n\\t\\t\\t\\t\\t\\t{{ n('mediadc', 'Delete file', 'Delete files', checkedFiles.length) }}\\n\\t\\t\\t\\t\\t</NcActionButton>\\n\\t\\t\\t\\t</NcActions>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div v-if=\\\"!filesFiltered\\\" class=\\\"details-group-files\\\">\\n\\t\\t\\t<DetailsFile v-for=\\\"file in files\\\"\\n\\t\\t\\t\\t:key=\\\"file.fileid\\\"\\n\\t\\t\\t\\t:file=\\\"file\\\"\\n\\t\\t\\t\\t:files=\\\"files\\\"\\n\\t\\t\\t\\t:all-files=\\\"allFiles\\\"\\n\\t\\t\\t\\t:checked-files.sync=\\\"checkedFiles\\\"\\n\\t\\t\\t\\t:detail=\\\"detail\\\" />\\n\\t\\t</div>\\n\\t\\t<div v-else-if=\\\"filteredFiles.length > 0\\\" class=\\\"details-group-files\\\">\\n\\t\\t\\t<DetailsFile v-for=\\\"file in filteredFiles\\\"\\n\\t\\t\\t\\t:key=\\\"file.fileid\\\"\\n\\t\\t\\t\\t:file=\\\"file\\\"\\n\\t\\t\\t\\t:files=\\\"files\\\"\\n\\t\\t\\t\\t:all-files=\\\"allFiles\\\"\\n\\t\\t\\t\\t:checked-files.sync=\\\"checkedFiles\\\"\\n\\t\\t\\t\\t:detail=\\\"detail\\\" />\\n\\t\\t</div>\\n\\t\\t<div v-else class=\\\"details-group-files\\\">\\n\\t\\t\\t<p style=\\\"margin: 0 0 10px;\\\">\\n\\t\\t\\t\\t{{ t('mediadc', 'No matches on this page') }}\\n\\t\\t\\t</p>\\n\\t\\t</div>\\n\\t</div>\\n\\t<div v-else>\\n\\t\\t<span class=\\\"icon-loading\\\" style=\\\"width: 20px; height: 20px; display: flex; margin: 20px auto;\\\" />\\n\\t</div>\\n</template>\\n\\n<script>\\nimport axios from '@nextcloud/axios'\\nimport { mapGetters } from 'vuex'\\nimport { showError, showMessage, showSuccess, showWarning } from '@nextcloud/dialogs'\\nimport { generateUrl } from '@nextcloud/router'\\nimport { emit } from '@nextcloud/event-bus'\\n\\nimport { NcActions, NcActionButton, NcButton } from '@nextcloud/vue'\\n\\nimport Formats from '../../mixins/Formats.js'\\nimport DetailsFile from './DetailsFile.vue'\\n\\nexport default {\\n\\tname: 'DetailsGroupList',\\n\\tcomponents: {\\n\\t\\tDetailsFile,\\n\\t\\tNcActions,\\n\\t\\tNcActionButton,\\n\\t\\tNcButton,\\n\\t},\\n\\tmixins: [Formats],\\n\\tprops: {\\n\\t\\tfiles: {\\n\\t\\t\\ttype: Array,\\n\\t\\t\\trequired: true,\\n\\t\\t\\tdefault: () => [],\\n\\t\\t},\\n\\t\\tallFiles: {\\n\\t\\t\\ttype: Array,\\n\\t\\t\\trequired: true,\\n\\t\\t\\tdefault: () => [],\\n\\t\\t},\\n\\t\\tdetail: {\\n\\t\\t\\ttype: Object,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tloadingFiles: {\\n\\t\\t\\ttype: Boolean,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tupdating: {\\n\\t\\t\\ttype: Boolean,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tfilesAscending: {\\n\\t\\t\\ttype: Boolean,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tcheckedFiles: [],\\n\\t\\t\\tbatchActionsOpened: false,\\n\\t\\t\\tfilesFiltered: false,\\n\\t\\t\\tfilterFileName: '',\\n\\t\\t\\tfilteredFiles: [],\\n\\t\\t}\\n\\t},\\n\\tcomputed: {\\n\\t\\t...mapGetters([\\n\\t\\t\\t'detailsGridSize',\\n\\t\\t\\t'groupItemsPerPage',\\n\\t\\t\\t'details',\\n\\t\\t]),\\n\\t\\tcheckedFilesIntersect() {\\n\\t\\t\\tconst a = new Set(this.files)\\n\\t\\t\\tconst b = new Set(this.checkedFiles)\\n\\t\\t\\tconst intersect = new Set([...a].filter(i => b.has(i)))\\n\\t\\t\\treturn Array.from(intersect)\\n\\t\\t},\\n\\t},\\n\\twatch: {\\n\\t\\tfiles() {\\n\\t\\t\\tthis.filterByFileName()\\n\\t\\t},\\n\\t},\\n\\tmethods: {\\n\\t\\topenBatchActionsPopup() {\\n\\t\\t\\tdocument.addEventListener('click', this.toggleBatchActionsPopup)\\n\\t\\t},\\n\\t\\ttoggleBatchActionsPopup() {\\n\\t\\t\\tif (this.batchActionsOpened) {\\n\\t\\t\\t\\tdocument.removeEventListener('click', this.toggleBatchActionsPopup)\\n\\t\\t\\t}\\n\\t\\t\\tthis.batchActionsOpened = !this.batchActionsOpened\\n\\t\\t},\\n\\t\\tselectAllFiles() {\\n\\t\\t\\tif (this.checkedFiles.length === this.allFiles.length) { // Deselect files\\n\\t\\t\\t\\temit('deselectFiles', this.checkedFiles)\\n\\t\\t\\t\\tfor (const file of this.allFiles) {\\n\\t\\t\\t\\t\\tconst fileIndex = this.checkedFiles.findIndex(f => f.fileid === file.fileid)\\n\\t\\t\\t\\t\\tif (fileIndex !== -1) {\\n\\t\\t\\t\\t\\t\\tthis.checkedFiles.splice(fileIndex, 1)\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tfor (const file of this.allFiles) {\\n\\t\\t\\t\\t\\tconst fileIndex = this.checkedFiles.findIndex(f => f.fileid === file.fileid)\\n\\t\\t\\t\\t\\tif (fileIndex === -1) {\\n\\t\\t\\t\\t\\t\\tthis.checkedFiles.push(file)\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tselectAllFilesOnPage() {\\n\\t\\t\\tif (this.files.length === this.checkedFilesIntersect.length) {\\n\\t\\t\\t\\tconst filesToDeselect = this.checkedFilesIntersect\\n\\t\\t\\t\\temit('deselectFiles', filesToDeselect)\\n\\t\\t\\t\\tfor (const fileid of filesToDeselect.map(f => f.fileid)) {\\n\\t\\t\\t\\t\\tconst fileIndex = this.checkedFiles.findIndex(f => f.fileid === fileid)\\n\\t\\t\\t\\t\\tif (fileIndex !== -1) {\\n\\t\\t\\t\\t\\t\\tthis.checkedFiles.splice(fileIndex, 1)\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tfor (const file of this.files) {\\n\\t\\t\\t\\t\\tconst fileIndex = this.checkedFiles.findIndex(f => f.fileid === file.fileid)\\n\\t\\t\\t\\t\\tif (fileIndex === -1) {\\n\\t\\t\\t\\t\\t\\tthis.checkedFiles.push(file)\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tremoveCheckedFiles() {\\n\\t\\t\\tthis.$emit('update:updating', true)\\n\\t\\t\\taxios.post(generateUrl(`/apps/mediadc/api/v1/tasks/${this.detail.task_id}/files/${this.detail.group_id}/remove`), { fileIds: this.checkedFiles.map(f => f.fileid) }).then(res => {\\n\\t\\t\\t\\tif (res.data.success) {\\n\\t\\t\\t\\t\\tconst allFiles = this.allFiles\\n\\t\\t\\t\\t\\tif ((this.allFiles.length - this.checkedFiles.length) <= 1) {\\n\\t\\t\\t\\t\\t\\temit('openNextDetailGroup', this.detail)\\n\\t\\t\\t\\t\\t\\t// Remove detail\\n\\t\\t\\t\\t\\t\\tthis.$store.commit('deleteDetail', this.detail)\\n\\t\\t\\t\\t\\t\\tif ((this.allFiles.length - this.checkedFiles.length) === 1) {\\n\\t\\t\\t\\t\\t\\t\\tshowMessage(this.t('mediadc', 'Group successfully removed (1 file left)'))\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tfor (const fileid of res.data.removedFileIds) {\\n\\t\\t\\t\\t\\t\\tconst fileidIndex = allFiles.findIndex(f => f.fileid === fileid)\\n\\t\\t\\t\\t\\t\\tallFiles.splice(fileidIndex, 1)\\n\\t\\t\\t\\t\\t\\tconst checkedFileIdIndex = this.checkedFiles.findIndex(f => f.fileid === fileid)\\n\\t\\t\\t\\t\\t\\tif (checkedFileIdIndex !== -1) {\\n\\t\\t\\t\\t\\t\\t\\tthis.checkedFiles.splice(checkedFileIdIndex, 1)\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\temit('updateTaskInfo')\\n\\t\\t\\t\\t\\tthis.$emit('update:allFiles', allFiles)\\n\\t\\t\\t\\t\\temit('updateGroupFilesPagination')\\n\\t\\t\\t\\t\\tthis.$emit('update:updating', false)\\n\\t\\t\\t\\t\\tshowSuccess(this.t('mediadc', 'Checked files successfully removed'))\\n\\t\\t\\t\\t}\\n\\t\\t\\t}).catch(err => {\\n\\t\\t\\t\\tconsole.debug(err)\\n\\t\\t\\t\\tshowError(this.t('mediadc', 'A server error occurred'))\\n\\t\\t\\t\\tthis.$emit('update:updating', false)\\n\\t\\t\\t})\\n\\t\\t},\\n\\t\\tdeleteCheckedFiles() {\\n\\t\\t\\tif (this.allFiles.length === this.checkedFiles.length) {\\n\\t\\t\\t\\tif (confirm(this.t('mediadc', 'Are you sure you want to delete all files'))) {\\n\\t\\t\\t\\t\\tthis._deleteCheckedFiles()\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tthis._deleteCheckedFiles()\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t_deleteCheckedFiles() {\\n\\t\\t\\tthis.$emit('update:updating', true)\\n\\t\\t\\taxios.post(generateUrl(`/apps/mediadc/api/v1/tasks/${this.detail.task_id}/files/${this.detail.group_id}/delete`), { fileIds: this.checkedFiles.map(f => f.fileid) }).then(res => {\\n\\t\\t\\t\\tif (res.data.success) {\\n\\t\\t\\t\\t\\tthis._updateDeletedFiles(res)\\n\\t\\t\\t\\t\\tthis.$store.commit('setTask', res.data.task)\\n\\t\\t\\t\\t} else if (!res.data.success && res.data.deletedFileIds.length > 0) {\\n\\t\\t\\t\\t\\tshowWarning(this.t('mediadc', 'Not all files deleted'))\\n\\t\\t\\t\\t\\tthis._updateDeletedFiles(res)\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tconsole.debug(res.data.errors)\\n\\t\\t\\t\\t\\tshowError(this.t('mediadc', 'A server error occurred. Files not deleted'))\\n\\t\\t\\t\\t\\tthis.$emit('update:updating', false)\\n\\t\\t\\t\\t}\\n\\t\\t\\t}).catch(err => {\\n\\t\\t\\t\\tconsole.debug(err)\\n\\t\\t\\t\\tshowError(this.t('mediadc', 'A server error occurred'))\\n\\t\\t\\t\\tthis.$emit('update:updating', false)\\n\\t\\t\\t})\\n\\t\\t},\\n\\t\\t_updateDeletedFiles(res) {\\n\\t\\t\\tconst allFiles = this.allFiles\\n\\t\\t\\tif ((this.allFiles.length - this.checkedFiles.length) <= 1 && res.data.deletedFileIds.length === this.checkedFiles.length) {\\n\\t\\t\\t\\temit('openNextDetailGroup', this.detail)\\n\\t\\t\\t\\t// Remove detail\\n\\t\\t\\t\\tthis.$store.commit('deleteDetail', this.detail)\\n\\t\\t\\t\\tif ((this.allFiles.length - this.checkedFiles.length) === 1) {\\n\\t\\t\\t\\t\\tshowMessage(this.t('mediadc', 'Group successfully removed (1 file left)'))\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tfor (const fileid of res.data.deletedFileIds) {\\n\\t\\t\\t\\tconst fileidIndex = allFiles.findIndex(f => f.fileid === fileid)\\n\\t\\t\\t\\tallFiles.splice(fileidIndex, 1)\\n\\t\\t\\t\\tconst checkedFileIdIndex = this.checkedFiles.findIndex(f => f.fileid === fileid)\\n\\t\\t\\t\\tif (checkedFileIdIndex !== -1) {\\n\\t\\t\\t\\t\\tthis.checkedFiles.splice(checkedFileIdIndex, 1)\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\temit('updateTaskInfo')\\n\\t\\t\\tthis.$emit('update:allFiles', allFiles)\\n\\t\\t\\temit('updateGroupFilesPagination')\\n\\t\\t\\tthis.$emit('update:updating', false)\\n\\t\\t\\tshowSuccess(this.t('mediadc', 'Checked files successfully deleted'))\\n\\t\\t},\\n\\t\\tfilterByFileName() {\\n\\t\\t\\tif (this.filterFileName !== '') {\\n\\t\\t\\t\\tthis.filesFiltered = true\\n\\t\\t\\t\\tthis.filteredFiles = this.files.filter(f => f.filename.toLowerCase().includes(this.filterFileName.toLowerCase()))\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tthis.filesFiltered = false\\n\\t\\t\\t\\tthis.filteredFiles = []\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tupdateFileSorting() {\\n\\t\\t\\tthis.$emit('update:filesAscending', !this.filesAscending)\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style scoped>\\n.details-group {\\n\\twidth: 100%;\\n\\tborder-top: 1px solid var(--color-border-dark);\\n\\tborder-bottom: 1px solid var(--color-border-dark);\\n\\tmargin: 10px 0;\\n}\\n\\n.details-group-files {\\n\\tdisplay: flex;\\n\\tflex-wrap: wrap;\\n\\tjustify-content: center;\\n\\tmax-height: 100vh;\\n\\toverflow-y: scroll;\\n}\\n\\n@media (max-width: 540px) {\\n\\t.file {\\n\\t\\tmax-width: 192px;\\n\\t}\\n\\n\\t.filters {\\n\\t\\tflex-direction: column;\\n\\t}\\n}\\n\\n.file:hover {\\n\\tbox-shadow: 0 0 10px 0 rgba(0, 0, 0, .25);\\n}\\n\\n.filters {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: space-between;\\n\\tpadding: 5px 10px;\\n\\tmargin: 10px 0;\\n\\tborder: 1px solid var(--color-border-dark);\\n\\tborder-radius: var(--border-radius-large);\\n}\\n\\n.search {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n}\\n\\n.sorting {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n}\\n\\n.batch-editing {\\n\\tposition: relative;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n}\\n\\n.batch-actions-menu-button {\\n\\tpadding: 20px;\\n\\tborder-radius: 50%;\\n\\tcursor: pointer;\\n\\tuser-select: none;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.task-details[data-v-14ad58d6] {\n\twidth: 100%;\n\tpadding: 20px 10px 20px 20px;\n\tborder: 1px solid var(--color-border-dark);\n\tborder-radius: var(--border-radius-large);\n\toverflow-y: scroll;\n\tmargin: 0 auto 20px;\n}\n.task-details-heading[data-v-14ad58d6] {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n}\n.task-details-heading h3[data-v-14ad58d6] {\n\tmargin: 0;\n}\n@media (max-width: 540px) {\n.task-details[data-v-14ad58d6] {\n\t\tpadding: 15px 0px 10px 10px;\n}\n.task-details-heading[data-v-14ad58d6] {\n\t\tflex-direction: column;\n\t\ttext-align: center;\n}\n.pagination-wrapper[data-v-14ad58d6] {\n\t\tflex-direction: column;\n}\n}\n.pagination-wrapper[data-v-14ad58d6], .pagination-sorting[data-v-14ad58d6], .pagination[data-v-14ad58d6] {\n\tdisplay: flex;\n\talign-items: center;\n}\n.pagination-button[data-v-14ad58d6] {\n\tpadding: 20px;\n\tmargin: 0 5px;\n\twidth: 16px;\n\theight: 16px;\n\tcursor: pointer;\n\tborder-radius: 50%;\n\tuser-select: none;\n}\n.task-details-row[data-v-14ad58d6] {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tborder: 1px solid var(--color-border-dark);\n\tborder-radius: var(--border-radius-large);\n\tmargin-bottom: 5px;\n\ttransition: height .3s;\n}\n.filters[data-v-14ad58d6] {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: 5px 10px;\n\tmargin: 10px 0;\n\tborder: 1px solid var(--color-border-dark);\n\tborder-radius: var(--border-radius-large);\n}\ninput#group-id-filter[data-v-14ad58d6] {\n\twidth: fit-content;\n\tborder-color: var(--color-border-dark);\n}\nbody[data-theme-dark] .task-details-row[data-v-14ad58d6], body[data-theme-dark] .filters[data-v-14ad58d6] {\n\tborder-color: var(--color-border-dark);\n}\n@media (max-width: 540px) {\n.filters[data-v-14ad58d6] {\n\t\tflex-direction: column;\n}\n}\n.batch-editing[data-v-14ad58d6] {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/details/DetailsList.vue\"],\"names\":[],\"mappings\":\";AA4dA;CACA,WAAA;CACA,4BAAA;CACA,0CAAA;CACA,yCAAA;CACA,kBAAA;CACA,mBAAA;AACA;AAEA;CACA,aAAA;CACA,mBAAA;CACA,8BAAA;AACA;AAEA;CACA,SAAA;AACA;AAEA;AACA;EACA,2BAAA;AACA;AAEA;EACA,sBAAA;EACA,kBAAA;AACA;AAEA;EACA,sBAAA;AACA;AACA;AAEA;CACA,aAAA;CACA,mBAAA;AACA;AAEA;CACA,aAAA;CACA,aAAA;CACA,WAAA;CACA,YAAA;CACA,eAAA;CACA,kBAAA;CACA,iBAAA;AACA;AAEA;CACA,aAAA;CACA,mBAAA;CACA,8BAAA;CACA,0CAAA;CACA,yCAAA;CACA,kBAAA;CACA,sBAAA;AACA;AAEA;CACA,aAAA;CACA,mBAAA;CACA,8BAAA;CACA,iBAAA;CACA,cAAA;CACA,0CAAA;CACA,yCAAA;AACA;AAEA;CACA,kBAAA;CACA,sCAAA;AACA;AAEA;CACA,sCAAA;AACA;AAEA;AACA;EACA,sBAAA;AACA;AACA;AAEA;CACA,aAAA;CACA,mBAAA;CACA,uBAAA;AACA\",\"sourcesContent\":[\"<!--\\n - @copyright Copyright (c) 2021-2022 Andrey Borysenko <andrey18106x@gmail.com>\\n -\\n - @copyright Copyright (c) 2021-2022 Alexander Piskun <bigcat88@icloud.com>\\n -\\n - @author 2021-2022 Andrey Borysenko <andrey18106x@gmail.com>\\n -\\n - @license AGPL-3.0-or-later\\n -\\n - This program is free software: you can redistribute it and/or modify\\n - it under the terms of the GNU Affero General Public License as\\n - published by the Free Software Foundation, either version 3 of the\\n - License, or (at your option) any later version.\\n -\\n - This program is distributed in the hope that it will be useful,\\n - but WITHOUT ANY WARRANTY; without even the implied warranty of\\n - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\\n - GNU Affero General Public License for more details.\\n -\\n - You should have received a copy of the GNU Affero General Public License\\n - along with this program. If not, see <http://www.gnu.org/licenses/>.\\n -\\n -->\\n\\n<template>\\n\\t<div class=\\\"task-details\\\">\\n\\t\\t<div class=\\\"task-details-heading\\\">\\n\\t\\t\\t<h3>\\n\\t\\t\\t\\t{{ t('mediadc', 'Duplicates list') }}\\n\\t\\t\\t\\t<span v-if=\\\"getStatusBadge(task) === 'finished'\\\">\\n\\t\\t\\t\\t\\t- {{ details.length }} {{ n('mediadc', 'group ', 'groups', details.length) }}\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t<span v-if=\\\"detailsInfo.filestotal !== -1 && detailsInfo.filessize !== -1\\\">\\n\\t\\t\\t\\t\\t({{ detailsInfo.filestotal }} {{ n('mediadc', 'file', 'files', detailsInfo.filestotal) }} - {{ formatBytes(detailsInfo.filessize) }})\\n\\t\\t\\t\\t</span>\\n\\t\\t\\t</h3>\\n\\t\\t\\t<div class=\\\"pagination-wrapper\\\">\\n\\t\\t\\t\\t<div class=\\\"pagination-sorting\\\">\\n\\t\\t\\t\\t\\t<NcCheckboxRadioSwitch :checked.sync=\\\"sortGroups\\\" style=\\\"margin-right: 20px;\\\">\\n\\t\\t\\t\\t\\t\\t{{ t('mediadc', 'Sort groups') }}\\n\\t\\t\\t\\t\\t</NcCheckboxRadioSwitch>\\n\\t\\t\\t\\t\\t<NcButton v-tooltip=\\\"t('mediadc', 'Sorting details by files count')\\\"\\n\\t\\t\\t\\t\\t\\ttype=\\\"tertiary\\\"\\n\\t\\t\\t\\t\\t\\t:aria-label=\\\"t('mediadc', 'Sorting details by files count')\\\"\\n\\t\\t\\t\\t\\t\\t@click=\\\"toggleSorting\\\">\\n\\t\\t\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t\\t\\t<span :class=\\\"!sorted ? 'icon-triangle-s toggle-sorting-button' : 'icon-triangle-n toggle-sorting-button'\\\" />\\n\\t\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t\\t</NcButton>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<Pagination :details=\\\"(!filtered) ? details : detailsFiltered\\\"\\n\\t\\t\\t\\t\\t:prev-groups-page=\\\"prevGroupsPage\\\"\\n\\t\\t\\t\\t\\t:next-groups-page=\\\"nextGroupsPage\\\"\\n\\t\\t\\t\\t\\t:page.sync=\\\"page\\\" />\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div v-if=\\\"details.length > 0\\\">\\n\\t\\t\\t<div class=\\\"filters\\\">\\n\\t\\t\\t\\t<label for=\\\"group-id-filter\\\">\\n\\t\\t\\t\\t\\t{{ t('mediadc', 'Filter by duplicate group id: ') }}\\n\\t\\t\\t\\t\\t<input id=\\\"group-id-filter\\\"\\n\\t\\t\\t\\t\\t\\tv-model=\\\"filterId\\\"\\n\\t\\t\\t\\t\\t\\tv-tooltip=\\\"t('mediadc', 'Filter by id or range of ids (1-10)')\\\"\\n\\t\\t\\t\\t\\t\\ttype=\\\"search\\\"\\n\\t\\t\\t\\t\\t\\tname=\\\"group-id-filter\\\"\\n\\t\\t\\t\\t\\t\\tplaceholder=\\\"#id\\\"\\n\\t\\t\\t\\t\\t\\tstyle=\\\"max-width: 33%;\\\"\\n\\t\\t\\t\\t\\t\\t@input=\\\"filterByGroupId\\\">\\n\\t\\t\\t\\t</label>\\n\\t\\t\\t\\t<div class=\\\"batch-actions\\\" style=\\\"display: flex;\\\">\\n\\t\\t\\t\\t\\t<NcButton v-tooltip=\\\"t('mediadc', 'Toggle duplicate groups')\\\"\\n\\t\\t\\t\\t\\t\\ttype=\\\"tertiary\\\"\\n\\t\\t\\t\\t\\t\\t:aria-label=\\\"t('mediadc', 'Toggle duplicate groups')\\\"\\n\\t\\t\\t\\t\\t\\tstyle=\\\"margin-right: 10px;\\\"\\n\\t\\t\\t\\t\\t\\t@click=\\\"toggleGroups\\\">\\n\\t\\t\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"icon-category-organization\\\" />\\n\\t\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t\\t\\t<template #default>\\n\\t\\t\\t\\t\\t\\t\\t{{ t('mediadc', 'Toggle groups') }}\\n\\t\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t\\t</NcButton>\\n\\t\\t\\t\\t\\t<div v-if=\\\"checkedDetailGroups.length > 0\\\" class=\\\"batch-editing\\\">\\n\\t\\t\\t\\t\\t\\t{{ n('mediadc', 'Batch actions for %n group', 'Batch actions for %n groups', checkedDetailGroups.length) }}\\n\\t\\t\\t\\t\\t\\t<NcActions placement=\\\"top\\\" style=\\\"margin-left: 5px;\\\">\\n\\t\\t\\t\\t\\t\\t\\t<template v-if=\\\"!filtered\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<NcActionButton @click=\\\"selectAllGroups\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<CheckAll :size=\\\"20\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ checkedDetailGroups.length === details.length ? t('mediadc', 'Deselect all') : t('mediadc', 'Select all') }}\\n\\t\\t\\t\\t\\t\\t\\t\\t</NcActionButton>\\n\\t\\t\\t\\t\\t\\t\\t\\t<NcActionButton v-if=\\\"details.length > itemsPerPage\\\" @click=\\\"selectAllGroupsOnPage\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<CheckUnderline :size=\\\"20\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ checkedDetailGroupsIntersect.length === paginatedDetails[page].length || checkedDetailGroupsIntersect.length === paginatedSortedDetails[page].length ? t('mediadc', 'Deselect all on page') : t('mediadc', 'Select all on page') }}\\n\\t\\t\\t\\t\\t\\t\\t\\t</NcActionButton>\\n\\t\\t\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t\\t\\t\\t<template v-else>\\n\\t\\t\\t\\t\\t\\t\\t\\t<NcActionButton @click=\\\"selectAllGroups\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<CheckAll :size=\\\"20\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ checkedDetailGroups.length === detailsFiltered.length ? t('mediadc', 'Deselect all') : t('mediadc', 'Select all') }}\\n\\t\\t\\t\\t\\t\\t\\t\\t</NcActionButton>\\n\\t\\t\\t\\t\\t\\t\\t\\t<NcActionButton v-if=\\\"detailsFiltered.length > itemsPerPage\\\" @click=\\\"selectAllGroupsOnPage\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<CheckUnderline :size=\\\"20\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ checkedDetailGroupsIntersect.length === paginatedDetailsFiltered[page].length ? t('mediadc', 'Deselect all on page') : t('mediadc', 'Select all on page') }}\\n\\t\\t\\t\\t\\t\\t\\t\\t</NcActionButton>\\n\\t\\t\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t\\t\\t\\t<NcActionButton v-if=\\\"checkedDetailGroups.length > 0\\\" @click=\\\"_deselectAllGroups((!filtered) ? details : detailsFiltered)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<MinusBoxOutline :size=\\\"20\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t\\t\\t\\t\\t{{ t('mediadc', 'Uncheck selected') }}\\n\\t\\t\\t\\t\\t\\t\\t</NcActionButton>\\n\\t\\t\\t\\t\\t\\t\\t<NcActionButton v-tooltip=\\\"{content: t('mediadc', 'Mark all files in group as resolved'), placement: 'left'}\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\ticon=\\\"icon-close\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t@click=\\\"removeCheckedGroups\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t{{ n('mediadc', 'Remove group', 'Remove groups', checkedDetailGroups.length) }}\\n\\t\\t\\t\\t\\t\\t\\t</NcActionButton>\\n\\t\\t\\t\\t\\t\\t\\t<NcActionButton v-tooltip=\\\"{content: t('mediadc', 'Delete all files except the largest one'), placement: 'left'}\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\ticon=\\\"icon-delete\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t:disabled=\\\"batchDeleting\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t@click=\\\"deleteCheckedGroupsFiles\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<template v-if=\\\"!batchDeleting\\\" #icon>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"icon-delete material-design-icon\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t\\t\\t\\t\\t<template v-else #icon>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<NcLoadingIcon :size=\\\"20\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t\\t\\t\\t\\t{{ t('mediadc', 'Delete files') }}\\n\\t\\t\\t\\t\\t\\t\\t</NcActionButton>\\n\\t\\t\\t\\t\\t\\t</NcActions>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-if=\\\"!filtered\\\">\\n\\t\\t\\t\\t<template v-if=\\\"sortGroups\\\">\\n\\t\\t\\t\\t\\t<div v-for=\\\"detail in paginatedSortedDetails[page]\\\"\\n\\t\\t\\t\\t\\t\\tv-show=\\\"detail.files.length > 1\\\"\\n\\t\\t\\t\\t\\t\\t:key=\\\"detail.group_id\\\"\\n\\t\\t\\t\\t\\t\\tclass=\\\"task-details-row\\\">\\n\\t\\t\\t\\t\\t\\t<DetailsListItem :detail=\\\"detail\\\" :checked-detail-groups.sync=\\\"checkedDetailGroups\\\" />\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t<template v-else>\\n\\t\\t\\t\\t\\t<div v-for=\\\"detail in paginatedDetails[page]\\\"\\n\\t\\t\\t\\t\\t\\tv-show=\\\"detail.files.length > 1\\\"\\n\\t\\t\\t\\t\\t\\t:key=\\\"detail.group_id\\\"\\n\\t\\t\\t\\t\\t\\tclass=\\\"task-details-row\\\">\\n\\t\\t\\t\\t\\t\\t<DetailsListItem :detail=\\\"detail\\\" :checked-detail-groups.sync=\\\"checkedDetailGroups\\\" />\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</template>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-else-if=\\\"detailsFiltered.length > 0 && filtered\\\">\\n\\t\\t\\t\\t<template v-if=\\\"!sortGroups\\\">\\n\\t\\t\\t\\t\\t<div v-for=\\\"detail in paginatedDetailsFiltered[page]\\\"\\n\\t\\t\\t\\t\\t\\tv-show=\\\"detail.files.length > 1\\\"\\n\\t\\t\\t\\t\\t\\t:key=\\\"detail.group_id\\\"\\n\\t\\t\\t\\t\\t\\tclass=\\\"task-details-row\\\">\\n\\t\\t\\t\\t\\t\\t<DetailsListItem :detail=\\\"detail\\\" :checked-detail-groups.sync=\\\"checkedDetailGroups\\\" />\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t<template v-else>\\n\\t\\t\\t\\t\\t<div v-for=\\\"detail in paginatedDetailsFilteredSorted[page]\\\"\\n\\t\\t\\t\\t\\t\\tv-show=\\\"detail.files.length > 1\\\"\\n\\t\\t\\t\\t\\t\\t:key=\\\"detail.group_id\\\"\\n\\t\\t\\t\\t\\t\\tclass=\\\"task-details-row\\\">\\n\\t\\t\\t\\t\\t\\t<DetailsListItem :detail=\\\"detail\\\" :checked-detail-groups.sync=\\\"checkedDetailGroups\\\" />\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</template>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div v-else>\\n\\t\\t\\t\\t<p style=\\\"text-align: center; font-weight: bold;\\\">\\n\\t\\t\\t\\t\\t{{ t('mediadc', 'No matchings found') }}\\n\\t\\t\\t\\t</p>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t<div v-else style=\\\"margin-top: 10px;\\\">\\n\\t\\t\\t<strong>{{ t('mediadc', 'No duplicates found.') }}</strong>\\n\\t\\t</div>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport axios from '@nextcloud/axios'\\nimport { generateUrl } from '@nextcloud/router'\\nimport { showError, showSuccess, showWarning } from '@nextcloud/dialogs'\\nimport { subscribe, unsubscribe, emit } from '@nextcloud/event-bus'\\nimport {\\n\\tNcCheckboxRadioSwitch,\\n\\tNcButton,\\n\\tNcActions,\\n\\tNcActionButton,\\n\\tNcLoadingIcon,\\n} from '@nextcloud/vue'\\nimport MinusBoxOutline from 'vue-material-design-icons/MinusBoxOutline.vue'\\nimport CheckAll from 'vue-material-design-icons/CheckAll.vue'\\nimport CheckUnderline from 'vue-material-design-icons/CheckUnderline.vue'\\n\\nimport { mapGetters } from 'vuex'\\n\\nimport Formats from '../../mixins/Formats.js'\\n\\nimport DetailsListItem from './DetailsListItem.vue'\\nimport Pagination from './Pagination.vue'\\n\\nexport default {\\n\\tname: 'DetailsList',\\n\\tcomponents: {\\n\\t\\tDetailsListItem,\\n\\t\\tNcCheckboxRadioSwitch,\\n\\t\\tNcButton,\\n\\t\\tNcActions,\\n\\t\\tNcActionButton,\\n\\t\\tPagination,\\n\\t\\tMinusBoxOutline,\\n\\t\\tCheckAll,\\n\\t\\tCheckUnderline,\\n\\t\\tNcLoadingIcon,\\n\\t},\\n\\tmixins: [Formats],\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tpage: 0,\\n\\t\\t\\tfilterId: null,\\n\\t\\t\\tcheckedDetailGroups: [],\\n\\t\\t\\tbatchActionsOpened: false,\\n\\t\\t\\tsortGroups: true,\\n\\t\\t\\tbatchDeleting: false,\\n\\t\\t}\\n\\t},\\n\\tcomputed: {\\n\\t\\t...mapGetters([\\n\\t\\t\\t'task',\\n\\t\\t\\t'taskInfo',\\n\\t\\t\\t'details',\\n\\t\\t\\t'detailsInfo',\\n\\t\\t\\t'sortedDetails',\\n\\t\\t\\t'sorted',\\n\\t\\t\\t'paginatedDetails',\\n\\t\\t\\t'paginatedSortedDetails',\\n\\t\\t\\t'paginatedDetailsFiltered',\\n\\t\\t\\t'paginatedDetailsFilteredSorted',\\n\\t\\t\\t'itemsPerPage',\\n\\t\\t\\t'detailsFiltered',\\n\\t\\t\\t'detailsFilteredSorted',\\n\\t\\t\\t'autoOpenNextGroup',\\n\\t\\t]),\\n\\t\\tfiltered() {\\n\\t\\t\\treturn this.filterId !== '' && this.filterId !== null\\n\\t\\t},\\n\\t\\tcheckedDetailGroupsIntersect() {\\n\\t\\t\\tlet a = []\\n\\t\\t\\tif (!this.sortGroups) {\\n\\t\\t\\t\\tif (this.filtered) {\\n\\t\\t\\t\\t\\ta = new Set(this.paginatedDetailsFiltered[this.page].map(d => d.group_id))\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\ta = new Set(this.paginatedDetails[this.page].map(d => d.group_id))\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tif (this.filtered) {\\n\\t\\t\\t\\t\\ta = new Set(this.paginatedDetailsFilteredSorted[this.page].map(d => d.group_id))\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\ta = new Set(this.paginatedSortedDetails[this.page].map(d => d.group_id))\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\tconst b = new Set(this.checkedDetailGroups.map(d => d.group_id))\\n\\t\\t\\tconst intersect = new Set([...a].filter(i => b.has(i)))\\n\\t\\t\\treturn Array.from(intersect)\\n\\t\\t},\\n\\t\\tpagesRange() {\\n\\t\\t\\tif (this.filterId === null) {\\n\\t\\t\\t\\treturn Array.from({ length: Math.ceil(this.details.length / this.itemsPerPage) }, (_, i) => i)\\n\\t\\t\\t} else {\\n\\t\\t\\t\\treturn Array.from({ length: Math.ceil(this.detailsFiltered.length / this.itemsPerPage) }, (_, i) => i)\\n\\t\\t\\t}\\n\\t\\t},\\n\\t},\\n\\twatch: {\\n\\t\\titemsPerPage(newItemsPerPage) {\\n\\t\\t\\tif (this.page >= Math.ceil(this.details.length / newItemsPerPage)) {\\n\\t\\t\\t\\tthis.page = Math.ceil(this.details.length / newItemsPerPage) - 1\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tdetails(newDetails) {\\n\\t\\t\\tif (this.page >= Math.ceil(newDetails.length / this.itemsPerPage)) {\\n\\t\\t\\t\\tthis.page = Math.ceil(newDetails.length / this.itemsPerPage) - 1\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tsortGroups() {\\n\\t\\t\\twindow.localStorage.setItem('mediadc_details_sort_groups', this.sortGroups)\\n\\t\\t\\tthis.$store.commit('setSortGroups', this.sortGroups)\\n\\t\\t},\\n\\t},\\n\\tbeforeMount() {\\n\\t\\tthis.$emit('update:loading', false)\\n\\t\\tconst sortGroups = window.localStorage.getItem('mediadc_details_sort_groups')\\n\\t\\tthis.sortGroups = sortGroups !== null ? JSON.parse(sortGroups) === true : true\\n\\t\\tthis.$store.commit('setSortGroups', sortGroups !== null ? JSON.parse(sortGroups) === true : true)\\n\\t\\tsubscribe('openNextDetailGroup', this.openNextDetailGroup)\\n\\t},\\n\\tbeforeDestroy() {\\n\\t\\tunsubscribe('openNextDetailGroup', this.openNextDetailGroup)\\n\\t},\\n\\tmethods: {\\n\\t\\tprevGroupsPage() {\\n\\t\\t\\tif (this.page > 0) {\\n\\t\\t\\t\\tthis.page -= 1\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tshowWarning(this.t('mediadc', 'First page reached!'))\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tnextGroupsPage() {\\n\\t\\t\\tif (!this.filtered && this.page < Math.ceil(this.details.length / this.itemsPerPage) - 1) {\\n\\t\\t\\t\\tthis.page += 1\\n\\t\\t\\t} else if (this.page < Math.ceil(this.detailsFiltered.length / this.itemsPerPage) - 1) {\\n\\t\\t\\t\\tthis.page += 1\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tshowWarning(this.t('mediadc', 'Last page reached!'))\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\ttoggleSorting() {\\n\\t\\t\\tthis.$store.commit('setSorted', !this.sorted)\\n\\t\\t},\\n\\t\\tfilterByGroupId() {\\n\\t\\t\\tif (this.filterId !== null && this.filterId !== '') {\\n\\t\\t\\t\\tconst singleIdRegex = /^[1-9]$/s\\n\\t\\t\\t\\tconst rangeIdsRegex = /^\\\\d+-\\\\d+$/s // TODO: /(^\\\\d+-\\\\d+)(, ?\\\\d+-\\\\d+)*$/s\\n\\t\\t\\t\\tthis.page = 0\\n\\n\\t\\t\\t\\tif (singleIdRegex.test(this.filterId)) {\\n\\t\\t\\t\\t\\tthis.$store.commit('setDetailsFiltered', this.details.filter(d => d.group_id.toString().includes(this.filterId)))\\n\\t\\t\\t\\t} else if (rangeIdsRegex.test(this.filterId)) {\\n\\t\\t\\t\\t\\tconst beginRange = this.filterId.split('-')[0]\\n\\t\\t\\t\\t\\tconst endRange = this.filterId.split('-')[1]\\n\\t\\t\\t\\t\\tthis.$store.commit('setDetailsFiltered', this.details.filter(d => Number(d.group_id) >= beginRange && Number(d.group_id) <= endRange))\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tthis.$store.commit('setDetailsFiltered', [])\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\topenBatchActionsPopup() {\\n\\t\\t\\tdocument.addEventListener('click', this.toggleBatchActionsPopup)\\n\\t\\t},\\n\\t\\ttoggleBatchActionsPopup() {\\n\\t\\t\\tif (this.batchActionsOpened) {\\n\\t\\t\\t\\tdocument.removeEventListener('click', this.toggleBatchActionsPopup)\\n\\t\\t\\t}\\n\\t\\t\\tthis.batchActionsOpened = !this.batchActionsOpened\\n\\t\\t},\\n\\t\\tremoveCheckedGroups() {\\n\\t\\t\\taxios.post(generateUrl(`/apps/mediadc/api/v1/tasks/${this.task.id}/details/remove`), { groupIds: this.checkedDetailGroups.map(d => d.group_id) }).then(res => {\\n\\t\\t\\t\\tif (res.data.success) {\\n\\t\\t\\t\\t\\temit('openNextDetailGroup', this.checkedDetailGroups[this.checkedDetailGroups.length - 1])\\n\\t\\t\\t\\t\\tconst updatedDetails = [...this.details]\\n\\t\\t\\t\\t\\tfor (const removedGroupId of res.data.removedGroupIds) {\\n\\t\\t\\t\\t\\t\\tconst checkedIndex = this.checkedDetailGroups.findIndex(d => Number(d.group_id) === removedGroupId)\\n\\t\\t\\t\\t\\t\\tif (checkedIndex !== -1) {\\n\\t\\t\\t\\t\\t\\t\\tthis.checkedDetailGroups.splice(checkedIndex, 1)\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tconst removedDetailIndex = updatedDetails.findIndex(d => Number(d.group_id) === removedGroupId)\\n\\t\\t\\t\\t\\t\\tupdatedDetails.splice(removedDetailIndex, 1)\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\temit('updateTaskInfo')\\n\\t\\t\\t\\t\\tthis.$store.commit('setDetails', updatedDetails)\\n\\t\\t\\t\\t\\tshowSuccess(this.t('mediadc', 'Selected groups successfully removed'))\\n\\t\\t\\t\\t}\\n\\t\\t\\t}).catch(err => {\\n\\t\\t\\t\\tshowError(this.t('mediadc', 'A server error occurred'))\\n\\t\\t\\t\\tconsole.debug(err)\\n\\t\\t\\t})\\n\\t\\t},\\n\\t\\t_deselectAllGroups(_details) {\\n\\t\\t\\temit('deselectGroups', this.checkedDetailGroups.map(d => d.group_id))\\n\\t\\t\\tfor (const detail of this.details) {\\n\\t\\t\\t\\tconst detailIndex = this.checkedDetailGroups.findIndex(d => d.group_id === detail.group_id)\\n\\t\\t\\t\\tif (detailIndex !== -1) {\\n\\t\\t\\t\\t\\tthis.checkedDetailGroups.splice(detailIndex, 1)\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tdeleteCheckedGroupsFiles() {\\n\\t\\t\\tthis.batchDeleting = true\\n\\t\\t\\taxios.post(generateUrl(`/apps/mediadc/api/v1/tasks/${this.task.id}/details/delete`), { groupIds: this.checkedDetailGroups.map(d => d.group_id) }).then(res => {\\n\\t\\t\\t\\tif (res.data.success) {\\n\\t\\t\\t\\t\\temit('openNextDetailGroup', this.checkedDetailGroups[this.checkedDetailGroups.length - 1])\\n\\t\\t\\t\\t\\tconst updatedDetails = [...this.details]\\n\\t\\t\\t\\t\\tfor (const removedGroupId of res.data.removedGroupIds) {\\n\\t\\t\\t\\t\\t\\tconst checkedIndex = this.checkedDetailGroups.findIndex(d => Number(d.group_id) === removedGroupId)\\n\\t\\t\\t\\t\\t\\tif (checkedIndex !== -1) {\\n\\t\\t\\t\\t\\t\\t\\tthis.checkedDetailGroups.splice(checkedIndex, 1)\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\tconst removedDetailIndex = updatedDetails.findIndex(d => Number(d.group_id) === removedGroupId)\\n\\t\\t\\t\\t\\t\\tupdatedDetails.splice(removedDetailIndex, 1)\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\temit('updateTaskInfo')\\n\\t\\t\\t\\t\\tthis.$store.commit('setDetails', updatedDetails)\\n\\t\\t\\t\\t\\tthis.$store.commit('setTask', res.data.task)\\n\\t\\t\\t\\t\\tshowSuccess(this.t('mediadc', 'Selected group files successfully deleted'))\\n\\t\\t\\t\\t} else if (res.data.removedGroupIds.length !== 0) {\\n\\t\\t\\t\\t\\tshowWarning(this.t('mediadc', 'Not all selected group files deleted'))\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tshowError(this.t('mediadc', 'Failed to delete selected group files'))\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tthis.batchDeleting = false\\n\\t\\t\\t}).catch(err => {\\n\\t\\t\\t\\tshowError(this.t('mediadc', 'A server error occurred'))\\n\\t\\t\\t\\tconsole.debug(err)\\n\\t\\t\\t\\tthis.batchDeleting = false\\n\\t\\t\\t})\\n\\t\\t},\\n\\t\\tselectAllGroups() {\\n\\t\\t\\tconst _details = (!this.filtered) ? this.details : this.detailsFiltered\\n\\t\\t\\tif (this.checkedDetailGroups.length === _details.length) {\\n\\t\\t\\t\\tthis._deselectAllGroups(_details)\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tfor (const detail of _details) {\\n\\t\\t\\t\\t\\tconst detailIndex = this.checkedDetailGroups.findIndex(d => d.group_id === detail.group_id)\\n\\t\\t\\t\\t\\tif (detailIndex === -1) {\\n\\t\\t\\t\\t\\t\\tthis.checkedDetailGroups.push(detail)\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tselectAllGroupsOnPage() {\\n\\t\\t\\tconst _details = (!this.filtered)\\n\\t\\t\\t\\t? ((!this.sortGroups) ? this.paginatedDetails : this.paginatedSortedDetails)\\n\\t\\t\\t\\t: ((!this.sortGroups) ? this.paginatedDetailsFiltered : this.paginatedDetailsFilteredSorted)\\n\\t\\t\\tif (_details[this.page].length === this.checkedDetailGroupsIntersect.length) {\\n\\t\\t\\t\\tconst groupsToDeselect = this.checkedDetailGroupsIntersect\\n\\t\\t\\t\\temit('deselectGroups', groupsToDeselect)\\n\\t\\t\\t\\tfor (const detail of groupsToDeselect) {\\n\\t\\t\\t\\t\\tconst detailIndex = this.checkedDetailGroups.findIndex(d => d.group_id === detail.group_id)\\n\\t\\t\\t\\t\\tif (detailIndex !== -1) {\\n\\t\\t\\t\\t\\t\\tthis.checkedDetailGroups.splice(detailIndex, 1)\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tfor (const detail of _details[this.page]) {\\n\\t\\t\\t\\t\\tconst detailIndex = this.checkedDetailGroups.findIndex(d => d.group_id === detail.group_id)\\n\\t\\t\\t\\t\\tif (detailIndex === -1) {\\n\\t\\t\\t\\t\\t\\tthis.checkedDetailGroups.push(detail)\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\topenNextDetailGroup(detail) {\\n\\t\\t\\tif (this.autoOpenNextGroup) {\\n\\t\\t\\t\\tconst detailIndex = this.details.findIndex(d => d.group_id === detail.group_id)\\n\\t\\t\\t\\tif (detailIndex !== -1) {\\n\\t\\t\\t\\t\\tif (detailIndex !== this.details.length - 1) {\\n\\t\\t\\t\\t\\t\\temit('openGroup', this.details[detailIndex + 1])\\n\\t\\t\\t\\t\\t} else if (detailIndex === this.details.length - 1 && this.details.length >= 2) {\\n\\t\\t\\t\\t\\t\\temit('openGroup', this.details[detailIndex - 1])\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\ttoggleGroups() {\\n\\t\\t\\tconst _details = (!this.filtered)\\n\\t\\t\\t\\t? ((!this.sortGroups) ? this.paginatedDetails[this.page] : this.paginatedSortedDetails[this.page])\\n\\t\\t\\t\\t: ((!this.sortGroups) ? this.paginatedDetailsFiltered[this.page] : this.paginatedDetailsFilteredSorted[this.page])\\n\\t\\t\\tfor (const detail of _details) {\\n\\t\\t\\t\\temit('toggleGroup', detail)\\n\\t\\t\\t}\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style scoped>\\n.task-details {\\n\\twidth: 100%;\\n\\tpadding: 20px 10px 20px 20px;\\n\\tborder: 1px solid var(--color-border-dark);\\n\\tborder-radius: var(--border-radius-large);\\n\\toverflow-y: scroll;\\n\\tmargin: 0 auto 20px;\\n}\\n\\n.task-details-heading {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: space-between;\\n}\\n\\n.task-details-heading h3 {\\n\\tmargin: 0;\\n}\\n\\n@media (max-width: 540px) {\\n\\t.task-details {\\n\\t\\tpadding: 15px 0px 10px 10px;\\n\\t}\\n\\n\\t.task-details-heading {\\n\\t\\tflex-direction: column;\\n\\t\\ttext-align: center;\\n\\t}\\n\\n\\t.pagination-wrapper {\\n\\t\\tflex-direction: column;\\n\\t}\\n}\\n\\n.pagination-wrapper, .pagination-sorting, .pagination {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n}\\n\\n.pagination-button {\\n\\tpadding: 20px;\\n\\tmargin: 0 5px;\\n\\twidth: 16px;\\n\\theight: 16px;\\n\\tcursor: pointer;\\n\\tborder-radius: 50%;\\n\\tuser-select: none;\\n}\\n\\n.task-details-row {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: space-between;\\n\\tborder: 1px solid var(--color-border-dark);\\n\\tborder-radius: var(--border-radius-large);\\n\\tmargin-bottom: 5px;\\n\\ttransition: height .3s;\\n}\\n\\n.filters {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: space-between;\\n\\tpadding: 5px 10px;\\n\\tmargin: 10px 0;\\n\\tborder: 1px solid var(--color-border-dark);\\n\\tborder-radius: var(--border-radius-large);\\n}\\n\\ninput#group-id-filter {\\n\\twidth: fit-content;\\n\\tborder-color: var(--color-border-dark);\\n}\\n\\nbody[data-theme-dark] .task-details-row, body[data-theme-dark] .filters {\\n\\tborder-color: var(--color-border-dark);\\n}\\n\\n@media (max-width: 540px) {\\n\\t.filters {\\n\\t\\tflex-direction: column;\\n\\t}\\n}\\n\\n.batch-editing {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.open-details-btn .button-vue__text {\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/details/DetailsListItem.vue\"],\"names\":[],\"mappings\":\";AA2XA;CACA,oBAAA;CACA,mBAAA;CACA,uBAAA;AACA\",\"sourcesContent\":[\"<!--\\n - @copyright Copyright (c) 2021-2022 Andrey Borysenko <andrey18106x@gmail.com>\\n -\\n - @copyright Copyright (c) 2021-2022 Alexander Piskun <bigcat88@icloud.com>\\n -\\n - @author 2021-2022 Andrey Borysenko <andrey18106x@gmail.com>\\n -\\n - @license AGPL-3.0-or-later\\n -\\n - This program is free software: you can redistribute it and/or modify\\n - it under the terms of the GNU Affero General Public License as\\n - published by the Free Software Foundation, either version 3 of the\\n - License, or (at your option) any later version.\\n -\\n - This program is distributed in the hope that it will be useful,\\n - but WITHOUT ANY WARRANTY; without even the implied warranty of\\n - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\\n - GNU Affero General Public License for more details.\\n -\\n - You should have received a copy of the GNU Affero General Public License\\n - along with this program. If not, see <http://www.gnu.org/licenses/>.\\n -\\n -->\\n\\n<template>\\n\\t<div :id=\\\"'detail-' + detail.task_id + '-' + detail.group_id\\\"\\n\\t\\tclass=\\\"details-list-item\\\"\\n\\t\\t:class=\\\"{'icon-loading': updating}\\\">\\n\\t\\t<div class=\\\"details-list-item-title\\\">\\n\\t\\t\\t<NcCheckboxRadioSwitch v-tooltip=\\\"{content: t('mediadc', 'Select group'), placement: 'top'}\\\"\\n\\t\\t\\t\\tclass=\\\"mediadc-checkbox-only batch-checkbox\\\"\\n\\t\\t\\t\\t:checked.sync=\\\"checked\\\" />\\n\\t\\t\\t<NcButton type=\\\"tertiary\\\"\\n\\t\\t\\t\\tclass=\\\"open-details-btn\\\"\\n\\t\\t\\t\\t:aria-label=\\\"t('mediadc', 'Open duplicate group')\\\"\\n\\t\\t\\t\\t@click=\\\"openDetailFiles(detail)\\\">\\n\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t<span class=\\\"icon-projects\\\" />\\n\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t<template #default>\\n\\t\\t\\t\\t\\t{{ t('mediadc', 'Duplicate group') }} #{{ detail.group_id }} ({{ groupFilesTotal }}\\n\\t\\t\\t\\t\\t{{ n('mediadc', 'file', 'files', groupFilesTotal) }}{{ ' - ' + formatBytes(groupFilesSize) }})\\n\\t\\t\\t\\t\\t<span :class=\\\"!opened ? 'icon-triangle-s' : 'icon-triangle-n'\\\"\\n\\t\\t\\t\\t\\t\\tstyle=\\\"display: inline-flex; margin: 0 0 0 5px;\\\" />\\n\\t\\t\\t\\t</template>\\n\\t\\t\\t</NcButton>\\n\\t\\t\\t<NcActions>\\n\\t\\t\\t\\t<NcActionButton icon=\\\"icon-delete delete-group-btn\\\" @click=\\\"removeTaskDetail(detail)\\\">\\n\\t\\t\\t\\t\\t{{ t('mediadc', 'Remove group without deleting files') }}\\n\\t\\t\\t\\t</NcActionButton>\\n\\t\\t\\t</NcActions>\\n\\t\\t</div>\\n\\t\\t<div v-if=\\\"opened && groupFilesTotal > groupItemsPerPage\\\" class=\\\"pagination\\\">\\n\\t\\t\\t<NcButton type=\\\"tertiary\\\"\\n\\t\\t\\t\\t:aria-label=\\\"t('mediadc', 'Previous duplicate group files page')\\\"\\n\\t\\t\\t\\tstyle=\\\"margin-right: 5px;\\\"\\n\\t\\t\\t\\t@click=\\\"openPrevDetailFiles(detail)\\\">\\n\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t<span class=\\\"icon-view-previous\\\" />\\n\\t\\t\\t\\t</template>\\n\\t\\t\\t</NcButton>\\n\\t\\t\\t<span>{{ t('mediadc', 'Page:') }}&nbsp;</span>\\n\\t\\t\\t<span>{{ page + 1 }}/{{ Math.ceil(groupFilesTotal / groupItemsPerPage) }}</span>\\n\\t\\t\\t<NcButton type=\\\"tertiary\\\"\\n\\t\\t\\t\\t:aria-label=\\\"t('mediadc', 'Next duplicate group files page')\\\"\\n\\t\\t\\t\\tstyle=\\\"margin-left: 5px;\\\"\\n\\t\\t\\t\\t@click=\\\"openNextDetailFiles(detail)\\\">\\n\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t<span class=\\\"icon-view-next\\\" />\\n\\t\\t\\t\\t</template>\\n\\t\\t\\t</NcButton>\\n\\t\\t\\t<input id=\\\"go_to_page\\\"\\n\\t\\t\\t\\tv-model=\\\"goToPage\\\"\\n\\t\\t\\t\\ttype=\\\"number\\\"\\n\\t\\t\\t\\tstyle=\\\"width: fit-content;\\\"\\n\\t\\t\\t\\t:min=\\\"1\\\"\\n\\t\\t\\t\\t:max=\\\"pagesRange[pagesRange.length - 1] + 1\\\"\\n\\t\\t\\t\\tname=\\\"go_to_page\\\"\\n\\t\\t\\t\\t:aria-label=\\\"t('mediadc', 'Page to navigate to')\\\"\\n\\t\\t\\t\\t@keyup.enter=\\\"navigateToPage\\\">\\n\\t\\t\\t<NcButton v-if=\\\"detail.files.length > groupItemsPerPage\\\"\\n\\t\\t\\t\\tv-tooltip=\\\"t('mediadc', 'Go to page')\\\"\\n\\t\\t\\t\\ttype=\\\"tertiary\\\"\\n\\t\\t\\t\\t:aria-label=\\\"t('mediadc', 'Navigate to duplicate list page')\\\"\\n\\t\\t\\t\\t@click=\\\"navigateToPage\\\">\\n\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t<span class=\\\"icon-confirm\\\" />\\n\\t\\t\\t\\t</template>\\n\\t\\t\\t</NcButton>\\n\\t\\t</div>\\n\\t\\t<DetailsGroupList v-if=\\\"opened\\\"\\n\\t\\t\\t:detail=\\\"detail\\\"\\n\\t\\t\\t:files=\\\"files\\\"\\n\\t\\t\\t:all-files=\\\"allFiles\\\"\\n\\t\\t\\t:loading-files.sync=\\\"loadingFiles\\\"\\n\\t\\t\\t:updating.sync=\\\"updating\\\"\\n\\t\\t\\t:files-ascending.sync=\\\"filesAscending\\\" />\\n\\t</div>\\n</template>\\n\\n<script>\\nimport axios from '@nextcloud/axios'\\nimport { generateUrl } from '@nextcloud/router'\\nimport { showError, showSuccess, showWarning } from '@nextcloud/dialogs'\\nimport { subscribe, unsubscribe, emit } from '@nextcloud/event-bus'\\nimport {\\n\\tNcCheckboxRadioSwitch,\\n\\tNcActions,\\n\\tNcActionButton,\\n\\tNcButton,\\n} from '@nextcloud/vue'\\n\\nimport { mapGetters } from 'vuex'\\n\\nimport Formats from '../../mixins/Formats.js'\\nimport DetailsGroupList from './DetailsGroupList.vue'\\n\\nexport default {\\n\\tname: 'DetailsListItem',\\n\\tcomponents: {\\n\\t\\tNcActions,\\n\\t\\tNcActionButton,\\n\\t\\tNcButton,\\n\\t\\tNcCheckboxRadioSwitch,\\n\\t\\tDetailsGroupList,\\n\\t},\\n\\tmixins: [Formats],\\n\\tprops: {\\n\\t\\tdetail: {\\n\\t\\t\\ttype: Object,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tcheckedDetailGroups: {\\n\\t\\t\\ttype: Array,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\topened: false,\\n\\t\\t\\tpage: 0,\\n\\t\\t\\ttotalPages: 0,\\n\\t\\t\\tloadingFiles: false,\\n\\t\\t\\tfiles: [],\\n\\t\\t\\tallFiles: [],\\n\\t\\t\\tpaginatedFiles: {},\\n\\t\\t\\tchecked: false,\\n\\t\\t\\tfilesAscending: false,\\n\\t\\t\\tupdating: false,\\n\\t\\t\\tgoToPage: 1,\\n\\t\\t}\\n\\t},\\n\\tcomputed: {\\n\\t\\t...mapGetters([\\n\\t\\t\\t'task',\\n\\t\\t\\t'details',\\n\\t\\t\\t'groupItemsPerPage',\\n\\t\\t\\t'deleteFileConfirmation',\\n\\t\\t]),\\n\\t\\tgroupFilesSize() {\\n\\t\\t\\treturn this.allFiles.length === 0 ? this.detail.files.reduce((sum, file) => sum + Number(file.filesize), 0) : this.allFiles.reduce((sum, file) => sum + Number(file.filesize), 0)\\n\\t\\t},\\n\\t\\tgroupFilesTotal() {\\n\\t\\t\\treturn this.allFiles.length === 0 ? this.detail.files.length : this.allFiles.length\\n\\t\\t},\\n\\t\\tpagesRange() {\\n\\t\\t\\treturn Array.from({ length: Math.ceil(this.detail.files.length / this.groupItemsPerPage) }, (_, i) => i)\\n\\t\\t},\\n\\t},\\n\\twatch: {\\n\\t\\tchecked() {\\n\\t\\t\\tconst newCheckedDetailGroups = this.checkedDetailGroups\\n\\t\\t\\tconst detailIndex = newCheckedDetailGroups.findIndex(d => d.group_id === this.detail.group_id)\\n\\t\\t\\tif (this.checked) {\\n\\t\\t\\t\\tif (detailIndex === -1) {\\n\\t\\t\\t\\t\\tnewCheckedDetailGroups.push(this.detail)\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else if (detailIndex !== -1) {\\n\\t\\t\\t\\tnewCheckedDetailGroups.splice(detailIndex, 1)\\n\\t\\t\\t}\\n\\t\\t\\tthis.$emit('update:checkedDetailGroups', newCheckedDetailGroups)\\n\\t\\t},\\n\\t\\tfilesAscending() {\\n\\t\\t\\tthis.sortFiles(this.filesAscending)\\n\\t\\t},\\n\\t\\tcheckedDetailGroups() {\\n\\t\\t\\tconst detailIndex = this.checkedDetailGroups.findIndex(d => d.group_id === this.detail.group_id)\\n\\t\\t\\tif (!this.checked && detailIndex !== -1) {\\n\\t\\t\\t\\tthis.checked = true\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tgroupItemsPerPage(newGroupItemsPerPage) {\\n\\t\\t\\tif (this.opened) {\\n\\t\\t\\t\\tif (this.page >= Math.ceil(this.detail.files.length / newGroupItemsPerPage)) {\\n\\t\\t\\t\\t\\tthis.page = Math.ceil(this.detail.files.length / newGroupItemsPerPage) - 1\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tthis.paginatedFiles = this.paginateFiles(this.allFiles)\\n\\t\\t\\t\\tthis.files = this.paginatedFiles[this.page]\\n\\t\\t\\t\\tif (this.goToPage >= Math.ceil(this.detail.files.length / newGroupItemsPerPage)) {\\n\\t\\t\\t\\t\\tthis.goToPage = Math.ceil(this.detail.files.length / newGroupItemsPerPage)\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tallFiles(newAllFiles) {\\n\\t\\t\\tif (this.page >= Math.ceil(newAllFiles.length / this.groupItemsPerPage)) {\\n\\t\\t\\t\\tthis.page = Math.ceil(newAllFiles.length / this.groupItemsPerPage) - 1\\n\\t\\t\\t\\tthis.paginatedFiles = this.paginateFiles(this.allFiles)\\n\\t\\t\\t\\tthis.files = this.paginatedFiles[this.page]\\n\\t\\t\\t}\\n\\t\\t},\\n\\t},\\n\\tbeforeMount() {\\n\\t\\tconst detailCheckedIndex = this.checkedDetailGroups.findIndex(d => d.group_id === this.detail.group_id)\\n\\t\\tthis.checked = detailCheckedIndex !== -1\\n\\t\\tsubscribe('updateGroupFilesPagination', this.updateFilesPagination)\\n\\t\\tsubscribe('deselectGroups', this.deselect)\\n\\t\\tsubscribe('openGroup', this.openGroup)\\n\\t\\tsubscribe('toggleGroup', this.toggleGroup)\\n\\t},\\n\\tbeforeDestroy() {\\n\\t\\tunsubscribe('updateGroupFilesPagination', this.updateFilesPagination)\\n\\t\\tunsubscribe('deselectGroups', this.deselect)\\n\\t\\tunsubscribe('openGroup', this.openGroup)\\n\\t\\tunsubscribe('toggleGroup', this.toggleGroup)\\n\\t},\\n\\tmethods: {\\n\\t\\topenDetailFiles(detail) {\\n\\t\\t\\tif (!this.opened) {\\n\\t\\t\\t\\tif (this.files === undefined || this.files.length === 0) {\\n\\t\\t\\t\\t\\tconst taskId = detail.task_id\\n\\t\\t\\t\\t\\tconst detailId = detail.group_id\\n\\t\\t\\t\\t\\tthis.loadingFiles = true\\n\\t\\t\\t\\t\\tthis.opened = true\\n\\t\\t\\t\\t\\tif (this.allFiles.length === 0) {\\n\\t\\t\\t\\t\\t\\tthis.loadAllFilesInfo(taskId, detailId)\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tthis.files = this.paginatedFiles[this.page]\\n\\t\\t\\t\\t\\t\\tthis.loadingFiles = false\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tthis.opened = true\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tthis.opened = false\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\topenNextDetailFiles(detail) {\\n\\t\\t\\tif (this.page < Math.ceil(detail.files.length / this.groupItemsPerPage) - 1) {\\n\\t\\t\\t\\tthis.page += 1\\n\\t\\t\\t\\tthis.files = this.paginatedFiles[this.page]\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tshowWarning(this.t('mediadc', 'Last page reached!'))\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\topenPrevDetailFiles(detail) {\\n\\t\\t\\tif (this.page > 0) {\\n\\t\\t\\t\\tthis.page -= 1\\n\\t\\t\\t\\tthis.files = this.paginatedFiles[this.page]\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tshowWarning(this.t('mediadc', 'First page reached!'))\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tloadAllFilesInfo(taskId, detailId) {\\n\\t\\t\\taxios.get(generateUrl(`/apps/mediadc/api/v1/tasks/${taskId}/files/${detailId}/all`)).then(res => {\\n\\t\\t\\t\\tthis.allFiles = res.data.files\\n\\t\\t\\t\\tthis.paginatedFiles = this.paginateFiles(this.allFiles)\\n\\t\\t\\t\\tthis.files = this.paginatedFiles[this.page]\\n\\t\\t\\t\\tthis.loadingFiles = false\\n\\t\\t\\t})\\n\\t\\t},\\n\\t\\tpaginateFiles(files) {\\n\\t\\t\\tconst paginatedFiles = []\\n\\t\\t\\tfor (let i = 0; i < files.length; i++) {\\n\\t\\t\\t\\tconst last = paginatedFiles[paginatedFiles.length - 1]\\n\\t\\t\\t\\tif (!last || last.length === this.groupItemsPerPage) {\\n\\t\\t\\t\\t\\tpaginatedFiles.push([Object.freeze(files[i])])\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tlast.push(Object.freeze(files[i]))\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\treturn paginatedFiles\\n\\t\\t},\\n\\t\\tremoveTaskDetail(detail) {\\n\\t\\t\\tif (this.deleteFileConfirmation) {\\n\\t\\t\\t\\tconst self = this\\n\\t\\t\\t\\tOC.dialogs.confirm(this.t('mediadc', 'Are you sure you want to remove this group without deleting files?'),\\n\\t\\t\\t\\t\\tthis.t('mediadc', 'Confirm group removal'), function(success) {\\n\\t\\t\\t\\t\\t\\tif (success) {\\n\\t\\t\\t\\t\\t\\t\\tself._removeTaskDetail(detail)\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t})\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tthis._removeTaskDetail(detail)\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t_removeTaskDetail(detail) {\\n\\t\\t\\tthis.updating = true\\n\\t\\t\\taxios.delete(generateUrl(`/apps/mediadc/api/v1/tasks/${detail.task_id}/detail/${detail.group_id}`)).then(res => {\\n\\t\\t\\t\\tif (res.data.success) {\\n\\t\\t\\t\\t\\temit('openNextDetailGroup', this.detail)\\n\\t\\t\\t\\t\\tconst updatedDetails = [...this.details]\\n\\t\\t\\t\\t\\tconst removedDetailIndex = updatedDetails.findIndex(d => d.group_id === this.detail.group_id)\\n\\t\\t\\t\\t\\tupdatedDetails.splice(removedDetailIndex, 1)\\n\\t\\t\\t\\t\\tconst checkedIndex = this.checkedDetailGroups.findIndex(d => d.group_id === detail.group_id)\\n\\t\\t\\t\\t\\tconst newCheckedDetailGroups = [...this.checkedDetailGroups]\\n\\t\\t\\t\\t\\tif (this.checked && checkedIndex !== -1) {\\n\\t\\t\\t\\t\\t\\tnewCheckedDetailGroups.splice(checkedIndex, 1)\\n\\t\\t\\t\\t\\t\\tthis.$emit('update:checkedDetailGroups', newCheckedDetailGroups)\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\temit('updateTaskInfo')\\n\\t\\t\\t\\t\\tthis.$store.commit('setDetails', updatedDetails)\\n\\t\\t\\t\\t\\tshowSuccess(this.t('mediadc', 'Duplicate group succesffully removed'))\\n\\t\\t\\t\\t\\tconst detailCheckedIndex = this.checkedDetailGroups.findIndex(d => d.group_id === detail.group_id)\\n\\t\\t\\t\\t\\tif (detailCheckedIndex !== -1) {\\n\\t\\t\\t\\t\\t\\tconst newCheckedDetailGroups = this.checkedDetailGroups\\n\\t\\t\\t\\t\\t\\tnewCheckedDetailGroups.splice(detailCheckedIndex, 1)\\n\\t\\t\\t\\t\\t\\tthis.$emit('update:checkedDetailGroups', newCheckedDetailGroups)\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tthis.updating = false\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tshowError(this.t('mediadc', 'An error occurred while deleting duplicate group'))\\n\\t\\t\\t\\t\\tthis.updating = false\\n\\t\\t\\t\\t}\\n\\t\\t\\t}).catch(err => {\\n\\t\\t\\t\\tconsole.debug(err)\\n\\t\\t\\t\\tshowError(this.t('mediadc', 'An error occurred while deleting duplicate group'))\\n\\t\\t\\t\\tthis.updating = false\\n\\t\\t\\t})\\n\\t\\t},\\n\\t\\tsortFiles(ascending) {\\n\\t\\t\\tthis.allFiles.sort((a, b) => (ascending) ? a.filesize - b.filesize : b.filesize - a.filesize)\\n\\t\\t\\tthis.paginatedFiles = this.paginateFiles(this.allFiles)\\n\\t\\t\\tthis.files = this.paginatedFiles[this.page]\\n\\t\\t},\\n\\t\\tupdateFilesPagination(file) {\\n\\t\\t\\tif (file) {\\n\\t\\t\\t\\tconst deletedFileIndex = this.allFiles.findIndex(f => f.fileid === file.fileid)\\n\\t\\t\\t\\tif (deletedFileIndex !== -1) {\\n\\t\\t\\t\\t\\tthis.allFiles.splice(deletedFileIndex, 1)\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\tthis.paginatedFiles = this.paginateFiles(this.allFiles)\\n\\t\\t\\tthis.files = this.paginatedFiles[this.page]\\n\\t\\t},\\n\\t\\tdeselect(groupsToDeselect) {\\n\\t\\t\\tif (this.checked && groupsToDeselect.includes(this.detail.group_id)) {\\n\\t\\t\\t\\tthis.checked = false\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\topenGroup(detail) {\\n\\t\\t\\tif (this.detail.group_id === detail.group_id && !this.opened) {\\n\\t\\t\\t\\tthis.openDetailFiles(detail)\\n\\t\\t\\t\\tsetTimeout(() => {\\n\\t\\t\\t\\t\\tconst target = document.getElementById(`detail-${detail.task_id}-${detail.group_id}`)\\n\\t\\t\\t\\t\\tif (target) {\\n\\t\\t\\t\\t\\t\\ttarget.scrollIntoView({ behavior: 'smooth' })\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}, 500) // wait for the details to open and render files\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\ttoggleGroup(detail) {\\n\\t\\t\\tif (this.detail.group_id === detail.group_id) {\\n\\t\\t\\t\\tthis.openDetailFiles(detail)\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tnavigateToPage() {\\n\\t\\t\\tif (this.goToPage > this.pagesRange.length) {\\n\\t\\t\\t\\tthis.goToPage = this.pagesRange.length\\n\\t\\t\\t} else if (this.goToPage <= 0) {\\n\\t\\t\\t\\tthis.goToPage = 1\\n\\t\\t\\t}\\n\\t\\t\\tthis.page = this.goToPage - 1\\n\\t\\t\\tthis.files = this.paginatedFiles[this.page]\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style>\\n.open-details-btn .button-vue__text {\\n\\tdisplay: inline-flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n}\\n</style>\\n\\n<style scoped>\\n.details-list-item {\\n\\twidth: 100%;\\n\\tpadding: 10px;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: space-between;\\n\\tflex-direction: column;\\n\\tposition: relative;\\n}\\n\\n.details-list-item-title {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n}\\n\\n.pagination {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n}\\n\\n.group-info {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tuser-select: none;\\n}\\n\\n.delete-group-btn {\\n\\tvisibility: hidden;\\n}\\n\\n.details-list-item:hover .delete-group-btn {\\n\\tvisibility: visible;\\n}\\n\\n.batch-checkbox {\\n\\tvisibility: hidden;\\n\\tmargin-right: 14px;\\n}\\n\\n.batch-checkbox .checkbox-radio-switch__icon {\\n\\tmargin-right: 0;\\n\\tcolor: #000;\\n}\\n\\n.batch-checkbox.checkbox-radio-switch--checked {\\n\\tvisibility: visible;\\n}\\n\\n.details-list-item:hover .batch-checkbox {\\n\\tvisibility: visible;\\n}\\n\\n@media (max-width: 540px) {\\n\\t.delete-group-btn {\\n\\t\\tvisibility: visible;\\n\\t}\\n\\n\\t.batch-checkbox {\\n\\t\\tvisibility: visible;\\n\\t\\tmargin-right: 10px;\\n\\t}\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.details-list-item[data-v-d2859054] {\n\twidth: 100%;\n\tpadding: 10px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tflex-direction: column;\n\tposition: relative;\n}\n.details-list-item-title[data-v-d2859054] {\n\tdisplay: flex;\n\talign-items: center;\n}\n.pagination[data-v-d2859054] {\n\tdisplay: flex;\n\talign-items: center;\n}\n.group-info[data-v-d2859054] {\n\tdisplay: flex;\n\talign-items: center;\n\tuser-select: none;\n}\n.delete-group-btn[data-v-d2859054] {\n\tvisibility: hidden;\n}\n.details-list-item:hover .delete-group-btn[data-v-d2859054] {\n\tvisibility: visible;\n}\n.batch-checkbox[data-v-d2859054] {\n\tvisibility: hidden;\n\tmargin-right: 14px;\n}\n.batch-checkbox .checkbox-radio-switch__icon[data-v-d2859054] {\n\tmargin-right: 0;\n\tcolor: #000;\n}\n.batch-checkbox.checkbox-radio-switch--checked[data-v-d2859054] {\n\tvisibility: visible;\n}\n.details-list-item:hover .batch-checkbox[data-v-d2859054] {\n\tvisibility: visible;\n}\n@media (max-width: 540px) {\n.delete-group-btn[data-v-d2859054] {\n\t\tvisibility: visible;\n}\n.batch-checkbox[data-v-d2859054] {\n\t\tvisibility: visible;\n\t\tmargin-right: 10px;\n}\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/details/DetailsListItem.vue\"],\"names\":[],\"mappings\":\";AAmYA;CACA,WAAA;CACA,aAAA;CACA,aAAA;CACA,mBAAA;CACA,8BAAA;CACA,sBAAA;CACA,kBAAA;AACA;AAEA;CACA,aAAA;CACA,mBAAA;AACA;AAEA;CACA,aAAA;CACA,mBAAA;AACA;AAEA;CACA,aAAA;CACA,mBAAA;CACA,iBAAA;AACA;AAEA;CACA,kBAAA;AACA;AAEA;CACA,mBAAA;AACA;AAEA;CACA,kBAAA;CACA,kBAAA;AACA;AAEA;CACA,eAAA;CACA,WAAA;AACA;AAEA;CACA,mBAAA;AACA;AAEA;CACA,mBAAA;AACA;AAEA;AACA;EACA,mBAAA;AACA;AAEA;EACA,mBAAA;EACA,kBAAA;AACA;AACA\",\"sourcesContent\":[\"<!--\\n - @copyright Copyright (c) 2021-2022 Andrey Borysenko <andrey18106x@gmail.com>\\n -\\n - @copyright Copyright (c) 2021-2022 Alexander Piskun <bigcat88@icloud.com>\\n -\\n - @author 2021-2022 Andrey Borysenko <andrey18106x@gmail.com>\\n -\\n - @license AGPL-3.0-or-later\\n -\\n - This program is free software: you can redistribute it and/or modify\\n - it under the terms of the GNU Affero General Public License as\\n - published by the Free Software Foundation, either version 3 of the\\n - License, or (at your option) any later version.\\n -\\n - This program is distributed in the hope that it will be useful,\\n - but WITHOUT ANY WARRANTY; without even the implied warranty of\\n - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\\n - GNU Affero General Public License for more details.\\n -\\n - You should have received a copy of the GNU Affero General Public License\\n - along with this program. If not, see <http://www.gnu.org/licenses/>.\\n -\\n -->\\n\\n<template>\\n\\t<div :id=\\\"'detail-' + detail.task_id + '-' + detail.group_id\\\"\\n\\t\\tclass=\\\"details-list-item\\\"\\n\\t\\t:class=\\\"{'icon-loading': updating}\\\">\\n\\t\\t<div class=\\\"details-list-item-title\\\">\\n\\t\\t\\t<NcCheckboxRadioSwitch v-tooltip=\\\"{content: t('mediadc', 'Select group'), placement: 'top'}\\\"\\n\\t\\t\\t\\tclass=\\\"mediadc-checkbox-only batch-checkbox\\\"\\n\\t\\t\\t\\t:checked.sync=\\\"checked\\\" />\\n\\t\\t\\t<NcButton type=\\\"tertiary\\\"\\n\\t\\t\\t\\tclass=\\\"open-details-btn\\\"\\n\\t\\t\\t\\t:aria-label=\\\"t('mediadc', 'Open duplicate group')\\\"\\n\\t\\t\\t\\t@click=\\\"openDetailFiles(detail)\\\">\\n\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t<span class=\\\"icon-projects\\\" />\\n\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t<template #default>\\n\\t\\t\\t\\t\\t{{ t('mediadc', 'Duplicate group') }} #{{ detail.group_id }} ({{ groupFilesTotal }}\\n\\t\\t\\t\\t\\t{{ n('mediadc', 'file', 'files', groupFilesTotal) }}{{ ' - ' + formatBytes(groupFilesSize) }})\\n\\t\\t\\t\\t\\t<span :class=\\\"!opened ? 'icon-triangle-s' : 'icon-triangle-n'\\\"\\n\\t\\t\\t\\t\\t\\tstyle=\\\"display: inline-flex; margin: 0 0 0 5px;\\\" />\\n\\t\\t\\t\\t</template>\\n\\t\\t\\t</NcButton>\\n\\t\\t\\t<NcActions>\\n\\t\\t\\t\\t<NcActionButton icon=\\\"icon-delete delete-group-btn\\\" @click=\\\"removeTaskDetail(detail)\\\">\\n\\t\\t\\t\\t\\t{{ t('mediadc', 'Remove group without deleting files') }}\\n\\t\\t\\t\\t</NcActionButton>\\n\\t\\t\\t</NcActions>\\n\\t\\t</div>\\n\\t\\t<div v-if=\\\"opened && groupFilesTotal > groupItemsPerPage\\\" class=\\\"pagination\\\">\\n\\t\\t\\t<NcButton type=\\\"tertiary\\\"\\n\\t\\t\\t\\t:aria-label=\\\"t('mediadc', 'Previous duplicate group files page')\\\"\\n\\t\\t\\t\\tstyle=\\\"margin-right: 5px;\\\"\\n\\t\\t\\t\\t@click=\\\"openPrevDetailFiles(detail)\\\">\\n\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t<span class=\\\"icon-view-previous\\\" />\\n\\t\\t\\t\\t</template>\\n\\t\\t\\t</NcButton>\\n\\t\\t\\t<span>{{ t('mediadc', 'Page:') }}&nbsp;</span>\\n\\t\\t\\t<span>{{ page + 1 }}/{{ Math.ceil(groupFilesTotal / groupItemsPerPage) }}</span>\\n\\t\\t\\t<NcButton type=\\\"tertiary\\\"\\n\\t\\t\\t\\t:aria-label=\\\"t('mediadc', 'Next duplicate group files page')\\\"\\n\\t\\t\\t\\tstyle=\\\"margin-left: 5px;\\\"\\n\\t\\t\\t\\t@click=\\\"openNextDetailFiles(detail)\\\">\\n\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t<span class=\\\"icon-view-next\\\" />\\n\\t\\t\\t\\t</template>\\n\\t\\t\\t</NcButton>\\n\\t\\t\\t<input id=\\\"go_to_page\\\"\\n\\t\\t\\t\\tv-model=\\\"goToPage\\\"\\n\\t\\t\\t\\ttype=\\\"number\\\"\\n\\t\\t\\t\\tstyle=\\\"width: fit-content;\\\"\\n\\t\\t\\t\\t:min=\\\"1\\\"\\n\\t\\t\\t\\t:max=\\\"pagesRange[pagesRange.length - 1] + 1\\\"\\n\\t\\t\\t\\tname=\\\"go_to_page\\\"\\n\\t\\t\\t\\t:aria-label=\\\"t('mediadc', 'Page to navigate to')\\\"\\n\\t\\t\\t\\t@keyup.enter=\\\"navigateToPage\\\">\\n\\t\\t\\t<NcButton v-if=\\\"detail.files.length > groupItemsPerPage\\\"\\n\\t\\t\\t\\tv-tooltip=\\\"t('mediadc', 'Go to page')\\\"\\n\\t\\t\\t\\ttype=\\\"tertiary\\\"\\n\\t\\t\\t\\t:aria-label=\\\"t('mediadc', 'Navigate to duplicate list page')\\\"\\n\\t\\t\\t\\t@click=\\\"navigateToPage\\\">\\n\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t<span class=\\\"icon-confirm\\\" />\\n\\t\\t\\t\\t</template>\\n\\t\\t\\t</NcButton>\\n\\t\\t</div>\\n\\t\\t<DetailsGroupList v-if=\\\"opened\\\"\\n\\t\\t\\t:detail=\\\"detail\\\"\\n\\t\\t\\t:files=\\\"files\\\"\\n\\t\\t\\t:all-files=\\\"allFiles\\\"\\n\\t\\t\\t:loading-files.sync=\\\"loadingFiles\\\"\\n\\t\\t\\t:updating.sync=\\\"updating\\\"\\n\\t\\t\\t:files-ascending.sync=\\\"filesAscending\\\" />\\n\\t</div>\\n</template>\\n\\n<script>\\nimport axios from '@nextcloud/axios'\\nimport { generateUrl } from '@nextcloud/router'\\nimport { showError, showSuccess, showWarning } from '@nextcloud/dialogs'\\nimport { subscribe, unsubscribe, emit } from '@nextcloud/event-bus'\\nimport {\\n\\tNcCheckboxRadioSwitch,\\n\\tNcActions,\\n\\tNcActionButton,\\n\\tNcButton,\\n} from '@nextcloud/vue'\\n\\nimport { mapGetters } from 'vuex'\\n\\nimport Formats from '../../mixins/Formats.js'\\nimport DetailsGroupList from './DetailsGroupList.vue'\\n\\nexport default {\\n\\tname: 'DetailsListItem',\\n\\tcomponents: {\\n\\t\\tNcActions,\\n\\t\\tNcActionButton,\\n\\t\\tNcButton,\\n\\t\\tNcCheckboxRadioSwitch,\\n\\t\\tDetailsGroupList,\\n\\t},\\n\\tmixins: [Formats],\\n\\tprops: {\\n\\t\\tdetail: {\\n\\t\\t\\ttype: Object,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tcheckedDetailGroups: {\\n\\t\\t\\ttype: Array,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\topened: false,\\n\\t\\t\\tpage: 0,\\n\\t\\t\\ttotalPages: 0,\\n\\t\\t\\tloadingFiles: false,\\n\\t\\t\\tfiles: [],\\n\\t\\t\\tallFiles: [],\\n\\t\\t\\tpaginatedFiles: {},\\n\\t\\t\\tchecked: false,\\n\\t\\t\\tfilesAscending: false,\\n\\t\\t\\tupdating: false,\\n\\t\\t\\tgoToPage: 1,\\n\\t\\t}\\n\\t},\\n\\tcomputed: {\\n\\t\\t...mapGetters([\\n\\t\\t\\t'task',\\n\\t\\t\\t'details',\\n\\t\\t\\t'groupItemsPerPage',\\n\\t\\t\\t'deleteFileConfirmation',\\n\\t\\t]),\\n\\t\\tgroupFilesSize() {\\n\\t\\t\\treturn this.allFiles.length === 0 ? this.detail.files.reduce((sum, file) => sum + Number(file.filesize), 0) : this.allFiles.reduce((sum, file) => sum + Number(file.filesize), 0)\\n\\t\\t},\\n\\t\\tgroupFilesTotal() {\\n\\t\\t\\treturn this.allFiles.length === 0 ? this.detail.files.length : this.allFiles.length\\n\\t\\t},\\n\\t\\tpagesRange() {\\n\\t\\t\\treturn Array.from({ length: Math.ceil(this.detail.files.length / this.groupItemsPerPage) }, (_, i) => i)\\n\\t\\t},\\n\\t},\\n\\twatch: {\\n\\t\\tchecked() {\\n\\t\\t\\tconst newCheckedDetailGroups = this.checkedDetailGroups\\n\\t\\t\\tconst detailIndex = newCheckedDetailGroups.findIndex(d => d.group_id === this.detail.group_id)\\n\\t\\t\\tif (this.checked) {\\n\\t\\t\\t\\tif (detailIndex === -1) {\\n\\t\\t\\t\\t\\tnewCheckedDetailGroups.push(this.detail)\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else if (detailIndex !== -1) {\\n\\t\\t\\t\\tnewCheckedDetailGroups.splice(detailIndex, 1)\\n\\t\\t\\t}\\n\\t\\t\\tthis.$emit('update:checkedDetailGroups', newCheckedDetailGroups)\\n\\t\\t},\\n\\t\\tfilesAscending() {\\n\\t\\t\\tthis.sortFiles(this.filesAscending)\\n\\t\\t},\\n\\t\\tcheckedDetailGroups() {\\n\\t\\t\\tconst detailIndex = this.checkedDetailGroups.findIndex(d => d.group_id === this.detail.group_id)\\n\\t\\t\\tif (!this.checked && detailIndex !== -1) {\\n\\t\\t\\t\\tthis.checked = true\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tgroupItemsPerPage(newGroupItemsPerPage) {\\n\\t\\t\\tif (this.opened) {\\n\\t\\t\\t\\tif (this.page >= Math.ceil(this.detail.files.length / newGroupItemsPerPage)) {\\n\\t\\t\\t\\t\\tthis.page = Math.ceil(this.detail.files.length / newGroupItemsPerPage) - 1\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tthis.paginatedFiles = this.paginateFiles(this.allFiles)\\n\\t\\t\\t\\tthis.files = this.paginatedFiles[this.page]\\n\\t\\t\\t\\tif (this.goToPage >= Math.ceil(this.detail.files.length / newGroupItemsPerPage)) {\\n\\t\\t\\t\\t\\tthis.goToPage = Math.ceil(this.detail.files.length / newGroupItemsPerPage)\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tallFiles(newAllFiles) {\\n\\t\\t\\tif (this.page >= Math.ceil(newAllFiles.length / this.groupItemsPerPage)) {\\n\\t\\t\\t\\tthis.page = Math.ceil(newAllFiles.length / this.groupItemsPerPage) - 1\\n\\t\\t\\t\\tthis.paginatedFiles = this.paginateFiles(this.allFiles)\\n\\t\\t\\t\\tthis.files = this.paginatedFiles[this.page]\\n\\t\\t\\t}\\n\\t\\t},\\n\\t},\\n\\tbeforeMount() {\\n\\t\\tconst detailCheckedIndex = this.checkedDetailGroups.findIndex(d => d.group_id === this.detail.group_id)\\n\\t\\tthis.checked = detailCheckedIndex !== -1\\n\\t\\tsubscribe('updateGroupFilesPagination', this.updateFilesPagination)\\n\\t\\tsubscribe('deselectGroups', this.deselect)\\n\\t\\tsubscribe('openGroup', this.openGroup)\\n\\t\\tsubscribe('toggleGroup', this.toggleGroup)\\n\\t},\\n\\tbeforeDestroy() {\\n\\t\\tunsubscribe('updateGroupFilesPagination', this.updateFilesPagination)\\n\\t\\tunsubscribe('deselectGroups', this.deselect)\\n\\t\\tunsubscribe('openGroup', this.openGroup)\\n\\t\\tunsubscribe('toggleGroup', this.toggleGroup)\\n\\t},\\n\\tmethods: {\\n\\t\\topenDetailFiles(detail) {\\n\\t\\t\\tif (!this.opened) {\\n\\t\\t\\t\\tif (this.files === undefined || this.files.length === 0) {\\n\\t\\t\\t\\t\\tconst taskId = detail.task_id\\n\\t\\t\\t\\t\\tconst detailId = detail.group_id\\n\\t\\t\\t\\t\\tthis.loadingFiles = true\\n\\t\\t\\t\\t\\tthis.opened = true\\n\\t\\t\\t\\t\\tif (this.allFiles.length === 0) {\\n\\t\\t\\t\\t\\t\\tthis.loadAllFilesInfo(taskId, detailId)\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tthis.files = this.paginatedFiles[this.page]\\n\\t\\t\\t\\t\\t\\tthis.loadingFiles = false\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tthis.opened = true\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tthis.opened = false\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\topenNextDetailFiles(detail) {\\n\\t\\t\\tif (this.page < Math.ceil(detail.files.length / this.groupItemsPerPage) - 1) {\\n\\t\\t\\t\\tthis.page += 1\\n\\t\\t\\t\\tthis.files = this.paginatedFiles[this.page]\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tshowWarning(this.t('mediadc', 'Last page reached!'))\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\topenPrevDetailFiles(detail) {\\n\\t\\t\\tif (this.page > 0) {\\n\\t\\t\\t\\tthis.page -= 1\\n\\t\\t\\t\\tthis.files = this.paginatedFiles[this.page]\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tshowWarning(this.t('mediadc', 'First page reached!'))\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tloadAllFilesInfo(taskId, detailId) {\\n\\t\\t\\taxios.get(generateUrl(`/apps/mediadc/api/v1/tasks/${taskId}/files/${detailId}/all`)).then(res => {\\n\\t\\t\\t\\tthis.allFiles = res.data.files\\n\\t\\t\\t\\tthis.paginatedFiles = this.paginateFiles(this.allFiles)\\n\\t\\t\\t\\tthis.files = this.paginatedFiles[this.page]\\n\\t\\t\\t\\tthis.loadingFiles = false\\n\\t\\t\\t})\\n\\t\\t},\\n\\t\\tpaginateFiles(files) {\\n\\t\\t\\tconst paginatedFiles = []\\n\\t\\t\\tfor (let i = 0; i < files.length; i++) {\\n\\t\\t\\t\\tconst last = paginatedFiles[paginatedFiles.length - 1]\\n\\t\\t\\t\\tif (!last || last.length === this.groupItemsPerPage) {\\n\\t\\t\\t\\t\\tpaginatedFiles.push([Object.freeze(files[i])])\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tlast.push(Object.freeze(files[i]))\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\treturn paginatedFiles\\n\\t\\t},\\n\\t\\tremoveTaskDetail(detail) {\\n\\t\\t\\tif (this.deleteFileConfirmation) {\\n\\t\\t\\t\\tconst self = this\\n\\t\\t\\t\\tOC.dialogs.confirm(this.t('mediadc', 'Are you sure you want to remove this group without deleting files?'),\\n\\t\\t\\t\\t\\tthis.t('mediadc', 'Confirm group removal'), function(success) {\\n\\t\\t\\t\\t\\t\\tif (success) {\\n\\t\\t\\t\\t\\t\\t\\tself._removeTaskDetail(detail)\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t})\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tthis._removeTaskDetail(detail)\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t_removeTaskDetail(detail) {\\n\\t\\t\\tthis.updating = true\\n\\t\\t\\taxios.delete(generateUrl(`/apps/mediadc/api/v1/tasks/${detail.task_id}/detail/${detail.group_id}`)).then(res => {\\n\\t\\t\\t\\tif (res.data.success) {\\n\\t\\t\\t\\t\\temit('openNextDetailGroup', this.detail)\\n\\t\\t\\t\\t\\tconst updatedDetails = [...this.details]\\n\\t\\t\\t\\t\\tconst removedDetailIndex = updatedDetails.findIndex(d => d.group_id === this.detail.group_id)\\n\\t\\t\\t\\t\\tupdatedDetails.splice(removedDetailIndex, 1)\\n\\t\\t\\t\\t\\tconst checkedIndex = this.checkedDetailGroups.findIndex(d => d.group_id === detail.group_id)\\n\\t\\t\\t\\t\\tconst newCheckedDetailGroups = [...this.checkedDetailGroups]\\n\\t\\t\\t\\t\\tif (this.checked && checkedIndex !== -1) {\\n\\t\\t\\t\\t\\t\\tnewCheckedDetailGroups.splice(checkedIndex, 1)\\n\\t\\t\\t\\t\\t\\tthis.$emit('update:checkedDetailGroups', newCheckedDetailGroups)\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\temit('updateTaskInfo')\\n\\t\\t\\t\\t\\tthis.$store.commit('setDetails', updatedDetails)\\n\\t\\t\\t\\t\\tshowSuccess(this.t('mediadc', 'Duplicate group succesffully removed'))\\n\\t\\t\\t\\t\\tconst detailCheckedIndex = this.checkedDetailGroups.findIndex(d => d.group_id === detail.group_id)\\n\\t\\t\\t\\t\\tif (detailCheckedIndex !== -1) {\\n\\t\\t\\t\\t\\t\\tconst newCheckedDetailGroups = this.checkedDetailGroups\\n\\t\\t\\t\\t\\t\\tnewCheckedDetailGroups.splice(detailCheckedIndex, 1)\\n\\t\\t\\t\\t\\t\\tthis.$emit('update:checkedDetailGroups', newCheckedDetailGroups)\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tthis.updating = false\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tshowError(this.t('mediadc', 'An error occurred while deleting duplicate group'))\\n\\t\\t\\t\\t\\tthis.updating = false\\n\\t\\t\\t\\t}\\n\\t\\t\\t}).catch(err => {\\n\\t\\t\\t\\tconsole.debug(err)\\n\\t\\t\\t\\tshowError(this.t('mediadc', 'An error occurred while deleting duplicate group'))\\n\\t\\t\\t\\tthis.updating = false\\n\\t\\t\\t})\\n\\t\\t},\\n\\t\\tsortFiles(ascending) {\\n\\t\\t\\tthis.allFiles.sort((a, b) => (ascending) ? a.filesize - b.filesize : b.filesize - a.filesize)\\n\\t\\t\\tthis.paginatedFiles = this.paginateFiles(this.allFiles)\\n\\t\\t\\tthis.files = this.paginatedFiles[this.page]\\n\\t\\t},\\n\\t\\tupdateFilesPagination(file) {\\n\\t\\t\\tif (file) {\\n\\t\\t\\t\\tconst deletedFileIndex = this.allFiles.findIndex(f => f.fileid === file.fileid)\\n\\t\\t\\t\\tif (deletedFileIndex !== -1) {\\n\\t\\t\\t\\t\\tthis.allFiles.splice(deletedFileIndex, 1)\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\t\\t\\tthis.paginatedFiles = this.paginateFiles(this.allFiles)\\n\\t\\t\\tthis.files = this.paginatedFiles[this.page]\\n\\t\\t},\\n\\t\\tdeselect(groupsToDeselect) {\\n\\t\\t\\tif (this.checked && groupsToDeselect.includes(this.detail.group_id)) {\\n\\t\\t\\t\\tthis.checked = false\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\topenGroup(detail) {\\n\\t\\t\\tif (this.detail.group_id === detail.group_id && !this.opened) {\\n\\t\\t\\t\\tthis.openDetailFiles(detail)\\n\\t\\t\\t\\tsetTimeout(() => {\\n\\t\\t\\t\\t\\tconst target = document.getElementById(`detail-${detail.task_id}-${detail.group_id}`)\\n\\t\\t\\t\\t\\tif (target) {\\n\\t\\t\\t\\t\\t\\ttarget.scrollIntoView({ behavior: 'smooth' })\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t}, 500) // wait for the details to open and render files\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\ttoggleGroup(detail) {\\n\\t\\t\\tif (this.detail.group_id === detail.group_id) {\\n\\t\\t\\t\\tthis.openDetailFiles(detail)\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tnavigateToPage() {\\n\\t\\t\\tif (this.goToPage > this.pagesRange.length) {\\n\\t\\t\\t\\tthis.goToPage = this.pagesRange.length\\n\\t\\t\\t} else if (this.goToPage <= 0) {\\n\\t\\t\\t\\tthis.goToPage = 1\\n\\t\\t\\t}\\n\\t\\t\\tthis.page = this.goToPage - 1\\n\\t\\t\\tthis.files = this.paginatedFiles[this.page]\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style>\\n.open-details-btn .button-vue__text {\\n\\tdisplay: inline-flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n}\\n</style>\\n\\n<style scoped>\\n.details-list-item {\\n\\twidth: 100%;\\n\\tpadding: 10px;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: space-between;\\n\\tflex-direction: column;\\n\\tposition: relative;\\n}\\n\\n.details-list-item-title {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n}\\n\\n.pagination {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n}\\n\\n.group-info {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tuser-select: none;\\n}\\n\\n.delete-group-btn {\\n\\tvisibility: hidden;\\n}\\n\\n.details-list-item:hover .delete-group-btn {\\n\\tvisibility: visible;\\n}\\n\\n.batch-checkbox {\\n\\tvisibility: hidden;\\n\\tmargin-right: 14px;\\n}\\n\\n.batch-checkbox .checkbox-radio-switch__icon {\\n\\tmargin-right: 0;\\n\\tcolor: #000;\\n}\\n\\n.batch-checkbox.checkbox-radio-switch--checked {\\n\\tvisibility: visible;\\n}\\n\\n.details-list-item:hover .batch-checkbox {\\n\\tvisibility: visible;\\n}\\n\\n@media (max-width: 540px) {\\n\\t.delete-group-btn {\\n\\t\\tvisibility: visible;\\n\\t}\\n\\n\\t.batch-checkbox {\\n\\t\\tvisibility: visible;\\n\\t\\tmargin-right: 10px;\\n\\t}\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\ninput#go_to_page[data-v-07add7c2] {\n\twidth: fit-content;\n\tborder-color: var(--color-border-dark);\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/details/Pagination.vue\"],\"names\":[],\"mappings\":\";AAuHA;CACA,kBAAA;CACA,sCAAA;AACA\",\"sourcesContent\":[\"<!--\\n - @copyright Copyright (c) 2022 Andrey Borysenko <andrey18106x@gmail.com>\\n -\\n - @copyright Copyright (c) 2022 Alexander Piskun <bigcat88@icloud.com>\\n -\\n - @author 2022 Andrey Borysenko <andrey18106x@gmail.com>\\n -\\n - @license AGPL-3.0-or-later\\n -\\n - This program is free software: you can redistribute it and/or modify\\n - it under the terms of the GNU Affero General Public License as\\n - published by the Free Software Foundation, either version 3 of the\\n - License, or (at your option) any later version.\\n -\\n - This program is distributed in the hope that it will be useful,\\n - but WITHOUT ANY WARRANTY; without even the implied warranty of\\n - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\\n - GNU Affero General Public License for more details.\\n -\\n - You should have received a copy of the GNU Affero General Public License\\n - along with this program. If not, see <http://www.gnu.org/licenses/>.\\n -\\n -->\\n\\n<template>\\n\\t<div class=\\\"pagination\\\">\\n\\t\\t<NcButton v-if=\\\"details.length > itemsPerPage\\\"\\n\\t\\t\\ttype=\\\"tertiary\\\"\\n\\t\\t\\t:aria-label=\\\"t('mediadc', 'Previous duplicate list page')\\\"\\n\\t\\t\\t@click=\\\"prevGroupsPage\\\">\\n\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t<span class=\\\"icon-view-previous pagination-button\\\" />\\n\\t\\t\\t</template>\\n\\t\\t</NcButton>\\n\\t\\t<span v-if=\\\"details.length > itemsPerPage\\\" style=\\\"margin-left: 5px;\\\">{{ t('mediadc', 'Page:') }}&nbsp;</span>\\n\\t\\t<span v-if=\\\"details.length > itemsPerPage\\\" style=\\\"margin-right: 5px;\\\">{{ page + 1 }}/{{ Math.ceil(details.length / itemsPerPage) }}</span>\\n\\t\\t<NcButton v-if=\\\"details.length > itemsPerPage\\\"\\n\\t\\t\\ttype=\\\"tertiary\\\"\\n\\t\\t\\t:aria-label=\\\"t('mediadc', 'Next duplicate list page')\\\"\\n\\t\\t\\t@click=\\\"nextGroupsPage\\\">\\n\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t<span class=\\\"icon-view-next pagination-button\\\" />\\n\\t\\t\\t</template>\\n\\t\\t</NcButton>\\n\\t\\t<template v-if=\\\"details.length > itemsPerPage\\\">\\n\\t\\t\\t<input id=\\\"go_to_page\\\"\\n\\t\\t\\t\\tv-model=\\\"goToPage\\\"\\n\\t\\t\\t\\ttype=\\\"number\\\"\\n\\t\\t\\t\\t:min=\\\"1\\\"\\n\\t\\t\\t\\t:max=\\\"pagesRange[pagesRange.length - 1] + 1\\\"\\n\\t\\t\\t\\tname=\\\"go_to_page\\\"\\n\\t\\t\\t\\t:aria-label=\\\"t('mediadc', 'Page to navigate to')\\\"\\n\\t\\t\\t\\t@keyup.enter=\\\"navigateToPage\\\">\\n\\t\\t\\t<NcButton v-tooltip=\\\"t('mediadc', 'Go to page')\\\"\\n\\t\\t\\t\\ttype=\\\"tertiary\\\"\\n\\t\\t\\t\\t:aria-label=\\\"t('mediadc', 'Navigate to duplicate list page')\\\"\\n\\t\\t\\t\\t@click=\\\"navigateToPage\\\">\\n\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t<span class=\\\"icon-confirm\\\" />\\n\\t\\t\\t\\t</template>\\n\\t\\t\\t</NcButton>\\n\\t\\t</template>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport { NcButton } from '@nextcloud/vue'\\nimport { mapGetters } from 'vuex'\\n\\nexport default {\\n\\tname: 'Pagination',\\n\\tcomponents: {\\n\\t\\tNcButton,\\n\\t},\\n\\tprops: {\\n\\t\\tdetails: {\\n\\t\\t\\ttype: Array,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tprevGroupsPage: {\\n\\t\\t\\ttype: Function,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tnextGroupsPage: {\\n\\t\\t\\ttype: Function,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tpage: {\\n\\t\\t\\ttype: Number,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\tgoToPage: 1,\\n\\t\\t}\\n\\t},\\n\\tcomputed: {\\n\\t\\t...mapGetters([\\n\\t\\t\\t'itemsPerPage',\\n\\t\\t]),\\n\\t\\tpagesRange() {\\n\\t\\t\\treturn Array.from({ length: Math.ceil(this.details.length / this.itemsPerPage) }, (_, i) => i)\\n\\t\\t},\\n\\t},\\n\\tmethods: {\\n\\t\\tnavigateToPage() {\\n\\t\\t\\tif (this.goToPage > this.pagesRange.length) {\\n\\t\\t\\t\\tthis.goToPage = this.pagesRange.length\\n\\t\\t\\t} else if (this.goToPage <= 0) {\\n\\t\\t\\t\\tthis.goToPage = 1\\n\\t\\t\\t}\\n\\t\\t\\tthis.$emit('update:page', this.goToPage - 1)\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style scoped>\\ninput#go_to_page {\\n\\twidth: fit-content;\\n\\tborder-color: var(--color-border-dark);\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.fade-enter-active[data-v-d11ce3a6],\n.fade-leave-active[data-v-d11ce3a6] {\n\ttransition: opacity 250ms;\n}\n.fade-enter[data-v-d11ce3a6],\n.fade-leave-to[data-v-d11ce3a6] {\n\topacity: 0;\n}\n.fade-visibility-enter[data-v-d11ce3a6],\n.fade-visibility-leave-to[data-v-d11ce3a6] {\n\tvisibility: hidden;\n\topacity: 0;\n}\n.block-wrapper[data-v-d11ce3a6] {\n\tposition: fixed;\n\tz-index: 9998;\n\ttop: 0;\n\tleft: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 100%;\n\theight: 100%;\n}\n.edit-task-block[data-v-d11ce3a6] {\n\tposition: relative;\n\tborder: 1px solid var(--color-border-dark);\n\tborder-radius: var(--border-radius-large);\n\tbox-shadow: 0 0 30px var(--color-box-shadow);\n\tpadding: 20px 20px 10px;\n\twidth: 100%;\n\tmax-width: 600px;\n\tmargin: auto;\n\tbackground-color: var(--color-main-background);\n}\n.edit-task-close[data-v-d11ce3a6] {\n\tposition: absolute;\n\ttop: 10px;\n\tright: 5px;\n\tpadding: 25px;\n\tbackground: var(--icon-close-dark) no-repeat center;\n\topacity: .5;\n\tcursor: pointer;\n}\n.edit-task-close[data-v-d11ce3a6]:hover {\n\topacity: 1;\n}\n@media (max-width: 767px) {\n.selection-container[data-v-d11ce3a6] {\n\t\tflex-wrap: wrap;\n}\n}\n@media (max-width: 540px) {\n.edit-task-block[data-v-d11ce3a6] {\n\t\twidth: 90vw;\n\t\theight: 80vh;\n\t\toverflow-y: scroll;\n\t\ttop: calc(100% - 96vh);\n}\n}\n.delete-button[data-v-d11ce3a6] {\n\tdisplay: inline-flex;\n\twidth: 15px;\n\theight: 15px;\n\tcursor: pointer;\n\tmargin: 0 10px;\n}\n.create-task-actions[data-v-d11ce3a6] {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tmargin-top: 5px;\n\tpadding: 0 10px;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/tasks/TasksEdit.vue\"],\"names\":[],\"mappings\":\";AA6aA;;CAEA,yBAAA;AACA;AAEA;;CAEA,UAAA;AACA;AAEA;;CAEA,kBAAA;CACA,UAAA;AACA;AAEA;CACA,eAAA;CACA,aAAA;CACA,MAAA;CACA,OAAA;CACA,aAAA;CACA,mBAAA;CACA,uBAAA;CACA,WAAA;CACA,YAAA;AAEA;AAEA;CACA,kBAAA;CACA,0CAAA;CACA,yCAAA;CACA,4CAAA;CACA,uBAAA;CACA,WAAA;CACA,gBAAA;CACA,YAAA;CACA,8CAAA;AACA;AAEA;CACA,kBAAA;CACA,SAAA;CACA,UAAA;CACA,aAAA;CACA,mDAAA;CACA,WAAA;CACA,eAAA;AACA;AAEA;CACA,UAAA;AACA;AAEA;AACA;EACA,eAAA;AACA;AACA;AAEA;AACA;EACA,WAAA;EACA,YAAA;EACA,kBAAA;EACA,sBAAA;AACA;AACA;AAEA;CACA,oBAAA;CACA,WAAA;CACA,YAAA;CACA,eAAA;CACA,cAAA;AACA;AAEA;CACA,aAAA;CACA,mBAAA;CACA,8BAAA;CACA,eAAA;CACA,eAAA;AACA\",\"sourcesContent\":[\"<!--\\n - @copyright Copyright (c) 2021-2022 Andrey Borysenko <andrey18106x@gmail.com>\\n -\\n - @copyright Copyright (c) 2021-2022 Alexander Piskun <bigcat88@icloud.com>\\n -\\n - @author Andrey Borysenko <andrey18106x@gmail.com>\\n -\\n - @license AGPL-3.0-or-later\\n -\\n - This program is free software: you can redistribute it and/or modify\\n - it under the terms of the GNU Affero General Public License as\\n - published by the Free Software Foundation, either version 3 of the\\n - License, or (at your option) any later version.\\n -\\n - This program is distributed in the hope that it will be useful,\\n - but WITHOUT ANY WARRANTY; without even the implied warranty of\\n - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\\n - GNU Affero General Public License for more details.\\n -\\n - You should have received a copy of the GNU Affero General Public License\\n - along with this program. If not, see <http://www.gnu.org/licenses/>.\\n -\\n -->\\n\\n<template>\\n\\t<transition name=\\\"fade\\\">\\n\\t\\t<div class=\\\"block-wrapper\\\">\\n\\t\\t\\t<div class=\\\"edit-task-block\\\">\\n\\t\\t\\t\\t<div class=\\\"edit-task-close\\\" @click=\\\"closeEditTaskDialog()\\\" />\\n\\t\\t\\t\\t<h2>{{ t('mediadc', 'Edit task') }}</h2>\\n\\t\\t\\t\\t<div class=\\\"selection-container\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"block target-directories-block\\\">\\n\\t\\t\\t\\t\\t\\t<h3>{{ t('mediadc', 'Target directories') }}</h3>\\n\\t\\t\\t\\t\\t\\t<div v-if=\\\"targetDirectoriesIds.length > 0\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div v-for=\\\"fileid in targetDirectoriesIds\\\" :key=\\\"fileid\\\" class=\\\"selected-target-directories-list\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"target-directory\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\\\"overflow-y: scroll; white-space: nowrap;\\\">{{ targetDirectoriesPaths[fileid] }}</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<NcButton v-tooltip=\\\"{ content: t('mediadc', 'Remove'), placement: 'left'}\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttype=\\\"tertiary\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t:aria-label=\\\"t('mediadc', 'Remove selected target directory')\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t@click=\\\"removeTargetDirectory(fileid)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"icon-delete\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</NcButton>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div v-else>\\n\\t\\t\\t\\t\\t\\t\\t<span>{{ t('mediadc', 'Not selected') }}</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t\\t\\t<NcButton :aria-label=\\\"t('mediadc', 'Select target directory')\\\"\\n\\t\\t\\t\\t\\t\\t\\t@click=\\\"openDirectoriesExplorer\\\">\\n\\t\\t\\t\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t\\t\\t\\t<PlusThick :size=\\\"16\\\" />\\n\\t\\t\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t\\t\\t\\t{{ t('mediadc', 'Select') }}\\n\\t\\t\\t\\t\\t\\t</NcButton>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"block\\\">\\n\\t\\t\\t\\t\\t\\t<h3>{{ t('mediadc', 'Exclude directories') }}</h3>\\n\\t\\t\\t\\t\\t\\t<div v-if=\\\"excludeDirectoriesPaths.length > 0\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div v-for=\\\"fileid in Object.keys(excludeFileIds)\\\" :key=\\\"fileid\\\" class=\\\"selected-excluded-directories-list\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"target-directory\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span style=\\\"overflow-y: scroll; white-space: nowrap;\\\">{{ excludeFileIds[fileid] }}</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<NcButton v-tooltip=\\\"{ content: t('mediadc', 'Remove'), placement: 'left'}\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\ttype=\\\"tertiary\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t:aria-label=\\\"t('mediadc', 'Remove selected exclude directory')\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t@click=\\\"removeExcludeDirectory(fileid)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"icon-delete\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</NcButton>\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div v-else>\\n\\t\\t\\t\\t\\t\\t\\t<span>{{ t('mediadc', 'Not selected') }}</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t\\t\\t<NcButton :aria-label=\\\"t('mediadc', 'Select exclude directory')\\\"\\n\\t\\t\\t\\t\\t\\t\\t@click=\\\"openExcludeExplorer\\\">\\n\\t\\t\\t\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t\\t\\t\\t<PlusThick :size=\\\"16\\\" />\\n\\t\\t\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t\\t\\t\\t{{ t('mediadc', 'Select') }}\\n\\t\\t\\t\\t\\t\\t</NcButton>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"selection-container\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"block\\\">\\n\\t\\t\\t\\t\\t\\t<h3>{{ t('mediadc', 'Custom exclude mask') }}</h3>\\n\\t\\t\\t\\t\\t\\t<div v-if=\\\"customExcludeList.length > 0\\\" class=\\\"custom-masks-list\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div v-for=\\\"(mask, index) in customExcludeList\\\" :key=\\\"index\\\" class=\\\"custom-mask\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<span>{{ mask }}</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t<NcButton v-tooltip=\\\"{ content: t('mediadc', 'Remove'), placement: 'left'}\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ttype=\\\"tertiary\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t:aria-label=\\\"t('mediadc', 'Remove selected custom exclude mask')\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t@click=\\\"deleteCustomMask(mask)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"icon-delete\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t\\t\\t\\t\\t</NcButton>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div v-else>\\n\\t\\t\\t\\t\\t\\t\\t<span>{{ t('mediadc', 'Not added') }}</span>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div v-if=\\\"addingCustomMask\\\" style=\\\"display: flex; align-items: center;\\\">\\n\\t\\t\\t\\t\\t\\t\\t<input id=\\\"custom-exclude-mask\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\tref=\\\"customExcludeMask\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\tv-model=\\\"customExcludeMask\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\ttype=\\\"text\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t@keyup.enter=\\\"addCustomMask\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t@keyup.esc=\\\"cancelAddingCustomMask\\\">\\n\\t\\t\\t\\t\\t\\t\\t<NcButton v-tooltip=\\\"t('mediadc', 'Confirm')\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\ttype=\\\"tertiary\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t:aria-label=\\\"t('mediadc', 'Confirm adding of the custom exclude mask')\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t@click=\\\"addCustomMask\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"icon-checkmark\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t\\t\\t\\t</NcButton>\\n\\t\\t\\t\\t\\t\\t\\t<NcButton v-tooltip=\\\"t('mediadc', 'Decline')\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\ttype=\\\"tertiary\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t:aria-label=\\\"t('mediadc', 'Cancel adding of the custom exclude mask')\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t@click=\\\"cancelAddingCustomMask\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<span class=\\\"icon-close\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t\\t\\t\\t</NcButton>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<div style=\\\"display: flex; align-items: center; margin: 20px 0;\\\">\\n\\t\\t\\t\\t\\t\\t\\t<NcButton :aria-label=\\\"t('mediadc', 'Add custom exclude mask')\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t@click=\\\"addNewMask\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<PlusThick :size=\\\"16\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t\\t\\t\\t\\t<template #default>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ t('mediadc', 'Add mask') }}\\n\\t\\t\\t\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t\\t\\t\\t</NcButton>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"block\\\">\\n\\t\\t\\t\\t\\t\\t<h3 style=\\\"margin: 5px 0;\\\">\\n\\t\\t\\t\\t\\t\\t\\t{{ t('mediadc', 'Target Mime Type') }}\\n\\t\\t\\t\\t\\t\\t</h3>\\n\\t\\t\\t\\t\\t\\t<select id=\\\"target_mtype\\\"\\n\\t\\t\\t\\t\\t\\t\\tv-model=\\\"targetMimeType\\\"\\n\\t\\t\\t\\t\\t\\t\\tname=\\\"target_mtype\\\">\\n\\t\\t\\t\\t\\t\\t\\t<option :value=\\\"0\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t{{ t('mediadc', 'Photos') }}\\n\\t\\t\\t\\t\\t\\t\\t</option>\\n\\t\\t\\t\\t\\t\\t\\t<option :value=\\\"1\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t{{ t('mediadc', 'Videos') }}\\n\\t\\t\\t\\t\\t\\t\\t</option>\\n\\t\\t\\t\\t\\t\\t\\t<option :value=\\\"2\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t{{ t('mediadc', 'Photos and Videos') }}\\n\\t\\t\\t\\t\\t\\t\\t</option>\\n\\t\\t\\t\\t\\t\\t</select>\\n\\t\\t\\t\\t\\t\\t<h3 style=\\\"margin: 5px 0;\\\">\\n\\t\\t\\t\\t\\t\\t\\t{{ t('mediadc', 'Similarity threshold') }}\\n\\t\\t\\t\\t\\t\\t</h3>\\n\\t\\t\\t\\t\\t\\t<input v-model=\\\"similarity_threshold\\\"\\n\\t\\t\\t\\t\\t\\t\\ttype=\\\"number\\\"\\n\\t\\t\\t\\t\\t\\t\\tmin=\\\"50\\\"\\n\\t\\t\\t\\t\\t\\t\\tmax=\\\"100\\\"\\n\\t\\t\\t\\t\\t\\t\\tstyle=\\\"margin: 0 0 10px;\\\">\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div class=\\\"create-task-actions\\\">\\n\\t\\t\\t\\t\\t<NcButton :aria-label=\\\"t('mediadc', 'Restart Task with changed parameters')\\\"\\n\\t\\t\\t\\t\\t\\t:disabled=\\\"runningTask || Object.keys(targetDirectoriesPaths).length === 0\\\"\\n\\t\\t\\t\\t\\t\\t@click=\\\"restartTask\\\">\\n\\t\\t\\t\\t\\t\\t<template #default>\\n\\t\\t\\t\\t\\t\\t\\t{{ t('mediadc', 'Restart task') }}\\n\\t\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t\\t\\t<template v-if=\\\"runningTask\\\" #icon>\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"icon-loading-small\\\" />\\n\\t\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t\\t</NcButton>\\n\\t\\t\\t\\t\\t<input v-model=\\\"taskName\\\"\\n\\t\\t\\t\\t\\t\\ttype=\\\"text\\\"\\n\\t\\t\\t\\t\\t\\t:placeholder=\\\"t('mediadc', 'Task name')\\\">\\n\\t\\t\\t\\t\\t<NcCheckboxRadioSwitch :checked.sync=\\\"finishNotification\\\">\\n\\t\\t\\t\\t\\t\\t{{ t('mediadc', 'Finish notification') }}\\n\\t\\t\\t\\t\\t</NcCheckboxRadioSwitch>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</transition>\\n</template>\\n\\n<script>\\nimport axios from '@nextcloud/axios'\\nimport { getCurrentUser } from '@nextcloud/auth'\\nimport { generateUrl } from '@nextcloud/router'\\nimport { getFilePickerBuilder, showWarning, showSuccess, showError } from '@nextcloud/dialogs'\\nimport { emit } from '@nextcloud/event-bus'\\n\\nimport { NcCheckboxRadioSwitch, NcButton } from '@nextcloud/vue'\\nimport PlusThick from 'vue-material-design-icons/PlusThick.vue'\\n\\nimport { mapGetters } from 'vuex'\\n\\nimport { requestFileInfo, getFileId } from '../../utils/files.js'\\n\\nexport default {\\n\\tname: 'TasksEdit',\\n\\tcomponents: {\\n\\t\\tNcButton,\\n\\t\\tNcCheckboxRadioSwitch,\\n\\t\\tPlusThick,\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\ttargetDirectoriesPaths: {},\\n\\t\\t\\ttargetDirectoriesIds: [],\\n\\t\\t\\texcludeDirectoriesPaths: [],\\n\\t\\t\\texcludeFileIds: {},\\n\\t\\t\\ttargetMimeType: 0,\\n\\t\\t\\tsimilarity_threshold: 90,\\n\\t\\t\\tcustomExcludeList: [],\\n\\t\\t\\tcustomExcludeMask: '',\\n\\t\\t\\taddingCustomMask: false,\\n\\t\\t\\trunningTask: false,\\n\\t\\t\\tfinishNotification: true,\\n\\t\\t\\ttaskName: '',\\n\\t\\t}\\n\\t},\\n\\tcomputed: {\\n\\t\\t...mapGetters([\\n\\t\\t\\t'settings',\\n\\t\\t\\t'settingByName',\\n\\t\\t\\t'tasks',\\n\\t\\t\\t'task',\\n\\t\\t\\t'taskInfo',\\n\\t\\t]),\\n\\t},\\n\\tbeforeMount() {\\n\\t\\tthis.similarity_threshold = this.settingByName('similarity_threshold') !== undefined\\n\\t\\t\\t? this.settingByName('similarity_threshold').value\\n\\t\\t\\t: 90\\n\\t\\tthis.targetMimeType = JSON.parse(this.task.collector_settings).target_mtype\\n\\t\\tthis.similarity_threshold = JSON.parse(this.task.collector_settings).similarity_threshold\\n\\t\\tthis.finishNotification = JSON.parse(this.task.collector_settings).finish_notification\\n\\t\\tthis.taskName = this.task.name\\n\\t\\tthis.parseTaskSettings()\\n\\t},\\n\\tmethods: {\\n\\t\\tparseTaskSettings() {\\n\\t\\t\\tif (this.taskInfo !== null && 'target_directories' in this.taskInfo) {\\n\\t\\t\\t\\tthis.taskInfo.target_directories.forEach(dir => {\\n\\t\\t\\t\\t\\tthis.targetDirectoriesIds.push(dir.fileid.toString())\\n\\t\\t\\t\\t\\tthis.targetDirectoriesPaths[dir.fileid.toString()] = dir.filepath.replace(`/${getCurrentUser().uid}/files`, '') !== '' ? dir.filepath.replace(`/${getCurrentUser().uid}/files`, '') : '/'\\n\\t\\t\\t\\t})\\n\\t\\t\\t}\\n\\t\\t\\tif (this.taskInfo !== null && 'exclude_directories' in this.taskInfo) {\\n\\t\\t\\t\\tthis.taskInfo.exclude_directories.forEach(dir => {\\n\\t\\t\\t\\t\\tthis.excludeDirectoriesPaths.push(dir.filepath.replace())\\n\\t\\t\\t\\t\\tthis.excludeFileIds[dir.fileid.toString()] = dir.filepath.replace(`/${getCurrentUser().uid}/files`, '')\\n\\t\\t\\t\\t})\\n\\t\\t\\t\\tthis.customExcludeList = JSON.parse(this.task.exclude_list).user.mask\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tgetDirectoriesPicker(title) {\\n\\t\\t\\treturn getFilePickerBuilder(title)\\n\\t\\t\\t\\t.setMultiSelect(false)\\n\\t\\t\\t\\t.addMimeTypeFilter('httpd/unix-directory')\\n\\t\\t\\t\\t.setType(1)\\n\\t\\t\\t\\t.allowDirectories(true)\\n\\t\\t\\t\\t.build()\\n\\t\\t},\\n\\t\\topenDirectoriesExplorer() {\\n\\t\\t\\tthis.getDirectoriesPicker(this.t('mediadc', 'Choose target directory')).pick().then(dir => {\\n\\t\\t\\t\\tif (dir.startsWith('/')) {\\n\\t\\t\\t\\t\\trequestFileInfo(dir).then(res => {\\n\\t\\t\\t\\t\\t\\tconst fileid = getFileId(res.data)\\n\\t\\t\\t\\t\\t\\tif (fileid !== -1) {\\n\\t\\t\\t\\t\\t\\t\\tif (!(fileid in this.targetDirectoriesPaths)) {\\n\\t\\t\\t\\t\\t\\t\\t\\tthis.targetDirectoriesIds.push(fileid)\\n\\t\\t\\t\\t\\t\\t\\t\\tthis.targetDirectoriesPaths[fileid.toString()] = dir\\n\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\tshowWarning(this.t('mediadc', 'This directory already selected'))\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\trequestFileInfo('/').then(res => {\\n\\t\\t\\t\\t\\t\\tconst fileid = getFileId(res.data)\\n\\t\\t\\t\\t\\t\\tif (fileid !== -1) {\\n\\t\\t\\t\\t\\t\\t\\tif (!(fileid in this.targetDirectoriesPaths)) {\\n\\t\\t\\t\\t\\t\\t\\t\\tthis.targetDirectoriesIds.push(fileid)\\n\\t\\t\\t\\t\\t\\t\\t\\tthis.targetDirectoriesPaths[fileid.toString()] = '/'\\n\\t\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\t\\tshowWarning(this.t('mediadc', 'This directory already selected'))\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t}\\n\\t\\t\\t})\\n\\t\\t},\\n\\t\\topenExcludeExplorer() {\\n\\t\\t\\tthis.getDirectoriesPicker(this.t('mediadc', 'Choose directory to exclude')).pick().then(dir => {\\n\\t\\t\\t\\tif (Object.values(this.excludeFileIds).findIndex(targetDir => targetDir === dir) === -1) {\\n\\t\\t\\t\\t\\tif (dir.startsWith('/')) {\\n\\t\\t\\t\\t\\t\\trequestFileInfo(dir).then(res => {\\n\\t\\t\\t\\t\\t\\t\\tconst fileid = getFileId(res.data)\\n\\t\\t\\t\\t\\t\\t\\tif (fileid !== -1) {\\n\\t\\t\\t\\t\\t\\t\\t\\tthis.excludeDirectoriesPaths.push(dir)\\n\\t\\t\\t\\t\\t\\t\\t\\tthis.excludeFileIds[fileid.toString()] = dir\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\trequestFileInfo('/').then(res => {\\n\\t\\t\\t\\t\\t\\t\\tconst fileid = getFileId(res.data)\\n\\t\\t\\t\\t\\t\\t\\tif (fileid !== -1) {\\n\\t\\t\\t\\t\\t\\t\\t\\tthis.excludeDirectoriesPaths.push(dir)\\n\\t\\t\\t\\t\\t\\t\\t\\tthis.excludeFileIds[fileid.toString()] = '/'\\n\\t\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tshowWarning(this.t('mediadc', 'This directory already excluded'))\\n\\t\\t\\t\\t}\\n\\t\\t\\t})\\n\\t\\t},\\n\\t\\trestartTask() {\\n\\t\\t\\tthis.runningTask = true\\n\\t\\t\\tthis.$store.dispatch('getSettings').then(() => {\\n\\t\\t\\t\\taxios.post(generateUrl('/apps/mediadc/api/v1/tasks/restart'), {\\n\\t\\t\\t\\t\\ttaskId: this.task.id,\\n\\t\\t\\t\\t\\ttargetDirectoryIds: JSON.stringify(this.targetDirectoriesIds),\\n\\t\\t\\t\\t\\texcludeList: {\\n\\t\\t\\t\\t\\t\\tuser: {\\n\\t\\t\\t\\t\\t\\t\\tmask: this.customExcludeList,\\n\\t\\t\\t\\t\\t\\t\\tfileid: Object.keys(this.excludeFileIds).map(item => Number(item)),\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\tadmin: JSON.parse(this.settingByName('exclude_list').value) || { mask: [], fileid: [] },\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\tcollectorSettings: {\\n\\t\\t\\t\\t\\t\\thashing_algorithm: JSON.parse(this.settingByName('hashing_algorithm').value) || 'dhash',\\n\\t\\t\\t\\t\\t\\tsimilarity_threshold: Number(this.similarity_threshold),\\n\\t\\t\\t\\t\\t\\thash_size: Number(this.settingByName('hash_size').value) || 16,\\n\\t\\t\\t\\t\\t\\ttarget_mtype: this.targetMimeType,\\n\\t\\t\\t\\t\\t\\tfinish_notification: this.finishNotification,\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\tname: this.taskName,\\n\\t\\t\\t\\t}).then(res => {\\n\\t\\t\\t\\t\\tthis.runningTask = false\\n\\t\\t\\t\\t\\tif (res.data.success) {\\n\\t\\t\\t\\t\\t\\tthis.runningTask = false\\n\\t\\t\\t\\t\\t\\tthis.closeEditTaskDialog()\\n\\t\\t\\t\\t\\t\\temit('restartTask')\\n\\t\\t\\t\\t\\t\\tshowSuccess(this.t('mediadc', 'Task successfully restarted!'))\\n\\t\\t\\t\\t\\t} else if (res.data.limit) {\\n\\t\\t\\t\\t\\t\\tshowWarning(this.t('mediadc', 'Running tasks limit exceeded. Try again later.'))\\n\\t\\t\\t\\t\\t} else if (res.data.empty) {\\n\\t\\t\\t\\t\\t\\tshowWarning(this.n('mediadc', 'Target folder has no files or all of them excluded', 'Target folders have no files or all of them excluded', this.targetDirectoriesIds.length))\\n\\t\\t\\t\\t\\t} else if (res.data.php_exec_not_enabled) {\\n\\t\\t\\t\\t\\t\\tshowError(t('mediadc', 'Task run error: PHP `exec` function is not enabled'))\\n\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\tshowWarning(t('medaidc', 'Some error occurred while running Collector Task. Try again.'))\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t})\\n\\t\\t\\t})\\n\\t\\t},\\n\\t\\tremoveTargetDirectory(fileid) {\\n\\t\\t\\tdelete this.targetDirectoriesPaths[fileid]\\n\\t\\t\\tconst fileidIndex = this.targetDirectoriesIds.findIndex(id => id === fileid)\\n\\t\\t\\tthis.targetDirectoriesIds.splice(fileidIndex, 1)\\n\\t\\t},\\n\\t\\tremoveExcludeDirectory(fileid) {\\n\\t\\t\\tif (fileid in this.excludeFileIds) {\\n\\t\\t\\t\\tconst dirIndex = this.excludeDirectoriesPaths.findIndex(dir => dir === this.excludeFileIds[fileid])\\n\\t\\t\\t\\tthis.excludeDirectoriesPaths.splice(dirIndex, 1)\\n\\t\\t\\t\\tdelete this.excludeFileIds[fileid]\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\taddNewMask() {\\n\\t\\t\\tthis.addingCustomMask = true\\n\\t\\t\\tsetTimeout(() => {\\n\\t\\t\\t\\tthis.$refs.customExcludeMask.focus()\\n\\t\\t\\t}, 100)\\n\\t\\t},\\n\\t\\taddCustomMask() {\\n\\t\\t\\tif (this.customExcludeMask.length > 0) {\\n\\t\\t\\t\\tif (this.customExcludeList.findIndex(mask => mask === this.customExcludeMask) === -1) {\\n\\t\\t\\t\\t\\tthis.customExcludeList.push(this.customExcludeMask)\\n\\t\\t\\t\\t\\tthis.customExcludeMask = ''\\n\\t\\t\\t\\t\\tthis.addingCustomMask = false\\n\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\tshowWarning(this.t('mediadc', 'This mask already exists!'))\\n\\t\\t\\t\\t}\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tshowWarning(this.t('mediadc', 'Enter custom mask!'))\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tcancelAddingCustomMask() {\\n\\t\\t\\tthis.customExcludeMask = ''\\n\\t\\t\\tthis.addingCustomMask = false\\n\\t\\t},\\n\\t\\tdeleteCustomMask(mask) {\\n\\t\\t\\tconst maskIndex = this.customExcludeList.findIndex(m => m === mask)\\n\\t\\t\\tthis.customExcludeList.splice(maskIndex, 1)\\n\\t\\t},\\n\\t\\tresetForm() {\\n\\t\\t\\tthis.targetDirectoriesPaths = {}\\n\\t\\t\\tthis.targetDirectoriesIds = []\\n\\t\\t\\tthis.excludeDirectoriesNames = []\\n\\t\\t\\tthis.excludeFileIds = {}\\n\\t\\t\\tthis.targetMimeType = 0\\n\\t\\t\\tthis.similarity_threshold = this.settingByName('similarity_threshold') !== undefined\\n\\t\\t\\t\\t? this.settingByName('similarity_threshold').value\\n\\t\\t\\t\\t: 90\\n\\t\\t\\tthis.customExcludeList = []\\n\\t\\t\\tthis.runningTask = false\\n\\t\\t\\tthis.finishNotification = true\\n\\t\\t},\\n\\t\\tcloseEditTaskDialog() {\\n\\t\\t\\tthis.$emit('update:opened', false)\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style scoped>\\n.fade-enter-active,\\n.fade-leave-active {\\n\\ttransition: opacity 250ms;\\n}\\n\\n.fade-enter,\\n.fade-leave-to {\\n\\topacity: 0;\\n}\\n\\n.fade-visibility-enter,\\n.fade-visibility-leave-to {\\n\\tvisibility: hidden;\\n\\topacity: 0;\\n}\\n\\n.block-wrapper {\\n\\tposition: fixed;\\n\\tz-index: 9998;\\n\\ttop: 0;\\n\\tleft: 0;\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\n}\\n\\n.edit-task-block {\\n\\tposition: relative;\\n\\tborder: 1px solid var(--color-border-dark);\\n\\tborder-radius: var(--border-radius-large);\\n\\tbox-shadow: 0 0 30px var(--color-box-shadow);\\n\\tpadding: 20px 20px 10px;\\n\\twidth: 100%;\\n\\tmax-width: 600px;\\n\\tmargin: auto;\\n\\tbackground-color: var(--color-main-background);\\n}\\n\\n.edit-task-close {\\n\\tposition: absolute;\\n\\ttop: 10px;\\n\\tright: 5px;\\n\\tpadding: 25px;\\n\\tbackground: var(--icon-close-dark) no-repeat center;\\n\\topacity: .5;\\n\\tcursor: pointer;\\n}\\n\\n.edit-task-close:hover {\\n\\topacity: 1;\\n}\\n\\n@media (max-width: 767px) {\\n\\t.selection-container {\\n\\t\\tflex-wrap: wrap;\\n\\t}\\n}\\n\\n@media (max-width: 540px) {\\n\\t.edit-task-block {\\n\\t\\twidth: 90vw;\\n\\t\\theight: 80vh;\\n\\t\\toverflow-y: scroll;\\n\\t\\ttop: calc(100% - 96vh);\\n\\t}\\n}\\n\\n.delete-button {\\n\\tdisplay: inline-flex;\\n\\twidth: 15px;\\n\\theight: 15px;\\n\\tcursor: pointer;\\n\\tmargin: 0 10px;\\n}\\n\\n.create-task-actions {\\n\\tdisplay: flex;\\n\\talign-items: center;\\n\\tjustify-content: space-between;\\n\\tmargin-top: 5px;\\n\\tpadding: 0 10px;\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n.fade-enter-active[data-v-a195a68e],\n.fade-leave-active[data-v-a195a68e] {\n\ttransition: opacity 0.5s ease;\n}\n.fade-enter-from[data-v-a195a68e],\n.fade-leave-to[data-v-a195a68e] {\n\topacity: 0;\n}\n.container[data-v-a195a68e] {\n\tpadding: 0 20px;\n\twidth: 100%;\n\tmax-width: 1440px;\n\tmargin: 0 auto;\n\tmax-height: 100%;\n}\n@media (min-width: 1920px) {\n.container[data-v-a195a68e] {\n\t\tmax-width: 80vw;\n}\n}\nh2[data-v-a195a68e] {\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 100%;\n\tmargin: 20px auto 10px;\n\ttext-align: center;\n\tfont-size: 24px;\n}\n.task-details-heading p[data-v-a195a68e] {\n\ttext-align: center;\n\tfont-size: 15px;\n}\n.details-row[data-v-a195a68e] {\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin: 0 10px 20px;\n\tposition: relative;\n}\n@media (max-width: 767px) {\n.details-row[data-v-a195a68e] {\n\t\tflex-wrap: wrap;\n}\n.task-details-heading[data-v-a195a68e] {\n\t\tflex-direction: column;\n}\n}\n.task-status-row[data-v-a195a68e] {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-wrap: wrap;\n}\n.task-status-wrapper[data-v-a195a68e] {\n\tborder: 1px solid var(--color-border-dark);\n\tborder-radius: 16px;\n\toverflow: hidden;\n}\n.task-status-wrapper progress[data-v-a195a68e] {\n\tmargin-top: 5px;\n}\n.task-status[data-v-a195a68e] {\n\tdisplay: inline-flex;\n\talign-items: center;\n\tpadding: 10px\n}\n.task-info[data-v-a195a68e] {\n\tmargin: 20px 0;\n\tborder: 1px solid var(--color-border-dark);\n\tborder-radius: var(--border-radius-large);\n\tpadding: 10px 20px;\n\theight: 100%;\n\tmin-height: 105px;\n\tmax-height: 105px;\n\tmax-width: 50%;\n\toverflow-y: scroll;\n}\n@media (max-width: 767px) {\n.details-row[data-v-a195a68e] {\n\t\tmargin: 0 0 20px;\n}\n.task-status[data-v-a195a68e] {\n\t\tflex-direction: column;\n\t\twidth: 100%;\n}\n.task-info[data-v-a195a68e] {\n\t\tmax-width: 100%;\n\t\tmargin: 0;\n}\n}\n.task-info h3[data-v-a195a68e] {\n\tmargin: 0 0 5px 0;\n\tfont-weight: bold;\n}\n.target-directory-row[data-v-a195a68e] {\n\twhite-space: nowrap;\n\tpadding: 7px 0;\n}\n@media (max-width: 540px) {\n.task-status-row[data-v-a195a68e] {\n\t\tflex-direction: column;\n\t\tmargin: 20px 0;\n}\n.badge[data-v-a195a68e] {\n\t\tmargin-right: 0;\n\t\tmargin-top: 10px;\n\t\tmargin-bottom: 10px;\n}\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/views/CollectorDetails.vue\"],\"names\":[],\"mappings\":\";AAqYA;;CAEA,6BAAA;AACA;AAEA;;CAEA,UAAA;AACA;AAEA;CACA,eAAA;CACA,WAAA;CACA,iBAAA;CACA,cAAA;CACA,gBAAA;AACA;AAEA;AACA;EACA,eAAA;AACA;AACA;AAEA;CACA,oBAAA;CACA,mBAAA;CACA,uBAAA;CACA,WAAA;CACA,sBAAA;CACA,kBAAA;CACA,eAAA;AACA;AAEA;CACA,kBAAA;CACA,eAAA;AACA;AAEA;CACA,aAAA;CACA,sBAAA;CACA,mBAAA;CACA,kBAAA;AACA;AAEA;AACA;EACA,eAAA;AACA;AACA;EACA,sBAAA;AACA;AACA;AAEA;CACA,aAAA;CACA,uBAAA;CACA,mBAAA;CACA,eAAA;AACA;AAEA;CACA,0CAAA;CACA,mBAAA;CACA,gBAAA;AACA;AAEA;CACA,eAAA;AACA;AAEA;CACA,oBAAA;CACA,mBAAA;CACA;AACA;AAEA;CACA,cAAA;CACA,0CAAA;CACA,yCAAA;CACA,kBAAA;CACA,YAAA;CACA,iBAAA;CACA,iBAAA;CACA,cAAA;CACA,kBAAA;AACA;AAEA;AACA;EACA,gBAAA;AACA;AAEA;EACA,sBAAA;EACA,WAAA;AACA;AAEA;EACA,eAAA;EACA,SAAA;AACA;AACA;AAEA;CACA,iBAAA;CACA,iBAAA;AACA;AAEA;CACA,mBAAA;CACA,cAAA;AACA;AAEA;AACA;EACA,sBAAA;EACA,cAAA;AACA;AAEA;EACA,eAAA;EACA,gBAAA;EACA,mBAAA;AACA;AACA\",\"sourcesContent\":[\"<!--\\n - @copyright Copyright (c) 2021-2022 Andrey Borysenko <andrey18106x@gmail.com>\\n -\\n - @copyright Copyright (c) 2021-2022 Alexander Piskun <bigcat88@icloud.com>\\n -\\n - @author 2021-2022 Andrey Borysenko <andrey18106x@gmail.com>\\n -\\n - @license AGPL-3.0-or-later\\n -\\n - This program is free software: you can redistribute it and/or modify\\n - it under the terms of the GNU Affero General Public License as\\n - published by the Free Software Foundation, either version 3 of the\\n - License, or (at your option) any later version.\\n -\\n - This program is distributed in the hope that it will be useful,\\n - but WITHOUT ANY WARRANTY; without even the implied warranty of\\n - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\\n - GNU Affero General Public License for more details.\\n -\\n - You should have received a copy of the GNU Affero General Public License\\n - along with this program. If not, see <http://www.gnu.org/licenses/>.\\n -\\n -->\\n\\n<template>\\n\\t<div v-if=\\\"!loading\\\" class=\\\"container\\\">\\n\\t\\t<TasksEdit v-if=\\\"editingTask\\\" :opened.sync=\\\"editingTask\\\" />\\n\\t\\t<DetailsExport v-if=\\\"exporting\\\" :opened.sync=\\\"exporting\\\" :task=\\\"task\\\" />\\n\\t\\t<div class=\\\"task-details\\\">\\n\\t\\t\\t<div class=\\\"task-details-heading\\\">\\n\\t\\t\\t\\t<h2>\\n\\t\\t\\t\\t\\t{{ rootTitle }}\\n\\t\\t\\t\\t\\t<NcButton v-if=\\\"isValidUser\\\"\\n\\t\\t\\t\\t\\t\\tv-tooltip=\\\"{content: !collapsedStatus\\n\\t\\t\\t\\t\\t\\t\\t? t('mediadc', 'Collapse task status')\\n\\t\\t\\t\\t\\t\\t\\t: t('mediadc', 'Show task status'), placement: 'bottom-end'}\\\"\\n\\t\\t\\t\\t\\t\\ttype=\\\"tertiary\\\"\\n\\t\\t\\t\\t\\t\\t:aria-label=\\\"t('mediadc', 'Collapse task status')\\\"\\n\\t\\t\\t\\t\\t\\tstyle=\\\"margin: 0 10px;\\\"\\n\\t\\t\\t\\t\\t\\t@click=\\\"collapseTaskStatus\\\">\\n\\t\\t\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t\\t\\t<span :class=\\\"!collapsedStatus ? 'icon-triangle-n' : 'icon-triangle-s'\\\" />\\n\\t\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t\\t</NcButton>\\n\\t\\t\\t\\t</h2>\\n\\t\\t\\t\\t<Transition name=\\\"fade\\\" appear>\\n\\t\\t\\t\\t\\t<div v-if=\\\"isValidUser\\\" v-show=\\\"!collapsedStatus\\\" class=\\\"task-details-description\\\">\\n\\t\\t\\t\\t\\t\\t<p>\\n\\t\\t\\t\\t\\t\\t\\t{{ t('mediadc', 'Here you can view task details, manage task (stop or restart), delete found duplicated photos and videos.') }}\\n\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t\\t<p>\\n\\t\\t\\t\\t\\t\\t\\t{{ t('mediadc', 'Deleted files are placed in the trashbin, so that they can be restored in case of need.') }}\\n\\t\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</Transition>\\n\\t\\t\\t</div>\\n\\t\\t\\t<Transition name=\\\"fade\\\" appear>\\n\\t\\t\\t\\t<div v-if=\\\"isValidUser\\\" v-show=\\\"!collapsedStatus\\\" class=\\\"task-status-row\\\">\\n\\t\\t\\t\\t\\t<div class=\\\"task-status-wrapper\\\" style=\\\"display: flex; flex-direction: column; margin: 20px;\\\">\\n\\t\\t\\t\\t\\t\\t<div class=\\\"task-status\\\">\\n\\t\\t\\t\\t\\t\\t\\t<span :class=\\\"'badge ' + getStatusBadge(task)\\\">{{ getStatusBadge(task) }}</span>\\n\\t\\t\\t\\t\\t\\t\\t<div style=\\\"display: flex; flex-direction: column;\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<span v-if=\\\"task.name !== null && task.name !== ''\\\"><b>{{ task.name }}</b><br></span>\\n\\t\\t\\t\\t\\t\\t\\t\\t<span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<b>{{ parseTargetMtype(task) }}</b> {{ task.files_scanned !== task.files_total ? `${task.files_scanned}/` : '' }}{{ task.files_total }} {{ n('mediadc', 'file', 'files', task.files_total) }}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t({{ formatBytes(Number(task.files_total_size)) }})\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t({{ task !== null && 'collector_settings' in task ? t('mediadc', 'precision: ') + JSON.parse(task.collector_settings).similarity_threshold + '%' : '' }})\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<br>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<b>{{ t('mediadc', 'Deleted: ') }} </b>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ task.deleted_files_count }} {{ n('mediadc', 'file', 'files', task.deleted_files_count) }}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t({{ formatBytes(Number(task.deleted_files_size)) }})\\n\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t\\t<span>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ parseUnixTimestamp(task.created_time) }}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ Number(task.finished_time) > 0 ? ' - ' + parseUnixTimestamp(task.finished_time) : '' }}\\n\\t\\t\\t\\t\\t\\t\\t\\t</span>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t\\t<NcActions style=\\\"margin: 0 0 0 10px;\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<NcActionButton v-tooltip=\\\"{content: t('mediadc', 'Restart task with current params'), placement: 'left'}\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ticon=\\\"icon-history\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t:close-after-click=\\\"true\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t@click=\\\"restartTask(task)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ getStatusBadge(task) === 'duplicated' ? t('mediadc', 'Start') : t('mediadc', 'Restart') }}\\n\\t\\t\\t\\t\\t\\t\\t\\t</NcActionButton>\\n\\t\\t\\t\\t\\t\\t\\t\\t<NcActionButton v-tooltip=\\\"{content: t('mediadc', 'Edit task params'), placement: 'left'}\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ticon=\\\"icon-rename\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t:close-after-click=\\\"true\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t@click=\\\"openEditTaskDialog(task)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ t('mediadc', 'Edit') }}\\n\\t\\t\\t\\t\\t\\t\\t\\t</NcActionButton>\\n\\t\\t\\t\\t\\t\\t\\t\\t<NcActionButton v-tooltip=\\\"{content: t('mediadc', 'Terminate task execution'), placement: 'left'}\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ticon=\\\"icon-pause\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t:close-after-click=\\\"true\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t@click=\\\"_terminateTask(task)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ t('mediadc', 'Stop') }}\\n\\t\\t\\t\\t\\t\\t\\t\\t</NcActionButton>\\n\\t\\t\\t\\t\\t\\t\\t\\t<NcActionButton v-if=\\\"getStatusBadge(task) === 'finished'\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tv-tooltip=\\\"{ content: t('mediadc', 'Export task results'), placement: 'left' }\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t:close-after-click=\\\"true\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t@click=\\\"openExportResultsDialog(task)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<template #default>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ t('mediadc', 'Export') }}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<FileExportOutline :size=\\\"18\\\" />\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t\\t\\t\\t\\t</NcActionButton>\\n\\t\\t\\t\\t\\t\\t\\t\\t<NcActionButton v-tooltip=\\\"{content: t('mediadc', 'Delete task'), placement: 'left'}\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ticon=\\\"icon-delete\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t:close-after-click=\\\"true\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t@click=\\\"deleteTask(task)\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{{ t('mediadc', 'Delete task') }}\\n\\t\\t\\t\\t\\t\\t\\t\\t</NcActionButton>\\n\\t\\t\\t\\t\\t\\t\\t</NcActions>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t<NcProgressBar :value=\\\"Math.round((task.files_scanned / task.files_total) * 100)\\\"\\n\\t\\t\\t\\t\\t\\t\\tsize=\\\"small\\\"\\n\\t\\t\\t\\t\\t\\t\\t:error=\\\"getStatusBadge(task) === 'error'\\\" />\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t<div class=\\\"task-info\\\">\\n\\t\\t\\t\\t\\t\\t<h3>{{ t('mediadc', 'Target directories') }}</h3>\\n\\t\\t\\t\\t\\t\\t<div class=\\\"target-directories-list\\\">\\n\\t\\t\\t\\t\\t\\t\\t<div v-for=\\\"dir in taskInfo.target_directories\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\t:key=\\\"dir.fileid\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\tv-tooltip=\\\"{content: getDirOwnerToolip(dir), placement: 'bottom'}\\\"\\n\\t\\t\\t\\t\\t\\t\\t\\tclass=\\\"target-directory-row\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t<a :href=\\\"filesDirLink(dir)\\\" target=\\\"_blank\\\">\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<b>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t{{\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tdir.filepath.replace(`/${dir.fileowner}/files`, '').replace(`/${currentUser}/files`, '') !== ''\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t? dir.filepath.replace(`/${dir.fileowner}/files`, '').replace(`/${currentUser}/files`, '')\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t: '/'\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t}}\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</b>\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t({{ !dir.hasignoreflag ? formatBytes(dir.filesize) : t('mediadc', 'Ignored') }})\\n\\t\\t\\t\\t\\t\\t\\t\\t</a>\\n\\t\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</Transition>\\n\\t\\t\\t<Transition name=\\\"fade\\\" appear>\\n\\t\\t\\t\\t<div v-if=\\\"isValidUser\\\" class=\\\"details-row\\\">\\n\\t\\t\\t\\t\\t<DetailsList v-if=\\\"getStatusBadge(task) === 'finished'\\\" />\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div v-else>\\n\\t\\t\\t\\t\\t<p style=\\\"text-align: center;\\\">\\n\\t\\t\\t\\t\\t\\t<b>{{ t('mediadc', 'You are not allowed to manage other user\\\\'s tasks.') }}</b>\\n\\t\\t\\t\\t\\t</p>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</Transition>\\n\\t\\t\\t<div v-if=\\\"hasErrors\\\" class=\\\"errors\\\">\\n\\t\\t\\t\\t<div class=\\\"errors-heading\\\" style=\\\"display: flex; align-items: center;\\\">\\n\\t\\t\\t\\t\\t<h3>{{ t('mediadc', 'Task errors' ) }}</h3>\\n\\t\\t\\t\\t\\t<NcButton v-tooltip=\\\"t('mediadc', 'Copy to clipboard')\\\"\\n\\t\\t\\t\\t\\t\\ttype=\\\"tertiary-no-background\\\"\\n\\t\\t\\t\\t\\t\\t:aria-label=\\\"t('mediadc', 'Copy to clipboard')\\\"\\n\\t\\t\\t\\t\\t\\tstyle=\\\"margin: 0 10px;\\\"\\n\\t\\t\\t\\t\\t\\t@click=\\\"copyErrorsToClipboard\\\">\\n\\t\\t\\t\\t\\t\\t<template #icon>\\n\\t\\t\\t\\t\\t\\t\\t<ContentCopy :size=\\\"20\\\" />\\n\\t\\t\\t\\t\\t\\t</template>\\n\\t\\t\\t\\t\\t</NcButton>\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<div v-for=\\\"error in task.errors.split('\\\\\\\\n')\\\" :key=\\\"error\\\" class=\\\"error-row\\\">\\n\\t\\t\\t\\t\\t{{ error }}\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</div>\\n</template>\\n\\n<script>\\nimport axios from '@nextcloud/axios'\\nimport { getCurrentUser } from '@nextcloud/auth'\\nimport { subscribe, unsubscribe } from '@nextcloud/event-bus'\\nimport { showSuccess, showError, showWarning, showMessage } from '@nextcloud/dialogs'\\nimport { generateUrl } from '@nextcloud/router'\\nimport { mapActions, mapGetters } from 'vuex'\\n\\nimport DetailsList from '../components/details/DetailsList.vue'\\nimport Formats from '../mixins/Formats.js'\\nimport TasksEdit from '../components/tasks/TasksEdit.vue'\\nimport DetailsExport from '../components/details/DetailsExport.vue'\\n\\nimport NcActions from '@nextcloud/vue/dist/Components/NcActions.js'\\nimport NcActionButton from '@nextcloud/vue/dist/Components/NcActionButton.js'\\nimport NcProgressBar from '@nextcloud/vue/dist/Components/NcProgressBar.js'\\nimport NcButton from '@nextcloud/vue/dist/Components/NcButton.js'\\nimport ContentCopy from 'vue-material-design-icons/ContentCopy.vue'\\nimport FileExportOutline from 'vue-material-design-icons/FileExportOutline.vue'\\n\\nexport default {\\n\\tname: 'CollectorDetails',\\n\\tcomponents: {\\n\\t\\tDetailsList,\\n\\t\\tTasksEdit,\\n\\t\\tDetailsExport,\\n\\t\\tNcActions,\\n\\t\\tNcActionButton,\\n\\t\\tNcProgressBar,\\n\\t\\tNcButton,\\n\\t\\tContentCopy,\\n\\t\\tFileExportOutline,\\n\\t},\\n\\tmixins: [Formats],\\n\\tprops: {\\n\\t\\trootTitle: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tloading: {\\n\\t\\t\\ttype: Boolean,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t},\\n\\tdata() {\\n\\t\\treturn {\\n\\t\\t\\ttasksUpdater: null,\\n\\t\\t\\tcollapsedStatus: false,\\n\\t\\t\\teditingTask: false,\\n\\t\\t\\texporting: false,\\n\\t\\t}\\n\\t},\\n\\tcomputed: {\\n\\t\\t...mapGetters([\\n\\t\\t\\t'task',\\n\\t\\t\\t'taskInfo',\\n\\t\\t\\t'details',\\n\\t\\t\\t'settingByName',\\n\\t\\t]),\\n\\t\\tisValidUser() {\\n\\t\\t\\treturn getCurrentUser().uid === this.task?.owner\\n\\t\\t},\\n\\t\\tcurrentUser() {\\n\\t\\t\\treturn getCurrentUser().uid\\n\\t\\t},\\n\\t\\thasErrors() {\\n\\t\\t\\treturn this.task?.errors?.length > 0\\n\\t\\t},\\n\\t},\\n\\tbeforeMount() {\\n\\t\\tthis.$emit('update:loading', true)\\n\\t\\tthis.tasksUpdater = setInterval(this._getTaskDetails, 3000)\\n\\t\\tthis.getTaskDetails().then((res) => {\\n\\t\\t\\tif (this.getStatusBadge(res.data.collectorTask) === 'finished' || this.getStatusBadge(res.data.collectorTask) === 'duplicated') {\\n\\t\\t\\t\\tclearInterval(this.tasksUpdater)\\n\\t\\t\\t}\\n\\t\\t\\tthis.$emit('update:loading', false)\\n\\t\\t})\\n\\t\\tthis.getTaskInfo()\\n\\t\\tsubscribe('restartTask', this.onRestartTaskEvent)\\n\\t\\tsubscribe('updateTaskInfo', this.getDetailFilesTotalSize)\\n\\t},\\n\\tbeforeDestroy() {\\n\\t\\tclearInterval(this.tasksUpdater)\\n\\t\\tunsubscribe('updateTaskInfo', this.getDetailFilesTotalSize)\\n\\t\\tunsubscribe('restartTask', this.onRestartTaskEvent)\\n\\t\\tthis.$store.commit('setTask', {})\\n\\t\\tthis.$store.commit('setTaskInfo', { exclude_directories: [], target_directories: [] })\\n\\t\\tthis.$store.commit('setDetails', [])\\n\\t\\tthis.$store.commit('setDetailsInfo', { filestotal: 0, filessize: 0 })\\n\\t},\\n\\tmethods: {\\n\\t\\t...mapActions([\\n\\t\\t\\t'getTaskDetails',\\n\\t\\t\\t'getTaskInfo',\\n\\t\\t\\t'getDetailFilesTotalSize',\\n\\t\\t\\t'terminateTask',\\n\\t\\t\\t'getSettings',\\n\\t\\t]),\\n\\t\\t_terminateTask(task) {\\n\\t\\t\\tif (this.isValidUser) {\\n\\t\\t\\t\\tthis.terminateTask(task).then(() => {\\n\\t\\t\\t\\t\\tshowSuccess(this.t('mediadc', 'Task terminated'))\\n\\t\\t\\t\\t})\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tshowWarning(this.t('mediadc', 'You are not allowed to terminate this task'))\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\t_getTaskDetails() {\\n\\t\\t\\tthis.getTaskDetails().then(res => {\\n\\t\\t\\t\\tif (this.getStatusBadge(res.data.collectorTask) === 'finished' || this.getStatusBadge(res.data.collectorTask) === 'terminated' || this.getStatusBadge(res.data.collectorTask) === 'error') {\\n\\t\\t\\t\\t\\tclearInterval(this.tasksUpdater)\\n\\t\\t\\t\\t}\\n\\t\\t\\t})\\n\\t\\t},\\n\\t\\trestartTask(task) {\\n\\t\\t\\tif (this.isValidUser) {\\n\\t\\t\\t\\tclearInterval(this.tasksUpdater)\\n\\t\\t\\t\\tthis.getSettings().then(() => {\\n\\t\\t\\t\\t\\taxios.post(generateUrl('/apps/mediadc/api/v1/tasks/restart'), {\\n\\t\\t\\t\\t\\t\\ttaskId: task.id,\\n\\t\\t\\t\\t\\t\\ttargetDirectoryIds: task.target_directory_ids,\\n\\t\\t\\t\\t\\t\\texcludeList: {\\n\\t\\t\\t\\t\\t\\t\\tuser: JSON.parse(task.exclude_list).user,\\n\\t\\t\\t\\t\\t\\t\\tadmin: JSON.parse(this.settingByName('exclude_list').value),\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\tcollectorSettings: {\\n\\t\\t\\t\\t\\t\\t\\thashing_algorithm: JSON.parse(this.settingByName('hashing_algorithm').value) || 'dhash',\\n\\t\\t\\t\\t\\t\\t\\tsimilarity_threshold: Number(JSON.parse(this.task.collector_settings).similarity_threshold),\\n\\t\\t\\t\\t\\t\\t\\thash_size: Number(this.settingByName('hash_size').value) || 16,\\n\\t\\t\\t\\t\\t\\t\\ttarget_mtype: Number(JSON.parse(this.task.collector_settings).target_mtype),\\n\\t\\t\\t\\t\\t\\t\\tfinish_notification: JSON.parse(this.task.collector_settings).finish_notification,\\n\\t\\t\\t\\t\\t\\t\\texif_transpose: !this.settingByName('ignore_orientation').value || true,\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t}).then(res => {\\n\\t\\t\\t\\t\\t\\tif (res.data.success) {\\n\\t\\t\\t\\t\\t\\t\\tthis.getTaskDetails()\\n\\t\\t\\t\\t\\t\\t\\tthis.$store.commit('setDetailsInfo', { filestotal: 0, filessize: 0 })\\n\\t\\t\\t\\t\\t\\t\\tthis.tasksUpdater = setInterval(this._getTaskDetails, 3000)\\n\\t\\t\\t\\t\\t\\t\\tshowSuccess(this.t('mediadc', 'Task successfully restarted with previous settings!'))\\n\\t\\t\\t\\t\\t\\t} else if (res.data.limit) {\\n\\t\\t\\t\\t\\t\\t\\tshowWarning(this.t('mediadc', 'Running tasks limit exceed. Try again later.'))\\n\\t\\t\\t\\t\\t\\t} else if (res.data.empty) {\\n\\t\\t\\t\\t\\t\\t\\tshowWarning(this.n('mediadc', 'Target folder has no files or all of them excluded', 'Target folders have no files or all of them excluded', task.target_directory_ids.length))\\n\\t\\t\\t\\t\\t\\t} else if (res.data.php_exec_not_enabled) {\\n\\t\\t\\t\\t\\t\\t\\tshowError(t('mediadc', 'Task run error: PHP `exec` function is not enabled'))\\n\\t\\t\\t\\t\\t\\t} else {\\n\\t\\t\\t\\t\\t\\t\\tshowWarning(this.t('medaidc', 'Some error occurred while running Collector Task. Try again.'))\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t}).catch(err => {\\n\\t\\t\\t\\t\\t\\tconsole.debug(err)\\n\\t\\t\\t\\t\\t\\tshowError('Some error occurred while running Collector Task. Try again.')\\n\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t})\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tshowWarning(this.t('mediadc', 'You are not allowed to restart this task'))\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tdeleteTask(task) {\\n\\t\\t\\tif (this.isValidUser) {\\n\\t\\t\\t\\tconst self = this\\n\\t\\t\\t\\tOC.dialogs.confirm(this.t('mediadc', 'Are sure you want to delete this task?'),\\n\\t\\t\\t\\t\\tthis.t('mediadc', 'Confirm task deletion'),\\n\\t\\t\\t\\t\\tfunction(success) {\\n\\t\\t\\t\\t\\t\\tif (success) {\\n\\t\\t\\t\\t\\t\\t\\tself.$store.dispatch('deleteTask', task).then(() => {\\n\\t\\t\\t\\t\\t\\t\\t\\tself.$router.push({ name: 'collector' })\\n\\t\\t\\t\\t\\t\\t\\t\\tshowSuccess(self.t('mediadc', 'Task successfully deleted'))\\n\\t\\t\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t)\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tshowWarning(this.t('mediadc', 'You are not allowed to delete this task'))\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tcollapseTaskStatus() {\\n\\t\\t\\tthis.collapsedStatus = !this.collapsedStatus\\n\\t\\t},\\n\\t\\topenEditTaskDialog() {\\n\\t\\t\\tthis.editingTask = true\\n\\t\\t},\\n\\t\\topenExportResultsDialog(task) {\\n\\t\\t\\tif (this.getStatusBadge(task) === 'finished' && this.details.length > 0) {\\n\\t\\t\\t\\tthis.exporting = true\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tshowMessage(this.t('mediadc', 'No results to export'))\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tfilesDirLink(dir) {\\n\\t\\t\\tif (dir) {\\n\\t\\t\\t\\tconst path = dir.filepath.replace(`/${dir.fileowner}/files`, '').replace(`/${this.currentUser}/files`, '') !== ''\\n\\t\\t\\t\\t\\t? dir.filepath.replace(`/${dir.fileowner}/files`, '').replace(`/${this.currentUser}/files`, '')\\n\\t\\t\\t\\t\\t: '/'\\n\\t\\t\\t\\treturn generateUrl(`/apps/files?dir=${path}`)\\n\\t\\t\\t}\\n\\t\\t\\treturn '#'\\n\\t\\t},\\n\\t\\tonRestartTaskEvent() {\\n\\t\\t\\tthis.getTaskInfo()\\n\\t\\t\\tthis.getTaskDetails()\\n\\t\\t\\tthis.$store.commit('setDetailsInfo', { filestotal: 0, filessize: 0 })\\n\\t\\t\\tclearInterval(this.tasksUpdater)\\n\\t\\t\\tthis.tasksUpdater = setInterval(this._getTaskDetails, 3000)\\n\\t\\t},\\n\\t\\tgetDirOwnerToolip(dir) {\\n\\t\\t\\treturn `${this.t('mediadc', 'Owner:')} ${dir.fileowner}`\\n\\t\\t},\\n\\t\\tcopyErrorsToClipboard() {\\n\\t\\t\\tnavigator.clipboard.writeText(JSON.stringify(Object.assign(this.task.errors.split('\\\\\\\\n')), null, 2))\\n\\t\\t\\tshowSuccess(this.t('mediadc', 'Copied to clipboard'))\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style scoped>\\n.fade-enter-active,\\n.fade-leave-active {\\n\\ttransition: opacity 0.5s ease;\\n}\\n\\n.fade-enter-from,\\n.fade-leave-to {\\n\\topacity: 0;\\n}\\n\\n.container {\\n\\tpadding: 0 20px;\\n\\twidth: 100%;\\n\\tmax-width: 1440px;\\n\\tmargin: 0 auto;\\n\\tmax-height: 100%;\\n}\\n\\n@media (min-width: 1920px) {\\n\\t.container {\\n\\t\\tmax-width: 80vw;\\n\\t}\\n}\\n\\nh2 {\\n\\tdisplay: inline-flex;\\n\\talign-items: center;\\n\\tjustify-content: center;\\n\\twidth: 100%;\\n\\tmargin: 20px auto 10px;\\n\\ttext-align: center;\\n\\tfont-size: 24px;\\n}\\n\\n.task-details-heading p {\\n\\ttext-align: center;\\n\\tfont-size: 15px;\\n}\\n\\n.details-row {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tmargin: 0 10px 20px;\\n\\tposition: relative;\\n}\\n\\n@media (max-width: 767px) {\\n\\t.details-row {\\n\\t\\tflex-wrap: wrap;\\n\\t}\\n\\t.task-details-heading {\\n\\t\\tflex-direction: column;\\n\\t}\\n}\\n\\n.task-status-row {\\n\\tdisplay: flex;\\n\\tjustify-content: center;\\n\\talign-items: center;\\n\\tflex-wrap: wrap;\\n}\\n\\n.task-status-wrapper {\\n\\tborder: 1px solid var(--color-border-dark);\\n\\tborder-radius: 16px;\\n\\toverflow: hidden;\\n}\\n\\n.task-status-wrapper progress {\\n\\tmargin-top: 5px;\\n}\\n\\n.task-status {\\n\\tdisplay: inline-flex;\\n\\talign-items: center;\\n\\tpadding: 10px\\n}\\n\\n.task-info {\\n\\tmargin: 20px 0;\\n\\tborder: 1px solid var(--color-border-dark);\\n\\tborder-radius: var(--border-radius-large);\\n\\tpadding: 10px 20px;\\n\\theight: 100%;\\n\\tmin-height: 105px;\\n\\tmax-height: 105px;\\n\\tmax-width: 50%;\\n\\toverflow-y: scroll;\\n}\\n\\n@media (max-width: 767px) {\\n\\t.details-row {\\n\\t\\tmargin: 0 0 20px;\\n\\t}\\n\\n\\t.task-status {\\n\\t\\tflex-direction: column;\\n\\t\\twidth: 100%;\\n\\t}\\n\\n\\t.task-info {\\n\\t\\tmax-width: 100%;\\n\\t\\tmargin: 0;\\n\\t}\\n}\\n\\n.task-info h3 {\\n\\tmargin: 0 0 5px 0;\\n\\tfont-weight: bold;\\n}\\n\\n.target-directory-row {\\n\\twhite-space: nowrap;\\n\\tpadding: 7px 0;\\n}\\n\\n@media (max-width: 540px) {\\n\\t.task-status-row {\\n\\t\\tflex-direction: column;\\n\\t\\tmargin: 20px 0;\\n\\t}\\n\\n\\t.badge {\\n\\t\\tmargin-right: 0;\\n\\t\\tmargin-top: 10px;\\n\\t\\tmargin-bottom: 10px;\\n\\t}\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import { render, staticRenderFns } from \"./ContentCopy.vue?vue&type=template&id=0e8bd3c4\"\nimport script from \"./ContentCopy.vue?vue&type=script&lang=js\"\nexport * from \"./ContentCopy.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <span v-bind=\"$attrs\"\n        :aria-hidden=\"title ? null : 'true'\"\n        :aria-label=\"title\"\n        class=\"material-design-icon content-copy-icon\"\n        role=\"img\"\n        @click=\"$emit('click', $event)\">\n    <svg :fill=\"fillColor\"\n         class=\"material-design-icon__svg\"\n         :width=\"size\"\n         :height=\"size\"\n         viewBox=\"0 0 24 24\">\n      <path d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\">\n        <title v-if=\"title\">{{ title }}</title>\n      </path>\n    </svg>\n  </span>\n</template>\n\n<script>\nexport default {\n  name: \"ContentCopyIcon\",\n  emits: ['click'],\n  props: {\n    title: {\n      type: String,\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n}\n</script>","import { render, staticRenderFns } from \"./PlusThick.vue?vue&type=template&id=9f167876\"\nimport script from \"./PlusThick.vue?vue&type=script&lang=js\"\nexport * from \"./PlusThick.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <span v-bind=\"$attrs\"\n        :aria-hidden=\"title ? null : 'true'\"\n        :aria-label=\"title\"\n        class=\"material-design-icon plus-thick-icon\"\n        role=\"img\"\n        @click=\"$emit('click', $event)\">\n    <svg :fill=\"fillColor\"\n         class=\"material-design-icon__svg\"\n         :width=\"size\"\n         :height=\"size\"\n         viewBox=\"0 0 24 24\">\n      <path d=\"M20 14H14V20H10V14H4V10H10V4H14V10H20V14Z\">\n        <title v-if=\"title\">{{ title }}</title>\n      </path>\n    </svg>\n  </span>\n</template>\n\n<script>\nexport default {\n  name: \"PlusThickIcon\",\n  emits: ['click'],\n  props: {\n    title: {\n      type: String,\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n}\n</script>","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.loading)?_c('div',{staticClass:\"container\"},[(_vm.editingTask)?_c('TasksEdit',{attrs:{\"opened\":_vm.editingTask},on:{\"update:opened\":function($event){_vm.editingTask=$event}}}):_vm._e(),_vm._v(\" \"),(_vm.exporting)?_c('DetailsExport',{attrs:{\"opened\":_vm.exporting,\"task\":_vm.task},on:{\"update:opened\":function($event){_vm.exporting=$event}}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"task-details\"},[_c('div',{staticClass:\"task-details-heading\"},[_c('h2',[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.rootTitle)+\"\\n\\t\\t\\t\\t\"),(_vm.isValidUser)?_c('NcButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: !_vm.collapsedStatus\n\t\t\t\t\t\t? _vm.t('mediadc', 'Collapse task status')\n\t\t\t\t\t\t: _vm.t('mediadc', 'Show task status'), placement: 'bottom-end'}),expression:\"{content: !collapsedStatus\\n\\t\\t\\t\\t\\t\\t? t('mediadc', 'Collapse task status')\\n\\t\\t\\t\\t\\t\\t: t('mediadc', 'Show task status'), placement: 'bottom-end'}\"}],staticStyle:{\"margin\":\"0 10px\"},attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('mediadc', 'Collapse task status')},on:{\"click\":_vm.collapseTaskStatus},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('span',{class:!_vm.collapsedStatus ? 'icon-triangle-n' : 'icon-triangle-s'})]},proxy:true}],null,false,3134159091)}):_vm._e()],1),_vm._v(\" \"),_c('Transition',{attrs:{\"name\":\"fade\",\"appear\":\"\"}},[(_vm.isValidUser)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.collapsedStatus),expression:\"!collapsedStatus\"}],staticClass:\"task-details-description\"},[_c('p',[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mediadc', 'Here you can view task details, manage task (stop or restart), delete found duplicated photos and videos.'))+\"\\n\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('p',[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mediadc', 'Deleted files are placed in the trashbin, so that they can be restored in case of need.'))+\"\\n\\t\\t\\t\\t\\t\")])]):_vm._e()])],1),_vm._v(\" \"),_c('Transition',{attrs:{\"name\":\"fade\",\"appear\":\"\"}},[(_vm.isValidUser)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.collapsedStatus),expression:\"!collapsedStatus\"}],staticClass:\"task-status-row\"},[_c('div',{staticClass:\"task-status-wrapper\",staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"margin\":\"20px\"}},[_c('div',{staticClass:\"task-status\"},[_c('span',{class:'badge ' + _vm.getStatusBadge(_vm.task)},[_vm._v(_vm._s(_vm.getStatusBadge(_vm.task)))]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\"}},[(_vm.task.name !== null && _vm.task.name !== '')?_c('span',[_c('b',[_vm._v(_vm._s(_vm.task.name))]),_c('br')]):_vm._e(),_vm._v(\" \"),_c('span',[_c('b',[_vm._v(_vm._s(_vm.parseTargetMtype(_vm.task)))]),_vm._v(\" \"+_vm._s(_vm.task.files_scanned !== _vm.task.files_total ? `${_vm.task.files_scanned}/` : '')+_vm._s(_vm.task.files_total)+\" \"+_vm._s(_vm.n('mediadc', 'file', 'files', _vm.task.files_total))+\"\\n\\t\\t\\t\\t\\t\\t\\t\\t(\"+_vm._s(_vm.formatBytes(Number(_vm.task.files_total_size)))+\")\\n\\t\\t\\t\\t\\t\\t\\t\\t(\"+_vm._s(_vm.task !== null && 'collector_settings' in _vm.task ? _vm.t('mediadc', 'precision: ') + JSON.parse(_vm.task.collector_settings).similarity_threshold + '%' : '')+\")\\n\\t\\t\\t\\t\\t\\t\\t\\t\"),_c('br'),_vm._v(\" \"),_c('b',[_vm._v(_vm._s(_vm.t('mediadc', 'Deleted: '))+\" \")]),_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.task.deleted_files_count)+\" \"+_vm._s(_vm.n('mediadc', 'file', 'files', _vm.task.deleted_files_count))+\"\\n\\t\\t\\t\\t\\t\\t\\t\\t(\"+_vm._s(_vm.formatBytes(Number(_vm.task.deleted_files_size)))+\")\\n\\t\\t\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('span',[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.parseUnixTimestamp(_vm.task.created_time))+\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(Number(_vm.task.finished_time) > 0 ? ' - ' + _vm.parseUnixTimestamp(_vm.task.finished_time) : '')+\"\\n\\t\\t\\t\\t\\t\\t\\t\")])]),_vm._v(\" \"),_c('NcActions',{staticStyle:{\"margin\":\"0 0 0 10px\"}},[_c('NcActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.t('mediadc', 'Restart task with current params'), placement: 'left'}),expression:\"{content: t('mediadc', 'Restart task with current params'), placement: 'left'}\"}],attrs:{\"icon\":\"icon-history\",\"close-after-click\":true},on:{\"click\":function($event){return _vm.restartTask(_vm.task)}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.getStatusBadge(_vm.task) === 'duplicated' ? _vm.t('mediadc', 'Start') : _vm.t('mediadc', 'Restart'))+\"\\n\\t\\t\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('NcActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.t('mediadc', 'Edit task params'), placement: 'left'}),expression:\"{content: t('mediadc', 'Edit task params'), placement: 'left'}\"}],attrs:{\"icon\":\"icon-rename\",\"close-after-click\":true},on:{\"click\":function($event){return _vm.openEditTaskDialog(_vm.task)}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mediadc', 'Edit'))+\"\\n\\t\\t\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('NcActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.t('mediadc', 'Terminate task execution'), placement: 'left'}),expression:\"{content: t('mediadc', 'Terminate task execution'), placement: 'left'}\"}],attrs:{\"icon\":\"icon-pause\",\"close-after-click\":true},on:{\"click\":function($event){return _vm._terminateTask(_vm.task)}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mediadc', 'Stop'))+\"\\n\\t\\t\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),(_vm.getStatusBadge(_vm.task) === 'finished')?_c('NcActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({ content: _vm.t('mediadc', 'Export task results'), placement: 'left' }),expression:\"{ content: t('mediadc', 'Export task results'), placement: 'left' }\"}],attrs:{\"close-after-click\":true},on:{\"click\":function($event){return _vm.openExportResultsDialog(_vm.task)}},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mediadc', 'Export'))+\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\")]},proxy:true},{key:\"icon\",fn:function(){return [_c('FileExportOutline',{attrs:{\"size\":18}})]},proxy:true}],null,false,4146270981)}):_vm._e(),_vm._v(\" \"),_c('NcActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.t('mediadc', 'Delete task'), placement: 'left'}),expression:\"{content: t('mediadc', 'Delete task'), placement: 'left'}\"}],attrs:{\"icon\":\"icon-delete\",\"close-after-click\":true},on:{\"click\":function($event){return _vm.deleteTask(_vm.task)}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mediadc', 'Delete task'))+\"\\n\\t\\t\\t\\t\\t\\t\\t\")])],1)],1),_vm._v(\" \"),_c('NcProgressBar',{attrs:{\"value\":Math.round((_vm.task.files_scanned / _vm.task.files_total) * 100),\"size\":\"small\",\"error\":_vm.getStatusBadge(_vm.task) === 'error'}})],1),_vm._v(\" \"),_c('div',{staticClass:\"task-info\"},[_c('h3',[_vm._v(_vm._s(_vm.t('mediadc', 'Target directories')))]),_vm._v(\" \"),_c('div',{staticClass:\"target-directories-list\"},_vm._l((_vm.taskInfo.target_directories),function(dir){return _c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.getDirOwnerToolip(dir), placement: 'bottom'}),expression:\"{content: getDirOwnerToolip(dir), placement: 'bottom'}\"}],key:dir.fileid,staticClass:\"target-directory-row\"},[_c('a',{attrs:{\"href\":_vm.filesDirLink(dir),\"target\":\"_blank\"}},[_c('b',[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(dir.filepath.replace(`/${dir.fileowner}/files`, '').replace(`/${_vm.currentUser}/files`, '') !== ''\n\t\t\t\t\t\t\t\t\t\t\t? dir.filepath.replace(`/${dir.fileowner}/files`, '').replace(`/${_vm.currentUser}/files`, '')\n\t\t\t\t\t\t\t\t\t\t\t: '/')+\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\")]),_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t(\"+_vm._s(!dir.hasignoreflag ? _vm.formatBytes(dir.filesize) : _vm.t('mediadc', 'Ignored'))+\")\\n\\t\\t\\t\\t\\t\\t\\t\")])])}),0)])]):_vm._e()]),_vm._v(\" \"),_c('Transition',{attrs:{\"name\":\"fade\",\"appear\":\"\"}},[(_vm.isValidUser)?_c('div',{staticClass:\"details-row\"},[(_vm.getStatusBadge(_vm.task) === 'finished')?_c('DetailsList'):_vm._e()],1):_c('div',[_c('p',{staticStyle:{\"text-align\":\"center\"}},[_c('b',[_vm._v(_vm._s(_vm.t('mediadc', 'You are not allowed to manage other user\\'s tasks.')))])])])]),_vm._v(\" \"),(_vm.hasErrors)?_c('div',{staticClass:\"errors\"},[_c('div',{staticClass:\"errors-heading\",staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('h3',[_vm._v(_vm._s(_vm.t('mediadc', 'Task errors' )))]),_vm._v(\" \"),_c('NcButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('mediadc', 'Copy to clipboard')),expression:\"t('mediadc', 'Copy to clipboard')\"}],staticStyle:{\"margin\":\"0 10px\"},attrs:{\"type\":\"tertiary-no-background\",\"aria-label\":_vm.t('mediadc', 'Copy to clipboard')},on:{\"click\":_vm.copyErrorsToClipboard},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ContentCopy',{attrs:{\"size\":20}})]},proxy:true}],null,false,1478045380)})],1),_vm._v(\" \"),_vm._l((_vm.task.errors.split('\\\\n')),function(error){return _c('div',{key:error,staticClass:\"error-row\"},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(error)+\"\\n\\t\\t\\t\")])})],2):_vm._e()],1)],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span v-bind=\"$attrs\"\n        :aria-hidden=\"title ? null : 'true'\"\n        :aria-label=\"title\"\n        class=\"material-design-icon minus-box-outline-icon\"\n        role=\"img\"\n        @click=\"$emit('click', $event)\">\n    <svg :fill=\"fillColor\"\n         class=\"material-design-icon__svg\"\n         :width=\"size\"\n         :height=\"size\"\n         viewBox=\"0 0 24 24\">\n      <path d=\"M19,19V5H5V19H19M19,3A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5C3,3.89 3.9,3 5,3H19M17,11V13H7V11H17Z\">\n        <title v-if=\"title\">{{ title }}</title>\n      </path>\n    </svg>\n  </span>\n</template>\n\n<script>\nexport default {\n  name: \"MinusBoxOutlineIcon\",\n  emits: ['click'],\n  props: {\n    title: {\n      type: String,\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n}\n</script>","import mod from \"-!../vue-loader/lib/index.js??vue-loader-options!./MinusBoxOutline.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../vue-loader/lib/index.js??vue-loader-options!./MinusBoxOutline.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MinusBoxOutline.vue?vue&type=template&id=8a801ca8\"\nimport script from \"./MinusBoxOutline.vue?vue&type=script&lang=js\"\nexport * from \"./MinusBoxOutline.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',_vm._b({staticClass:\"material-design-icon minus-box-outline-icon\",attrs:{\"aria-hidden\":_vm.title ? null : 'true',\"aria-label\":_vm.title,\"role\":\"img\"},on:{\"click\":function($event){return _vm.$emit('click', $event)}}},'span',_vm.$attrs,false),[_c('svg',{staticClass:\"material-design-icon__svg\",attrs:{\"fill\":_vm.fillColor,\"width\":_vm.size,\"height\":_vm.size,\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M19,19V5H5V19H19M19,3A2,2 0 0,1 21,5V19A2,2 0 0,1 19,21H5A2,2 0 0,1 3,19V5C3,3.89 3.9,3 5,3H19M17,11V13H7V11H17Z\"}},[(_vm.title)?_c('title',[_vm._v(_vm._s(_vm.title))]):_vm._e()])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span v-bind=\"$attrs\"\n        :aria-hidden=\"title ? null : 'true'\"\n        :aria-label=\"title\"\n        class=\"material-design-icon check-all-icon\"\n        role=\"img\"\n        @click=\"$emit('click', $event)\">\n    <svg :fill=\"fillColor\"\n         class=\"material-design-icon__svg\"\n         :width=\"size\"\n         :height=\"size\"\n         viewBox=\"0 0 24 24\">\n      <path d=\"M0.41,13.41L6,19L7.41,17.58L1.83,12M22.24,5.58L11.66,16.17L7.5,12L6.07,13.41L11.66,19L23.66,7M18,7L16.59,5.58L10.24,11.93L11.66,13.34L18,7Z\">\n        <title v-if=\"title\">{{ title }}</title>\n      </path>\n    </svg>\n  </span>\n</template>\n\n<script>\nexport default {\n  name: \"CheckAllIcon\",\n  emits: ['click'],\n  props: {\n    title: {\n      type: String,\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n}\n</script>","import mod from \"-!../vue-loader/lib/index.js??vue-loader-options!./CheckAll.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../vue-loader/lib/index.js??vue-loader-options!./CheckAll.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CheckAll.vue?vue&type=template&id=a1309aae\"\nimport script from \"./CheckAll.vue?vue&type=script&lang=js\"\nexport * from \"./CheckAll.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',_vm._b({staticClass:\"material-design-icon check-all-icon\",attrs:{\"aria-hidden\":_vm.title ? null : 'true',\"aria-label\":_vm.title,\"role\":\"img\"},on:{\"click\":function($event){return _vm.$emit('click', $event)}}},'span',_vm.$attrs,false),[_c('svg',{staticClass:\"material-design-icon__svg\",attrs:{\"fill\":_vm.fillColor,\"width\":_vm.size,\"height\":_vm.size,\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M0.41,13.41L6,19L7.41,17.58L1.83,12M22.24,5.58L11.66,16.17L7.5,12L6.07,13.41L11.66,19L23.66,7M18,7L16.59,5.58L10.24,11.93L11.66,13.34L18,7Z\"}},[(_vm.title)?_c('title',[_vm._v(_vm._s(_vm.title))]):_vm._e()])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span v-bind=\"$attrs\"\n        :aria-hidden=\"title ? null : 'true'\"\n        :aria-label=\"title\"\n        class=\"material-design-icon check-underline-icon\"\n        role=\"img\"\n        @click=\"$emit('click', $event)\">\n    <svg :fill=\"fillColor\"\n         class=\"material-design-icon__svg\"\n         :width=\"size\"\n         :height=\"size\"\n         viewBox=\"0 0 24 24\">\n      <path d=\"M21,5L9,17L3.5,11.5L4.91,10.09L9,14.17L19.59,3.59L21,5M3,21V19H21V21H3Z\">\n        <title v-if=\"title\">{{ title }}</title>\n      </path>\n    </svg>\n  </span>\n</template>\n\n<script>\nexport default {\n  name: \"CheckUnderlineIcon\",\n  emits: ['click'],\n  props: {\n    title: {\n      type: String,\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n}\n</script>","import mod from \"-!../vue-loader/lib/index.js??vue-loader-options!./CheckUnderline.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../vue-loader/lib/index.js??vue-loader-options!./CheckUnderline.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CheckUnderline.vue?vue&type=template&id=3e4cd1c0\"\nimport script from \"./CheckUnderline.vue?vue&type=script&lang=js\"\nexport * from \"./CheckUnderline.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',_vm._b({staticClass:\"material-design-icon check-underline-icon\",attrs:{\"aria-hidden\":_vm.title ? null : 'true',\"aria-label\":_vm.title,\"role\":\"img\"},on:{\"click\":function($event){return _vm.$emit('click', $event)}}},'span',_vm.$attrs,false),[_c('svg',{staticClass:\"material-design-icon__svg\",attrs:{\"fill\":_vm.fillColor,\"width\":_vm.size,\"height\":_vm.size,\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M21,5L9,17L3.5,11.5L4.91,10.09L9,14.17L19.59,3.59L21,5M3,21V19H21V21H3Z\"}},[(_vm.title)?_c('title',[_vm._v(_vm._s(_vm.title))]):_vm._e()])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n - @copyright Copyright (c) 2021-2022 Andrey Borysenko <andrey18106x@gmail.com>\n -\n - @copyright Copyright (c) 2021-2022 Alexander Piskun <bigcat88@icloud.com>\n -\n - @author 2021-2022 Andrey Borysenko <andrey18106x@gmail.com>\n -\n - @license AGPL-3.0-or-later\n -\n - This program is free software: you can redistribute it and/or modify\n - it under the terms of the GNU Affero General Public License as\n - published by the Free Software Foundation, either version 3 of the\n - License, or (at your option) any later version.\n -\n - This program is distributed in the hope that it will be useful,\n - but WITHOUT ANY WARRANTY; without even the implied warranty of\n - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n - GNU Affero General Public License for more details.\n -\n - You should have received a copy of the GNU Affero General Public License\n - along with this program. If not, see <http://www.gnu.org/licenses/>.\n -\n -->\n\n<template>\n\t<div class=\"file\" :class=\"{'icon-loading': updating}\" :style=\"'width: ' + detailsGridSize + 'px;'\">\n\t\t<div v-if=\"updating\" class=\"updating-blackout\" />\n\t\t<div class=\"file-thumb\" @click=\"openFile(file)\">\n\t\t\t<div v-show=\"loaded\"\n\t\t\t\tv-if=\"file.filempart === 'image' || (file.filempart === 'video' && file.has_preview)\"\n\t\t\t\tclass=\"file-thumb-loaded\">\n\t\t\t\t<img v-show=\"loaded\"\n\t\t\t\t\t:key=\"file.filepath\"\n\t\t\t\t\t:src=\"imageUrl\"\n\t\t\t\t\t:alt=\"file.filename\"\n\t\t\t\t\t:title=\"file.filepath\"\n\t\t\t\t\t@load=\"onLoad\">\n\t\t\t</div>\n\t\t\t<div v-show=\"!loaded && file.filempart === 'video'\"\n\t\t\t\tclass=\"placeholder\"\n\t\t\t\t:style=\"'min-height: ' + detailsGridSize + 'px'\"\n\t\t\t\t:title=\"file.filepath\">\n\t\t\t\t<svg width=\"50%\"\n\t\t\t\t\theight=\"50%\"\n\t\t\t\t\tversion=\"1.1\"\n\t\t\t\t\tviewBox=\"-31 0 512 512\"\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t<path d=\"m440.59 206.68h-341.17l327.7-94.93c2.5469-0.73828 4.6953-2.4609 5.9766-4.7812 1.2812-2.3242 1.5859-5.0586 0.84766-7.6055l-17.148-59.199c-6.8516-23.645-28.867-40.16-53.539-40.16-5.1992 0-10.379 0.73828-15.402 2.1914l-307.68 89.129c-14.23 4.1211-26.023 13.582-33.215 26.633-7.1875 13.051-8.875 28.078-4.7539 42.305l16.754 57.836v238.25c0 30.688 24.965 55.652 55.648 55.652h120.16c5.5234 0 10-4.4766 10-10s-4.4766-10-10-10h-120.16c-19.66 0-35.652-15.992-35.652-35.652v-136.09h391.63v136.09c2.1e-4 19.66-15.992 35.652-35.652 35.652h-120.16c-5.5195 0-10 4.4766-10 10s4.4805 10 10 10h120.16c30.688 0 55.652-24.965 55.652-55.652v-239.67c0-5.5234-4.4766-10-10-10zm-176.33 93.586 42.488-73.586h55.262l-42.484 73.586zm-78.359 0 42.488-73.586h55.262l-42.484 73.586zm-78.355 0 42.484-73.586h55.266l-42.488 73.586zm37.18-129.46-71.148-68.336 53.309-15.441c0.375 0.54688 0.8125 1.0625 1.3125 1.543l71.148 68.336-53.309 15.441c-0.375-0.54688-0.81641-1.0664-1.3125-1.543zm134-125.84 71.148 68.336-53.309 15.441c-0.375-0.54688-0.8125-1.0664-1.3125-1.543l-71.148-68.336 53.309-15.441c0.375 0.54688 0.8125 1.0625 1.3125 1.543zm-75.266 21.805 71.148 68.332-53.309 15.445c-0.375-0.54687-0.8125-1.0664-1.3125-1.543l-71.148-68.336 53.309-15.441c0.37891 0.54297 0.81641 1.0625 1.3125 1.543zm149.96-45.367c3.2109-0.92969 6.5195-1.4023 9.8359-1.4023 15.824 0 29.938 10.578 34.328 25.727l14.367 49.59-40.121 11.621c-0.3789-0.54688-0.8164-1.0625-1.3164-1.543l-71.145-68.332zm-328.94 106.2c4.6094-8.3711 12.16-14.434 21.262-17.07l5.875-1.7031c0.37891 0.54688 0.81641 1.0664 1.3125 1.543l71.148 68.336-88.293 25.578-14.367-49.59c-2.6367-9.0976-1.5469-18.719 3.0625-27.094zm14.48 99.074h87.973l-42.484 73.586h-45.488zm303.66 73.586 42.484-73.586h45.488v73.586z\" />\n\t\t\t\t\t<path d=\"m303.92 405.11c0-3.5742-1.9062-6.875-5-8.6602l-87.855-50.723c-3.0938-1.7852-6.9062-1.7852-10 0-3.0938 1.7852-5 5.0859-5 8.6602v101.45c0 3.5703 1.9062 6.8711 5 8.6562 1.5469 0.89453 3.2734 1.3438 5 1.3438 1.7266 0 3.4531-0.44922 5-1.3438l87.855-50.719c3.0938-1.7852 5-5.0859 5-8.6602zm-87.855 33.402v-66.805l57.855 33.402z\" />\n\t\t\t\t\t<path d=\"m234.77 492c-5.5078 0-10 4.4922-10 10s4.4922 10 10 10c5.5117 0 10-4.4922 10-10s-4.4883-10-10-10z\" />\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t\t<div v-show=\"!loaded && file.filempart === 'image'\"\n\t\t\t\tclass=\"placeholder\"\n\t\t\t\t:style=\"'min-height: ' + detailsGridSize + 'px'\"\n\t\t\t\t:title=\"file.filepath\">\n\t\t\t\t<svg width=\"50%\"\n\t\t\t\t\tenable-background=\"new 0 0 512 512\"\n\t\t\t\t\tversion=\"1.1\"\n\t\t\t\t\tviewBox=\"0 0 512 512\"\n\t\t\t\t\txml:space=\"preserve\"\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t<path d=\"m446.58 0h-381.15c-36.076 0-65.425 29.35-65.425 65.426v381.15c0 36.075 29.349 65.425 65.425 65.425h381.15c36.076 0 65.425-29.35 65.425-65.426v-381.15c0-36.076-29.349-65.426-65.425-65.426zm35.267 446.58c0 19.447-15.821 35.267-35.267 35.267h-381.15c-19.447 0-35.268-15.821-35.268-35.267v-55.007l99.255-84.451c3.622-3.082 8.906-3.111 12.562-0.075l62.174 51.628c5.995 4.977 14.795 4.569 20.304-0.946l147.73-147.95c2.67-2.675 5.783-2.935 7.408-2.852 1.62 0.083 4.695 0.661 7.078 3.596l95.176 117.19v118.87zm0-166.71-71.766-88.366c-7.117-8.764-17.666-14.122-28.942-14.701-11.268-0.57-22.317 3.672-30.294 11.662l-138.01 138.22-51.59-42.839c-14.959-12.422-36.563-12.293-51.373 0.308l-79.712 67.822v-286.55c0-19.447 15.821-35.268 35.268-35.268h381.15c19.447 0 35.267 15.821 35.267 35.268v214.44z\" />\n\t\t\t\t\t<path d=\"m161.17 62.995c-40.095 0-72.713 32.62-72.713 72.713 0 40.094 32.619 72.713 72.713 72.713s72.713-32.619 72.713-72.713-32.618-72.713-72.713-72.713zm0 115.27c-23.466 0-42.556-19.091-42.556-42.556 0-23.466 19.09-42.556 42.556-42.556s42.556 19.091 42.556 42.556-19.09 42.556-42.556 42.556z\" />\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"file-info\">\n\t\t\t<span :class=\"{ filename: !showFullFilePath, filepath: showFullFilePath }\" :title=\"file.filepath\">{{ !showFullFilePath ? file.filename : file.filepath }}</span>\n\t\t\t<span class=\"owner\">{{ file.fileowner }}</span>\n\t\t\t<span class=\"size\" :title=\"file.filesize + ' B'\">{{ formatBytes(Number(file.filesize)) }}</span>\n\t\t\t<div class=\"actions\" style=\"display: flex;\">\n\t\t\t\t<NcCheckboxRadioSwitch v-tooltip=\"{ content: t('mediadc', 'Select file'), placement: 'top' }\"\n\t\t\t\t\tclass=\"mediadc-checkbox-only\"\n\t\t\t\t\t:checked.sync=\"checked\" />\n\t\t\t\t<NcButton v-tooltip=\"{ content: t('mediadc', 'Delete file'), placement: 'top' }\"\n\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\t:aria-label=\"t('mediadc', 'Delete file')\"\n\t\t\t\t\t@click=\"deleteGroupFile(file)\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<span class=\"icon-delete\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcButton>\n\t\t\t\t<NcButton v-tooltip=\"{ content: t('mediadc', 'Remove file (mark resolved)'), placement: 'top' }\"\n\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\t:aria-label=\"t('mediadc', 'Remove file (mark resolved)')\"\n\t\t\t\t\t@click=\"removeGroupFile(file)\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<span class=\"icon-close\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcButton>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport axios from '@nextcloud/axios'\nimport { getCurrentUser } from '@nextcloud/auth'\nimport { emit, subscribe, unsubscribe } from '@nextcloud/event-bus'\nimport { showError, showMessage, showWarning } from '@nextcloud/dialogs'\nimport { generateRemoteUrl, generateUrl } from '@nextcloud/router'\n\nimport { NcButton, NcCheckboxRadioSwitch } from '@nextcloud/vue'\n\nimport { mapGetters } from 'vuex'\n\nimport Formats from '../../mixins/Formats.js'\n\nexport default {\n\tname: 'DetailsFile',\n\tcomponents: {\n\t\tNcButton,\n\t\tNcCheckboxRadioSwitch,\n\t},\n\tmixins: [Formats],\n\tprops: {\n\t\tfile: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tfiles: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tallFiles: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tcheckedFiles: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tdetail: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tloaded: false,\n\t\t\tchecked: false,\n\t\t\tupdating: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapGetters([\n\t\t\t'detailsGridSize',\n\t\t\t'deleteFileConfirmation',\n\t\t\t'showFullFilePath',\n\t\t\t'details',\n\t\t]),\n\t\timageUrl() {\n\t\t\tif (this.file.has_preview) {\n\t\t\t\treturn generateUrl(`/core/preview?fileId=${this.file.fileid}&x=${this.detailsGridSize}&y=${this.detailsGridSize}$forceIcon=0`)\n\t\t\t} else {\n\t\t\t\treturn generateRemoteUrl(`dav/files${this.file.filepath.replace('files/', '')}`)\n\t\t\t}\n\t\t},\n\t},\n\twatch: {\n\t\tchecked() {\n\t\t\tconst newCheckedFiles = this.checkedFiles\n\t\t\tconst fileIndex = newCheckedFiles.findIndex(f => f.fileid === this.file.fileid)\n\t\t\tif (this.checked) {\n\t\t\t\tif (fileIndex === -1) {\n\t\t\t\t\tnewCheckedFiles.push(this.file)\n\t\t\t\t}\n\t\t\t} else if (fileIndex !== -1) {\n\t\t\t\tnewCheckedFiles.splice(fileIndex, 1)\n\t\t\t}\n\t\t\tthis.$emit('update:checkedFiles', newCheckedFiles)\n\t\t},\n\t\tcheckedFiles() {\n\t\t\tconst fileIndex = this.checkedFiles.findIndex(f => f.fileid === this.file.fileid)\n\t\t\tif (!this.checked && fileIndex !== -1) {\n\t\t\t\tthis.checked = true\n\t\t\t}\n\t\t},\n\t},\n\tbeforeMount() {\n\t\tconst fileIndexChecked = this.checkedFiles.findIndex(f => f.fileid === this.file.fileid)\n\t\tthis.checked = fileIndexChecked !== -1\n\t\tsubscribe('deselectFiles', this.deselect)\n\t},\n\tbeforeDestroy() {\n\t\tunsubscribe('deselectFiles', this.deselect)\n\t},\n\tmethods: {\n\t\topenFile(file) {\n\t\t\tconst filesList = this.files.map(file => ({\n\t\t\t\tbasename: file.filename,\n\t\t\t\tfileid: file.fileid,\n\t\t\t\tfilename: file.filepath.replace(`/${getCurrentUser().uid}/files`, '').replace('files/', '/'),\n\t\t\t\tgetcontentlength: file.filesize,\n\t\t\t\tgetcontenttype: file.filemtype,\n\t\t\t\tmime: file.filemtype,\n\t\t\t\tsize: file.filesize,\n\t\t\t}))\n\t\t\tOCA.Viewer.open({\n\t\t\t\tpath: file.filepath.replace(`/${getCurrentUser().uid}/files`, '').replace('files/', '/'),\n\t\t\t\tlist: filesList.map(file => ({\n\t\t\t\t\t...file,\n\t\t\t\t\tlist: filesList,\n\t\t\t\t})),\n\t\t\t})\n\t\t},\n\t\tonLoad() {\n\t\t\tthis.loaded = true\n\t\t},\n\t\tdeleteGroupFile(file) {\n\t\t\tif (this.deleteFileConfirmation) {\n\t\t\t\tconst self = this\n\t\t\t\tOC.dialogs.confirm(this.t('mediadc', 'Are you sure you want to delete this file?'),\n\t\t\t\t\tthis.t('mediadc', 'Confirm file deletion'), function(success) {\n\t\t\t\t\t\tif (success) {\n\t\t\t\t\t\t\tself._deleteGroupFile(file)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis._deleteGroupFile(file)\n\t\t\t}\n\t\t},\n\t\t_deleteGroupFile(file) {\n\t\t\tthis.updating = true\n\t\t\taxios.delete(generateUrl(`/apps/mediadc/api/v1/tasks/${this.detail.task_id}/files/${this.detail.group_id}/${file.fileid}`))\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (res.data.success) {\n\t\t\t\t\t\tconst files = this.files\n\t\t\t\t\t\tif (this.allFiles.length === 2) { // Remove detail when 1 file left\n\t\t\t\t\t\t\temit('openNextDetailGroup', this.detail)\n\t\t\t\t\t\t\tthis.$store.commit('deleteDetail', this.detail)\n\t\t\t\t\t\t\tshowMessage(this.t('mediadc', 'Group successfully removed (1 file left)'))\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst fileidIndex = files.findIndex(f => f.fileid === file.fileid)\n\t\t\t\t\t\tfiles.splice(fileidIndex, 1)\n\t\t\t\t\t\tconst checkedIndex = this.checkedFiles.findIndex(f => f.fileid === file.fileid)\n\t\t\t\t\t\tif (this.checked && checkedIndex !== -1) {\n\t\t\t\t\t\t\tconst newCheckedFiles = this.checkedFiles\n\t\t\t\t\t\t\tnewCheckedFiles.splice(checkedIndex, 1)\n\t\t\t\t\t\t\tthis.$emit('update:checkedFiles', newCheckedFiles)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.$emit('update:files', files)\n\t\t\t\t\t\temit('updateTaskInfo')\n\t\t\t\t\t\tthis.$store.commit('setTask', res.data.task)\n\t\t\t\t\t\temit('updateGroupFilesPagination', this.file)\n\t\t\t\t\t} else if ('locked' in res.data && res.data.locked) {\n\t\t\t\t\t\tshowWarning(this.t('mediadc', 'Wait until file has been loaded before deleting it'))\n\t\t\t\t\t} else if ('not_permitted' in res.data && res.data.not_permited) {\n\t\t\t\t\t\tshowError(this.t('mediadc', 'Not enough permissions to delete the file'))\n\t\t\t\t\t} else if ('not_found' in res.data && res.data.not_found) {\n\t\t\t\t\t\tshowError(this.t('mediadc', 'File not found. Probably it\\'s has been already deleted'))\n\t\t\t\t\t} else {\n\t\t\t\t\t\tshowError(this.t('mediadc', 'An error occurred while deleting the file'))\n\t\t\t\t\t}\n\t\t\t\t\tthis.updating = false\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.debug(err)\n\t\t\t\t\tshowError(this.t('mediadc', 'An error occurred while deleting the file'))\n\t\t\t\t\tthis.updating = false\n\t\t\t\t})\n\t\t},\n\t\tremoveGroupFile(file) {\n\t\t\tthis.updating = true\n\t\t\taxios.post(generateUrl(`/apps/mediadc/api/v1/tasks/${this.detail.task_id}/files/${this.detail.group_id}/remove`), { fileIds: [file.fileid] }).then(res => {\n\t\t\t\tif (res.data.success) {\n\t\t\t\t\tconst files = this.files\n\t\t\t\t\tif (this.allFiles.length === 2) { // Remove detail when 1 file left\n\t\t\t\t\t\temit('openNextDetailGroup', this.detail)\n\t\t\t\t\t\tthis.$store.commit('deleteDetail', this.detail)\n\t\t\t\t\t\tshowMessage(this.t('mediadc', 'Group successfully removed (1 file left)'))\n\t\t\t\t\t}\n\t\t\t\t\tconst fileidIndex = files.findIndex(f => f.fileid === file.fileid)\n\t\t\t\t\tfiles.splice(fileidIndex, 1)\n\t\t\t\t\tconst checkedIndex = this.checkedFiles.findIndex(f => f.fileid === file.fileid)\n\t\t\t\t\tif (this.checked && checkedIndex !== -1) {\n\t\t\t\t\t\tconst newCheckedFiles = this.checkedFiles\n\t\t\t\t\t\tnewCheckedFiles.splice(checkedIndex, 1)\n\t\t\t\t\t\tthis.$emit('update:checkedFiles', newCheckedFiles)\n\t\t\t\t\t}\n\t\t\t\t\tthis.$emit('update:files', files)\n\t\t\t\t\temit('updateTaskInfo')\n\t\t\t\t\temit('updateGroupFilesPagination', this.file)\n\t\t\t\t\tthis.updating = false\n\t\t\t\t}\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.debug(err)\n\t\t\t\tshowError(this.t('mediadc', 'A server error occurred'))\n\t\t\t\tthis.updating = false\n\t\t\t})\n\t\t},\n\t\tdeselect(filesToDeselect) {\n\t\t\tif (this.checked && filesToDeselect.map(f => f.fileid).includes(this.file.fileid)) {\n\t\t\t\tthis.checked = false\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style scoped>\n.file.icon-loading .updating-blackout {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n\tbackground: rgba(0, 0, 0, 0.7);\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tborder-radius: var(--border-radius-large);\n\tz-index: 1;\n}\n\n.file {\n\tdisplay: flex;\n\theight: 100%;\n\tflex-direction: column;\n\tjustify-content: space-between;\n\tborder: 1px solid var(--color-border-dark);\n\ttransition: box-shadow .3s;\n\tmargin: 10px;\n\tbackground-color: var(--color-background-dark);\n\tborder-radius: var(--border-radius-large);\n\toverflow: hidden;\n}\n\n.file-thumb-loaded {\n\tdisplay: flex;\n\twidth: 100%;\n\tborder-radius: var(--border-radius-large);\n}\n\n.file-thumb img {\n\twidth: 100%;\n\theight: auto;\n\tcursor: pointer;\n\tborder-radius: var(--border-radius-large);\n}\n\n.placeholder {\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: pointer;\n\tborder-radius: var(--border-radius-large);\n}\n\nbody[data-theme-dark] .placeholder {\n\tbackground-color: var(--color-loading-dark);\n}\n\n.file-info {\n\twidth: 100%;\n\tpadding: 5px 10px;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tbackground-color: var(--color-background-dark);\n\ttext-align: center;\n\tcolor: var(--color-main-text);\n}\n\n.filename {\n\twidth: 100%;\n\toverflow-x: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.filepath {\n\twidth: 100%;\n\tline-break: anywhere;\n\tborder-bottom: 1px solid var(--color-border-dark);\n\tpadding-bottom: 5px;\n\tmargin-bottom: 5px;\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsFile.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsFile.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsFile.vue?vue&type=style&index=0&id=4d8158fc&prod&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsFile.vue?vue&type=style&index=0&id=4d8158fc&prod&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./DetailsFile.vue?vue&type=template&id=4d8158fc&scoped=true\"\nimport script from \"./DetailsFile.vue?vue&type=script&lang=js\"\nexport * from \"./DetailsFile.vue?vue&type=script&lang=js\"\nimport style0 from \"./DetailsFile.vue?vue&type=style&index=0&id=4d8158fc&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d8158fc\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsGroupList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsGroupList.vue?vue&type=script&lang=js\"","<!--\n - @copyright Copyright (c) 2021-2022 Andrey Borysenko <andrey18106x@gmail.com>\n -\n - @copyright Copyright (c) 2021-2022 Alexander Piskun <bigcat88@icloud.com>\n -\n - @author 2021-2022 Andrey Borysenko <andrey18106x@gmail.com>\n -\n - @license AGPL-3.0-or-later\n -\n - This program is free software: you can redistribute it and/or modify\n - it under the terms of the GNU Affero General Public License as\n - published by the Free Software Foundation, either version 3 of the\n - License, or (at your option) any later version.\n -\n - This program is distributed in the hope that it will be useful,\n - but WITHOUT ANY WARRANTY; without even the implied warranty of\n - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n - GNU Affero General Public License for more details.\n -\n - You should have received a copy of the GNU Affero General Public License\n - along with this program. If not, see <http://www.gnu.org/licenses/>.\n -\n -->\n\n<template>\n\t<div v-if=\"!loadingFiles\" class=\"details-group\">\n\t\t<div class=\"filters\">\n\t\t\t<div class=\"sorting\">\n\t\t\t\t{{ t('mediadc', 'Files size sorting') }}\n\t\t\t\t<NcButton type=\"tertiary\"\n\t\t\t\t\t:aria-label=\"t('mediadc', 'Toggle files size sorting')\"\n\t\t\t\t\tstyle=\"margin: 0 10px;\"\n\t\t\t\t\t@click=\"updateFileSorting\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<span :class=\"filesAscending ? 'icon-triangle-s sorting-group-files-btn' : 'icon-triangle-n sorting-group-files-btn'\" />\n\t\t\t\t\t</template>\n\t\t\t\t</NcButton>\n\t\t\t</div>\n\t\t\t<div class=\"search\">\n\t\t\t\t<label for=\"filename-filter\">\n\t\t\t\t\t{{ t('mediadc', 'Filter by filename: ') }}\n\t\t\t\t\t<input id=\"filename-filter\"\n\t\t\t\t\t\tv-model=\"filterFileName\"\n\t\t\t\t\t\ttype=\"search\"\n\t\t\t\t\t\tname=\"filename-filter\"\n\t\t\t\t\t\t:placeholder=\"t('mediadc', 'Filename or part')\"\n\t\t\t\t\t\t@input=\"filterByFileName\">\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<div v-if=\"checkedFiles.length > 0\" class=\"batch-editing\">\n\t\t\t\t{{ n('mediadc', 'Batch actions for %n file', 'Batch actions for %n files', checkedFiles.length) }}\n\t\t\t\t<NcActions placement=\"left\" style=\"margin-left: 5px;\">\n\t\t\t\t\t<NcActionButton v-tooltip=\"{content: t('mediadc', 'Select all files in a group'), placement: 'left'}\"\n\t\t\t\t\t\ticon=\"icon-checkmark\"\n\t\t\t\t\t\t@click=\"selectAllFiles\">\n\t\t\t\t\t\t{{ checkedFiles.length === allFiles.length ? t('mediadc', 'Deselect all') : t('mediadc', 'Select all') }}\n\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t<NcActionButton v-if=\"detail.files.length > groupItemsPerPage\"\n\t\t\t\t\t\ticon=\"icon-checkmark\"\n\t\t\t\t\t\t@click=\"selectAllFilesOnPage\">\n\t\t\t\t\t\t{{ checkedFilesIntersect.length === files.length ? t('mediadc', 'Deselect all on page') : t('mediadc', 'Select all on page') }}\n\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t<NcActionButton v-tooltip=\"{content: t('mediadc', 'Mark as resolved without deleting'), placement: 'left'}\"\n\t\t\t\t\t\ticon=\"icon-close\"\n\t\t\t\t\t\t@click=\"removeCheckedFiles\">\n\t\t\t\t\t\t{{ n('mediadc', 'Remove file', 'Remove files', checkedFiles.length) }}\n\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t<NcActionButton v-tooltip=\"{content: n('mediadc', 'Delete selected file', 'Delete selected files', checkedFiles.length), placement: 'left'}\"\n\t\t\t\t\t\ticon=\"icon-delete\"\n\t\t\t\t\t\t@click=\"deleteCheckedFiles\">\n\t\t\t\t\t\t{{ n('mediadc', 'Delete file', 'Delete files', checkedFiles.length) }}\n\t\t\t\t\t</NcActionButton>\n\t\t\t\t</NcActions>\n\t\t\t</div>\n\t\t</div>\n\t\t<div v-if=\"!filesFiltered\" class=\"details-group-files\">\n\t\t\t<DetailsFile v-for=\"file in files\"\n\t\t\t\t:key=\"file.fileid\"\n\t\t\t\t:file=\"file\"\n\t\t\t\t:files=\"files\"\n\t\t\t\t:all-files=\"allFiles\"\n\t\t\t\t:checked-files.sync=\"checkedFiles\"\n\t\t\t\t:detail=\"detail\" />\n\t\t</div>\n\t\t<div v-else-if=\"filteredFiles.length > 0\" class=\"details-group-files\">\n\t\t\t<DetailsFile v-for=\"file in filteredFiles\"\n\t\t\t\t:key=\"file.fileid\"\n\t\t\t\t:file=\"file\"\n\t\t\t\t:files=\"files\"\n\t\t\t\t:all-files=\"allFiles\"\n\t\t\t\t:checked-files.sync=\"checkedFiles\"\n\t\t\t\t:detail=\"detail\" />\n\t\t</div>\n\t\t<div v-else class=\"details-group-files\">\n\t\t\t<p style=\"margin: 0 0 10px;\">\n\t\t\t\t{{ t('mediadc', 'No matches on this page') }}\n\t\t\t</p>\n\t\t</div>\n\t</div>\n\t<div v-else>\n\t\t<span class=\"icon-loading\" style=\"width: 20px; height: 20px; display: flex; margin: 20px auto;\" />\n\t</div>\n</template>\n\n<script>\nimport axios from '@nextcloud/axios'\nimport { mapGetters } from 'vuex'\nimport { showError, showMessage, showSuccess, showWarning } from '@nextcloud/dialogs'\nimport { generateUrl } from '@nextcloud/router'\nimport { emit } from '@nextcloud/event-bus'\n\nimport { NcActions, NcActionButton, NcButton } from '@nextcloud/vue'\n\nimport Formats from '../../mixins/Formats.js'\nimport DetailsFile from './DetailsFile.vue'\n\nexport default {\n\tname: 'DetailsGroupList',\n\tcomponents: {\n\t\tDetailsFile,\n\t\tNcActions,\n\t\tNcActionButton,\n\t\tNcButton,\n\t},\n\tmixins: [Formats],\n\tprops: {\n\t\tfiles: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t\tdefault: () => [],\n\t\t},\n\t\tallFiles: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t\tdefault: () => [],\n\t\t},\n\t\tdetail: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tloadingFiles: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t\tupdating: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t\tfilesAscending: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcheckedFiles: [],\n\t\t\tbatchActionsOpened: false,\n\t\t\tfilesFiltered: false,\n\t\t\tfilterFileName: '',\n\t\t\tfilteredFiles: [],\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapGetters([\n\t\t\t'detailsGridSize',\n\t\t\t'groupItemsPerPage',\n\t\t\t'details',\n\t\t]),\n\t\tcheckedFilesIntersect() {\n\t\t\tconst a = new Set(this.files)\n\t\t\tconst b = new Set(this.checkedFiles)\n\t\t\tconst intersect = new Set([...a].filter(i => b.has(i)))\n\t\t\treturn Array.from(intersect)\n\t\t},\n\t},\n\twatch: {\n\t\tfiles() {\n\t\t\tthis.filterByFileName()\n\t\t},\n\t},\n\tmethods: {\n\t\topenBatchActionsPopup() {\n\t\t\tdocument.addEventListener('click', this.toggleBatchActionsPopup)\n\t\t},\n\t\ttoggleBatchActionsPopup() {\n\t\t\tif (this.batchActionsOpened) {\n\t\t\t\tdocument.removeEventListener('click', this.toggleBatchActionsPopup)\n\t\t\t}\n\t\t\tthis.batchActionsOpened = !this.batchActionsOpened\n\t\t},\n\t\tselectAllFiles() {\n\t\t\tif (this.checkedFiles.length === this.allFiles.length) { // Deselect files\n\t\t\t\temit('deselectFiles', this.checkedFiles)\n\t\t\t\tfor (const file of this.allFiles) {\n\t\t\t\t\tconst fileIndex = this.checkedFiles.findIndex(f => f.fileid === file.fileid)\n\t\t\t\t\tif (fileIndex !== -1) {\n\t\t\t\t\t\tthis.checkedFiles.splice(fileIndex, 1)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (const file of this.allFiles) {\n\t\t\t\t\tconst fileIndex = this.checkedFiles.findIndex(f => f.fileid === file.fileid)\n\t\t\t\t\tif (fileIndex === -1) {\n\t\t\t\t\t\tthis.checkedFiles.push(file)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tselectAllFilesOnPage() {\n\t\t\tif (this.files.length === this.checkedFilesIntersect.length) {\n\t\t\t\tconst filesToDeselect = this.checkedFilesIntersect\n\t\t\t\temit('deselectFiles', filesToDeselect)\n\t\t\t\tfor (const fileid of filesToDeselect.map(f => f.fileid)) {\n\t\t\t\t\tconst fileIndex = this.checkedFiles.findIndex(f => f.fileid === fileid)\n\t\t\t\t\tif (fileIndex !== -1) {\n\t\t\t\t\t\tthis.checkedFiles.splice(fileIndex, 1)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (const file of this.files) {\n\t\t\t\t\tconst fileIndex = this.checkedFiles.findIndex(f => f.fileid === file.fileid)\n\t\t\t\t\tif (fileIndex === -1) {\n\t\t\t\t\t\tthis.checkedFiles.push(file)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tremoveCheckedFiles() {\n\t\t\tthis.$emit('update:updating', true)\n\t\t\taxios.post(generateUrl(`/apps/mediadc/api/v1/tasks/${this.detail.task_id}/files/${this.detail.group_id}/remove`), { fileIds: this.checkedFiles.map(f => f.fileid) }).then(res => {\n\t\t\t\tif (res.data.success) {\n\t\t\t\t\tconst allFiles = this.allFiles\n\t\t\t\t\tif ((this.allFiles.length - this.checkedFiles.length) <= 1) {\n\t\t\t\t\t\temit('openNextDetailGroup', this.detail)\n\t\t\t\t\t\t// Remove detail\n\t\t\t\t\t\tthis.$store.commit('deleteDetail', this.detail)\n\t\t\t\t\t\tif ((this.allFiles.length - this.checkedFiles.length) === 1) {\n\t\t\t\t\t\t\tshowMessage(this.t('mediadc', 'Group successfully removed (1 file left)'))\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (const fileid of res.data.removedFileIds) {\n\t\t\t\t\t\tconst fileidIndex = allFiles.findIndex(f => f.fileid === fileid)\n\t\t\t\t\t\tallFiles.splice(fileidIndex, 1)\n\t\t\t\t\t\tconst checkedFileIdIndex = this.checkedFiles.findIndex(f => f.fileid === fileid)\n\t\t\t\t\t\tif (checkedFileIdIndex !== -1) {\n\t\t\t\t\t\t\tthis.checkedFiles.splice(checkedFileIdIndex, 1)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\temit('updateTaskInfo')\n\t\t\t\t\tthis.$emit('update:allFiles', allFiles)\n\t\t\t\t\temit('updateGroupFilesPagination')\n\t\t\t\t\tthis.$emit('update:updating', false)\n\t\t\t\t\tshowSuccess(this.t('mediadc', 'Checked files successfully removed'))\n\t\t\t\t}\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.debug(err)\n\t\t\t\tshowError(this.t('mediadc', 'A server error occurred'))\n\t\t\t\tthis.$emit('update:updating', false)\n\t\t\t})\n\t\t},\n\t\tdeleteCheckedFiles() {\n\t\t\tif (this.allFiles.length === this.checkedFiles.length) {\n\t\t\t\tif (confirm(this.t('mediadc', 'Are you sure you want to delete all files'))) {\n\t\t\t\t\tthis._deleteCheckedFiles()\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis._deleteCheckedFiles()\n\t\t\t}\n\t\t},\n\t\t_deleteCheckedFiles() {\n\t\t\tthis.$emit('update:updating', true)\n\t\t\taxios.post(generateUrl(`/apps/mediadc/api/v1/tasks/${this.detail.task_id}/files/${this.detail.group_id}/delete`), { fileIds: this.checkedFiles.map(f => f.fileid) }).then(res => {\n\t\t\t\tif (res.data.success) {\n\t\t\t\t\tthis._updateDeletedFiles(res)\n\t\t\t\t\tthis.$store.commit('setTask', res.data.task)\n\t\t\t\t} else if (!res.data.success && res.data.deletedFileIds.length > 0) {\n\t\t\t\t\tshowWarning(this.t('mediadc', 'Not all files deleted'))\n\t\t\t\t\tthis._updateDeletedFiles(res)\n\t\t\t\t} else {\n\t\t\t\t\tconsole.debug(res.data.errors)\n\t\t\t\t\tshowError(this.t('mediadc', 'A server error occurred. Files not deleted'))\n\t\t\t\t\tthis.$emit('update:updating', false)\n\t\t\t\t}\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.debug(err)\n\t\t\t\tshowError(this.t('mediadc', 'A server error occurred'))\n\t\t\t\tthis.$emit('update:updating', false)\n\t\t\t})\n\t\t},\n\t\t_updateDeletedFiles(res) {\n\t\t\tconst allFiles = this.allFiles\n\t\t\tif ((this.allFiles.length - this.checkedFiles.length) <= 1 && res.data.deletedFileIds.length === this.checkedFiles.length) {\n\t\t\t\temit('openNextDetailGroup', this.detail)\n\t\t\t\t// Remove detail\n\t\t\t\tthis.$store.commit('deleteDetail', this.detail)\n\t\t\t\tif ((this.allFiles.length - this.checkedFiles.length) === 1) {\n\t\t\t\t\tshowMessage(this.t('mediadc', 'Group successfully removed (1 file left)'))\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (const fileid of res.data.deletedFileIds) {\n\t\t\t\tconst fileidIndex = allFiles.findIndex(f => f.fileid === fileid)\n\t\t\t\tallFiles.splice(fileidIndex, 1)\n\t\t\t\tconst checkedFileIdIndex = this.checkedFiles.findIndex(f => f.fileid === fileid)\n\t\t\t\tif (checkedFileIdIndex !== -1) {\n\t\t\t\t\tthis.checkedFiles.splice(checkedFileIdIndex, 1)\n\t\t\t\t}\n\t\t\t}\n\n\t\t\temit('updateTaskInfo')\n\t\t\tthis.$emit('update:allFiles', allFiles)\n\t\t\temit('updateGroupFilesPagination')\n\t\t\tthis.$emit('update:updating', false)\n\t\t\tshowSuccess(this.t('mediadc', 'Checked files successfully deleted'))\n\t\t},\n\t\tfilterByFileName() {\n\t\t\tif (this.filterFileName !== '') {\n\t\t\t\tthis.filesFiltered = true\n\t\t\t\tthis.filteredFiles = this.files.filter(f => f.filename.toLowerCase().includes(this.filterFileName.toLowerCase()))\n\t\t\t} else {\n\t\t\t\tthis.filesFiltered = false\n\t\t\t\tthis.filteredFiles = []\n\t\t\t}\n\t\t},\n\t\tupdateFileSorting() {\n\t\t\tthis.$emit('update:filesAscending', !this.filesAscending)\n\t\t},\n\t},\n}\n</script>\n\n<style scoped>\n.details-group {\n\twidth: 100%;\n\tborder-top: 1px solid var(--color-border-dark);\n\tborder-bottom: 1px solid var(--color-border-dark);\n\tmargin: 10px 0;\n}\n\n.details-group-files {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tjustify-content: center;\n\tmax-height: 100vh;\n\toverflow-y: scroll;\n}\n\n@media (max-width: 540px) {\n\t.file {\n\t\tmax-width: 192px;\n\t}\n\n\t.filters {\n\t\tflex-direction: column;\n\t}\n}\n\n.file:hover {\n\tbox-shadow: 0 0 10px 0 rgba(0, 0, 0, .25);\n}\n\n.filters {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: 5px 10px;\n\tmargin: 10px 0;\n\tborder: 1px solid var(--color-border-dark);\n\tborder-radius: var(--border-radius-large);\n}\n\n.search {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.sorting {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.batch-editing {\n\tposition: relative;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.batch-actions-menu-button {\n\tpadding: 20px;\n\tborder-radius: 50%;\n\tcursor: pointer;\n\tuser-select: none;\n}\n</style>\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"file\",class:{'icon-loading': _vm.updating},style:('width: ' + _vm.detailsGridSize + 'px;')},[(_vm.updating)?_c('div',{staticClass:\"updating-blackout\"}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"file-thumb\",on:{\"click\":function($event){return _vm.openFile(_vm.file)}}},[(_vm.file.filempart === 'image' || (_vm.file.filempart === 'video' && _vm.file.has_preview))?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loaded),expression:\"loaded\"}],staticClass:\"file-thumb-loaded\"},[_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loaded),expression:\"loaded\"}],key:_vm.file.filepath,attrs:{\"src\":_vm.imageUrl,\"alt\":_vm.file.filename,\"title\":_vm.file.filepath},on:{\"load\":_vm.onLoad}})]):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loaded && _vm.file.filempart === 'video'),expression:\"!loaded && file.filempart === 'video'\"}],staticClass:\"placeholder\",style:('min-height: ' + _vm.detailsGridSize + 'px'),attrs:{\"title\":_vm.file.filepath}},[_c('svg',{attrs:{\"width\":\"50%\",\"height\":\"50%\",\"version\":\"1.1\",\"viewBox\":\"-31 0 512 512\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"m440.59 206.68h-341.17l327.7-94.93c2.5469-0.73828 4.6953-2.4609 5.9766-4.7812 1.2812-2.3242 1.5859-5.0586 0.84766-7.6055l-17.148-59.199c-6.8516-23.645-28.867-40.16-53.539-40.16-5.1992 0-10.379 0.73828-15.402 2.1914l-307.68 89.129c-14.23 4.1211-26.023 13.582-33.215 26.633-7.1875 13.051-8.875 28.078-4.7539 42.305l16.754 57.836v238.25c0 30.688 24.965 55.652 55.648 55.652h120.16c5.5234 0 10-4.4766 10-10s-4.4766-10-10-10h-120.16c-19.66 0-35.652-15.992-35.652-35.652v-136.09h391.63v136.09c2.1e-4 19.66-15.992 35.652-35.652 35.652h-120.16c-5.5195 0-10 4.4766-10 10s4.4805 10 10 10h120.16c30.688 0 55.652-24.965 55.652-55.652v-239.67c0-5.5234-4.4766-10-10-10zm-176.33 93.586 42.488-73.586h55.262l-42.484 73.586zm-78.359 0 42.488-73.586h55.262l-42.484 73.586zm-78.355 0 42.484-73.586h55.266l-42.488 73.586zm37.18-129.46-71.148-68.336 53.309-15.441c0.375 0.54688 0.8125 1.0625 1.3125 1.543l71.148 68.336-53.309 15.441c-0.375-0.54688-0.81641-1.0664-1.3125-1.543zm134-125.84 71.148 68.336-53.309 15.441c-0.375-0.54688-0.8125-1.0664-1.3125-1.543l-71.148-68.336 53.309-15.441c0.375 0.54688 0.8125 1.0625 1.3125 1.543zm-75.266 21.805 71.148 68.332-53.309 15.445c-0.375-0.54687-0.8125-1.0664-1.3125-1.543l-71.148-68.336 53.309-15.441c0.37891 0.54297 0.81641 1.0625 1.3125 1.543zm149.96-45.367c3.2109-0.92969 6.5195-1.4023 9.8359-1.4023 15.824 0 29.938 10.578 34.328 25.727l14.367 49.59-40.121 11.621c-0.3789-0.54688-0.8164-1.0625-1.3164-1.543l-71.145-68.332zm-328.94 106.2c4.6094-8.3711 12.16-14.434 21.262-17.07l5.875-1.7031c0.37891 0.54688 0.81641 1.0664 1.3125 1.543l71.148 68.336-88.293 25.578-14.367-49.59c-2.6367-9.0976-1.5469-18.719 3.0625-27.094zm14.48 99.074h87.973l-42.484 73.586h-45.488zm303.66 73.586 42.484-73.586h45.488v73.586z\"}}),_vm._v(\" \"),_c('path',{attrs:{\"d\":\"m303.92 405.11c0-3.5742-1.9062-6.875-5-8.6602l-87.855-50.723c-3.0938-1.7852-6.9062-1.7852-10 0-3.0938 1.7852-5 5.0859-5 8.6602v101.45c0 3.5703 1.9062 6.8711 5 8.6562 1.5469 0.89453 3.2734 1.3438 5 1.3438 1.7266 0 3.4531-0.44922 5-1.3438l87.855-50.719c3.0938-1.7852 5-5.0859 5-8.6602zm-87.855 33.402v-66.805l57.855 33.402z\"}}),_vm._v(\" \"),_c('path',{attrs:{\"d\":\"m234.77 492c-5.5078 0-10 4.4922-10 10s4.4922 10 10 10c5.5117 0 10-4.4922 10-10s-4.4883-10-10-10z\"}})])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.loaded && _vm.file.filempart === 'image'),expression:\"!loaded && file.filempart === 'image'\"}],staticClass:\"placeholder\",style:('min-height: ' + _vm.detailsGridSize + 'px'),attrs:{\"title\":_vm.file.filepath}},[_c('svg',{attrs:{\"width\":\"50%\",\"enable-background\":\"new 0 0 512 512\",\"version\":\"1.1\",\"viewBox\":\"0 0 512 512\",\"xml:space\":\"preserve\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"m446.58 0h-381.15c-36.076 0-65.425 29.35-65.425 65.426v381.15c0 36.075 29.349 65.425 65.425 65.425h381.15c36.076 0 65.425-29.35 65.425-65.426v-381.15c0-36.076-29.349-65.426-65.425-65.426zm35.267 446.58c0 19.447-15.821 35.267-35.267 35.267h-381.15c-19.447 0-35.268-15.821-35.268-35.267v-55.007l99.255-84.451c3.622-3.082 8.906-3.111 12.562-0.075l62.174 51.628c5.995 4.977 14.795 4.569 20.304-0.946l147.73-147.95c2.67-2.675 5.783-2.935 7.408-2.852 1.62 0.083 4.695 0.661 7.078 3.596l95.176 117.19v118.87zm0-166.71-71.766-88.366c-7.117-8.764-17.666-14.122-28.942-14.701-11.268-0.57-22.317 3.672-30.294 11.662l-138.01 138.22-51.59-42.839c-14.959-12.422-36.563-12.293-51.373 0.308l-79.712 67.822v-286.55c0-19.447 15.821-35.268 35.268-35.268h381.15c19.447 0 35.267 15.821 35.267 35.268v214.44z\"}}),_vm._v(\" \"),_c('path',{attrs:{\"d\":\"m161.17 62.995c-40.095 0-72.713 32.62-72.713 72.713 0 40.094 32.619 72.713 72.713 72.713s72.713-32.619 72.713-72.713-32.618-72.713-72.713-72.713zm0 115.27c-23.466 0-42.556-19.091-42.556-42.556 0-23.466 19.09-42.556 42.556-42.556s42.556 19.091 42.556 42.556-19.09 42.556-42.556 42.556z\"}})])])]),_vm._v(\" \"),_c('div',{staticClass:\"file-info\"},[_c('span',{class:{ filename: !_vm.showFullFilePath, filepath: _vm.showFullFilePath },attrs:{\"title\":_vm.file.filepath}},[_vm._v(_vm._s(!_vm.showFullFilePath ? _vm.file.filename : _vm.file.filepath))]),_vm._v(\" \"),_c('span',{staticClass:\"owner\"},[_vm._v(_vm._s(_vm.file.fileowner))]),_vm._v(\" \"),_c('span',{staticClass:\"size\",attrs:{\"title\":_vm.file.filesize + ' B'}},[_vm._v(_vm._s(_vm.formatBytes(Number(_vm.file.filesize))))]),_vm._v(\" \"),_c('div',{staticClass:\"actions\",staticStyle:{\"display\":\"flex\"}},[_c('NcCheckboxRadioSwitch',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({ content: _vm.t('mediadc', 'Select file'), placement: 'top' }),expression:\"{ content: t('mediadc', 'Select file'), placement: 'top' }\"}],staticClass:\"mediadc-checkbox-only\",attrs:{\"checked\":_vm.checked},on:{\"update:checked\":function($event){_vm.checked=$event}}}),_vm._v(\" \"),_c('NcButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({ content: _vm.t('mediadc', 'Delete file'), placement: 'top' }),expression:\"{ content: t('mediadc', 'Delete file'), placement: 'top' }\"}],attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('mediadc', 'Delete file')},on:{\"click\":function($event){return _vm.deleteGroupFile(_vm.file)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('span',{staticClass:\"icon-delete\"})]},proxy:true}])}),_vm._v(\" \"),_c('NcButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({ content: _vm.t('mediadc', 'Remove file (mark resolved)'), placement: 'top' }),expression:\"{ content: t('mediadc', 'Remove file (mark resolved)'), placement: 'top' }\"}],attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('mediadc', 'Remove file (mark resolved)')},on:{\"click\":function($event){return _vm.removeGroupFile(_vm.file)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('span',{staticClass:\"icon-close\"})]},proxy:true}])})],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsGroupList.vue?vue&type=style&index=0&id=3ed04696&prod&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsGroupList.vue?vue&type=style&index=0&id=3ed04696&prod&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./DetailsGroupList.vue?vue&type=template&id=3ed04696&scoped=true\"\nimport script from \"./DetailsGroupList.vue?vue&type=script&lang=js\"\nexport * from \"./DetailsGroupList.vue?vue&type=script&lang=js\"\nimport style0 from \"./DetailsGroupList.vue?vue&type=style&index=0&id=3ed04696&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3ed04696\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.loadingFiles)?_c('div',{staticClass:\"details-group\"},[_c('div',{staticClass:\"filters\"},[_c('div',{staticClass:\"sorting\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mediadc', 'Files size sorting'))+\"\\n\\t\\t\\t\"),_c('NcButton',{staticStyle:{\"margin\":\"0 10px\"},attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('mediadc', 'Toggle files size sorting')},on:{\"click\":_vm.updateFileSorting},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('span',{class:_vm.filesAscending ? 'icon-triangle-s sorting-group-files-btn' : 'icon-triangle-n sorting-group-files-btn'})]},proxy:true}],null,false,1665595266)})],1),_vm._v(\" \"),_c('div',{staticClass:\"search\"},[_c('label',{attrs:{\"for\":\"filename-filter\"}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mediadc', 'Filter by filename: '))+\"\\n\\t\\t\\t\\t\"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filterFileName),expression:\"filterFileName\"}],attrs:{\"id\":\"filename-filter\",\"type\":\"search\",\"name\":\"filename-filter\",\"placeholder\":_vm.t('mediadc', 'Filename or part')},domProps:{\"value\":(_vm.filterFileName)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.filterFileName=$event.target.value},_vm.filterByFileName]}})])]),_vm._v(\" \"),(_vm.checkedFiles.length > 0)?_c('div',{staticClass:\"batch-editing\"},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.n('mediadc', 'Batch actions for %n file', 'Batch actions for %n files', _vm.checkedFiles.length))+\"\\n\\t\\t\\t\"),_c('NcActions',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"placement\":\"left\"}},[_c('NcActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.t('mediadc', 'Select all files in a group'), placement: 'left'}),expression:\"{content: t('mediadc', 'Select all files in a group'), placement: 'left'}\"}],attrs:{\"icon\":\"icon-checkmark\"},on:{\"click\":_vm.selectAllFiles}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.checkedFiles.length === _vm.allFiles.length ? _vm.t('mediadc', 'Deselect all') : _vm.t('mediadc', 'Select all'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),(_vm.detail.files.length > _vm.groupItemsPerPage)?_c('NcActionButton',{attrs:{\"icon\":\"icon-checkmark\"},on:{\"click\":_vm.selectAllFilesOnPage}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.checkedFilesIntersect.length === _vm.files.length ? _vm.t('mediadc', 'Deselect all on page') : _vm.t('mediadc', 'Select all on page'))+\"\\n\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('NcActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.t('mediadc', 'Mark as resolved without deleting'), placement: 'left'}),expression:\"{content: t('mediadc', 'Mark as resolved without deleting'), placement: 'left'}\"}],attrs:{\"icon\":\"icon-close\"},on:{\"click\":_vm.removeCheckedFiles}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.n('mediadc', 'Remove file', 'Remove files', _vm.checkedFiles.length))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('NcActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.n('mediadc', 'Delete selected file', 'Delete selected files', _vm.checkedFiles.length), placement: 'left'}),expression:\"{content: n('mediadc', 'Delete selected file', 'Delete selected files', checkedFiles.length), placement: 'left'}\"}],attrs:{\"icon\":\"icon-delete\"},on:{\"click\":_vm.deleteCheckedFiles}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.n('mediadc', 'Delete file', 'Delete files', _vm.checkedFiles.length))+\"\\n\\t\\t\\t\\t\")])],1)],1):_vm._e()]),_vm._v(\" \"),(!_vm.filesFiltered)?_c('div',{staticClass:\"details-group-files\"},_vm._l((_vm.files),function(file){return _c('DetailsFile',{key:file.fileid,attrs:{\"file\":file,\"files\":_vm.files,\"all-files\":_vm.allFiles,\"checked-files\":_vm.checkedFiles,\"detail\":_vm.detail},on:{\"update:checkedFiles\":function($event){_vm.checkedFiles=$event},\"update:checked-files\":function($event){_vm.checkedFiles=$event}}})}),1):(_vm.filteredFiles.length > 0)?_c('div',{staticClass:\"details-group-files\"},_vm._l((_vm.filteredFiles),function(file){return _c('DetailsFile',{key:file.fileid,attrs:{\"file\":file,\"files\":_vm.files,\"all-files\":_vm.allFiles,\"checked-files\":_vm.checkedFiles,\"detail\":_vm.detail},on:{\"update:checkedFiles\":function($event){_vm.checkedFiles=$event},\"update:checked-files\":function($event){_vm.checkedFiles=$event}}})}),1):_c('div',{staticClass:\"details-group-files\"},[_c('p',{staticStyle:{\"margin\":\"0 0 10px\"}},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mediadc', 'No matches on this page'))+\"\\n\\t\\t\")])])]):_c('div',[_c('span',{staticClass:\"icon-loading\",staticStyle:{\"width\":\"20px\",\"height\":\"20px\",\"display\":\"flex\",\"margin\":\"20px auto\"}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n - @copyright Copyright (c) 2021-2022 Andrey Borysenko <andrey18106x@gmail.com>\n -\n - @copyright Copyright (c) 2021-2022 Alexander Piskun <bigcat88@icloud.com>\n -\n - @author 2021-2022 Andrey Borysenko <andrey18106x@gmail.com>\n -\n - @license AGPL-3.0-or-later\n -\n - This program is free software: you can redistribute it and/or modify\n - it under the terms of the GNU Affero General Public License as\n - published by the Free Software Foundation, either version 3 of the\n - License, or (at your option) any later version.\n -\n - This program is distributed in the hope that it will be useful,\n - but WITHOUT ANY WARRANTY; without even the implied warranty of\n - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n - GNU Affero General Public License for more details.\n -\n - You should have received a copy of the GNU Affero General Public License\n - along with this program. If not, see <http://www.gnu.org/licenses/>.\n -\n -->\n\n<template>\n\t<div :id=\"'detail-' + detail.task_id + '-' + detail.group_id\"\n\t\tclass=\"details-list-item\"\n\t\t:class=\"{'icon-loading': updating}\">\n\t\t<div class=\"details-list-item-title\">\n\t\t\t<NcCheckboxRadioSwitch v-tooltip=\"{content: t('mediadc', 'Select group'), placement: 'top'}\"\n\t\t\t\tclass=\"mediadc-checkbox-only batch-checkbox\"\n\t\t\t\t:checked.sync=\"checked\" />\n\t\t\t<NcButton type=\"tertiary\"\n\t\t\t\tclass=\"open-details-btn\"\n\t\t\t\t:aria-label=\"t('mediadc', 'Open duplicate group')\"\n\t\t\t\t@click=\"openDetailFiles(detail)\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<span class=\"icon-projects\" />\n\t\t\t\t</template>\n\t\t\t\t<template #default>\n\t\t\t\t\t{{ t('mediadc', 'Duplicate group') }} #{{ detail.group_id }} ({{ groupFilesTotal }}\n\t\t\t\t\t{{ n('mediadc', 'file', 'files', groupFilesTotal) }}{{ ' - ' + formatBytes(groupFilesSize) }})\n\t\t\t\t\t<span :class=\"!opened ? 'icon-triangle-s' : 'icon-triangle-n'\"\n\t\t\t\t\t\tstyle=\"display: inline-flex; margin: 0 0 0 5px;\" />\n\t\t\t\t</template>\n\t\t\t</NcButton>\n\t\t\t<NcActions>\n\t\t\t\t<NcActionButton icon=\"icon-delete delete-group-btn\" @click=\"removeTaskDetail(detail)\">\n\t\t\t\t\t{{ t('mediadc', 'Remove group without deleting files') }}\n\t\t\t\t</NcActionButton>\n\t\t\t</NcActions>\n\t\t</div>\n\t\t<div v-if=\"opened && groupFilesTotal > groupItemsPerPage\" class=\"pagination\">\n\t\t\t<NcButton type=\"tertiary\"\n\t\t\t\t:aria-label=\"t('mediadc', 'Previous duplicate group files page')\"\n\t\t\t\tstyle=\"margin-right: 5px;\"\n\t\t\t\t@click=\"openPrevDetailFiles(detail)\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<span class=\"icon-view-previous\" />\n\t\t\t\t</template>\n\t\t\t</NcButton>\n\t\t\t<span>{{ t('mediadc', 'Page:') }}&nbsp;</span>\n\t\t\t<span>{{ page + 1 }}/{{ Math.ceil(groupFilesTotal / groupItemsPerPage) }}</span>\n\t\t\t<NcButton type=\"tertiary\"\n\t\t\t\t:aria-label=\"t('mediadc', 'Next duplicate group files page')\"\n\t\t\t\tstyle=\"margin-left: 5px;\"\n\t\t\t\t@click=\"openNextDetailFiles(detail)\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<span class=\"icon-view-next\" />\n\t\t\t\t</template>\n\t\t\t</NcButton>\n\t\t\t<input id=\"go_to_page\"\n\t\t\t\tv-model=\"goToPage\"\n\t\t\t\ttype=\"number\"\n\t\t\t\tstyle=\"width: fit-content;\"\n\t\t\t\t:min=\"1\"\n\t\t\t\t:max=\"pagesRange[pagesRange.length - 1] + 1\"\n\t\t\t\tname=\"go_to_page\"\n\t\t\t\t:aria-label=\"t('mediadc', 'Page to navigate to')\"\n\t\t\t\t@keyup.enter=\"navigateToPage\">\n\t\t\t<NcButton v-if=\"detail.files.length > groupItemsPerPage\"\n\t\t\t\tv-tooltip=\"t('mediadc', 'Go to page')\"\n\t\t\t\ttype=\"tertiary\"\n\t\t\t\t:aria-label=\"t('mediadc', 'Navigate to duplicate list page')\"\n\t\t\t\t@click=\"navigateToPage\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<span class=\"icon-confirm\" />\n\t\t\t\t</template>\n\t\t\t</NcButton>\n\t\t</div>\n\t\t<DetailsGroupList v-if=\"opened\"\n\t\t\t:detail=\"detail\"\n\t\t\t:files=\"files\"\n\t\t\t:all-files=\"allFiles\"\n\t\t\t:loading-files.sync=\"loadingFiles\"\n\t\t\t:updating.sync=\"updating\"\n\t\t\t:files-ascending.sync=\"filesAscending\" />\n\t</div>\n</template>\n\n<script>\nimport axios from '@nextcloud/axios'\nimport { generateUrl } from '@nextcloud/router'\nimport { showError, showSuccess, showWarning } from '@nextcloud/dialogs'\nimport { subscribe, unsubscribe, emit } from '@nextcloud/event-bus'\nimport {\n\tNcCheckboxRadioSwitch,\n\tNcActions,\n\tNcActionButton,\n\tNcButton,\n} from '@nextcloud/vue'\n\nimport { mapGetters } from 'vuex'\n\nimport Formats from '../../mixins/Formats.js'\nimport DetailsGroupList from './DetailsGroupList.vue'\n\nexport default {\n\tname: 'DetailsListItem',\n\tcomponents: {\n\t\tNcActions,\n\t\tNcActionButton,\n\t\tNcButton,\n\t\tNcCheckboxRadioSwitch,\n\t\tDetailsGroupList,\n\t},\n\tmixins: [Formats],\n\tprops: {\n\t\tdetail: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tcheckedDetailGroups: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\topened: false,\n\t\t\tpage: 0,\n\t\t\ttotalPages: 0,\n\t\t\tloadingFiles: false,\n\t\t\tfiles: [],\n\t\t\tallFiles: [],\n\t\t\tpaginatedFiles: {},\n\t\t\tchecked: false,\n\t\t\tfilesAscending: false,\n\t\t\tupdating: false,\n\t\t\tgoToPage: 1,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapGetters([\n\t\t\t'task',\n\t\t\t'details',\n\t\t\t'groupItemsPerPage',\n\t\t\t'deleteFileConfirmation',\n\t\t]),\n\t\tgroupFilesSize() {\n\t\t\treturn this.allFiles.length === 0 ? this.detail.files.reduce((sum, file) => sum + Number(file.filesize), 0) : this.allFiles.reduce((sum, file) => sum + Number(file.filesize), 0)\n\t\t},\n\t\tgroupFilesTotal() {\n\t\t\treturn this.allFiles.length === 0 ? this.detail.files.length : this.allFiles.length\n\t\t},\n\t\tpagesRange() {\n\t\t\treturn Array.from({ length: Math.ceil(this.detail.files.length / this.groupItemsPerPage) }, (_, i) => i)\n\t\t},\n\t},\n\twatch: {\n\t\tchecked() {\n\t\t\tconst newCheckedDetailGroups = this.checkedDetailGroups\n\t\t\tconst detailIndex = newCheckedDetailGroups.findIndex(d => d.group_id === this.detail.group_id)\n\t\t\tif (this.checked) {\n\t\t\t\tif (detailIndex === -1) {\n\t\t\t\t\tnewCheckedDetailGroups.push(this.detail)\n\t\t\t\t}\n\t\t\t} else if (detailIndex !== -1) {\n\t\t\t\tnewCheckedDetailGroups.splice(detailIndex, 1)\n\t\t\t}\n\t\t\tthis.$emit('update:checkedDetailGroups', newCheckedDetailGroups)\n\t\t},\n\t\tfilesAscending() {\n\t\t\tthis.sortFiles(this.filesAscending)\n\t\t},\n\t\tcheckedDetailGroups() {\n\t\t\tconst detailIndex = this.checkedDetailGroups.findIndex(d => d.group_id === this.detail.group_id)\n\t\t\tif (!this.checked && detailIndex !== -1) {\n\t\t\t\tthis.checked = true\n\t\t\t}\n\t\t},\n\t\tgroupItemsPerPage(newGroupItemsPerPage) {\n\t\t\tif (this.opened) {\n\t\t\t\tif (this.page >= Math.ceil(this.detail.files.length / newGroupItemsPerPage)) {\n\t\t\t\t\tthis.page = Math.ceil(this.detail.files.length / newGroupItemsPerPage) - 1\n\t\t\t\t}\n\t\t\t\tthis.paginatedFiles = this.paginateFiles(this.allFiles)\n\t\t\t\tthis.files = this.paginatedFiles[this.page]\n\t\t\t\tif (this.goToPage >= Math.ceil(this.detail.files.length / newGroupItemsPerPage)) {\n\t\t\t\t\tthis.goToPage = Math.ceil(this.detail.files.length / newGroupItemsPerPage)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tallFiles(newAllFiles) {\n\t\t\tif (this.page >= Math.ceil(newAllFiles.length / this.groupItemsPerPage)) {\n\t\t\t\tthis.page = Math.ceil(newAllFiles.length / this.groupItemsPerPage) - 1\n\t\t\t\tthis.paginatedFiles = this.paginateFiles(this.allFiles)\n\t\t\t\tthis.files = this.paginatedFiles[this.page]\n\t\t\t}\n\t\t},\n\t},\n\tbeforeMount() {\n\t\tconst detailCheckedIndex = this.checkedDetailGroups.findIndex(d => d.group_id === this.detail.group_id)\n\t\tthis.checked = detailCheckedIndex !== -1\n\t\tsubscribe('updateGroupFilesPagination', this.updateFilesPagination)\n\t\tsubscribe('deselectGroups', this.deselect)\n\t\tsubscribe('openGroup', this.openGroup)\n\t\tsubscribe('toggleGroup', this.toggleGroup)\n\t},\n\tbeforeDestroy() {\n\t\tunsubscribe('updateGroupFilesPagination', this.updateFilesPagination)\n\t\tunsubscribe('deselectGroups', this.deselect)\n\t\tunsubscribe('openGroup', this.openGroup)\n\t\tunsubscribe('toggleGroup', this.toggleGroup)\n\t},\n\tmethods: {\n\t\topenDetailFiles(detail) {\n\t\t\tif (!this.opened) {\n\t\t\t\tif (this.files === undefined || this.files.length === 0) {\n\t\t\t\t\tconst taskId = detail.task_id\n\t\t\t\t\tconst detailId = detail.group_id\n\t\t\t\t\tthis.loadingFiles = true\n\t\t\t\t\tthis.opened = true\n\t\t\t\t\tif (this.allFiles.length === 0) {\n\t\t\t\t\t\tthis.loadAllFilesInfo(taskId, detailId)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.files = this.paginatedFiles[this.page]\n\t\t\t\t\t\tthis.loadingFiles = false\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.opened = true\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.opened = false\n\t\t\t}\n\t\t},\n\t\topenNextDetailFiles(detail) {\n\t\t\tif (this.page < Math.ceil(detail.files.length / this.groupItemsPerPage) - 1) {\n\t\t\t\tthis.page += 1\n\t\t\t\tthis.files = this.paginatedFiles[this.page]\n\t\t\t} else {\n\t\t\t\tshowWarning(this.t('mediadc', 'Last page reached!'))\n\t\t\t}\n\t\t},\n\t\topenPrevDetailFiles(detail) {\n\t\t\tif (this.page > 0) {\n\t\t\t\tthis.page -= 1\n\t\t\t\tthis.files = this.paginatedFiles[this.page]\n\t\t\t} else {\n\t\t\t\tshowWarning(this.t('mediadc', 'First page reached!'))\n\t\t\t}\n\t\t},\n\t\tloadAllFilesInfo(taskId, detailId) {\n\t\t\taxios.get(generateUrl(`/apps/mediadc/api/v1/tasks/${taskId}/files/${detailId}/all`)).then(res => {\n\t\t\t\tthis.allFiles = res.data.files\n\t\t\t\tthis.paginatedFiles = this.paginateFiles(this.allFiles)\n\t\t\t\tthis.files = this.paginatedFiles[this.page]\n\t\t\t\tthis.loadingFiles = false\n\t\t\t})\n\t\t},\n\t\tpaginateFiles(files) {\n\t\t\tconst paginatedFiles = []\n\t\t\tfor (let i = 0; i < files.length; i++) {\n\t\t\t\tconst last = paginatedFiles[paginatedFiles.length - 1]\n\t\t\t\tif (!last || last.length === this.groupItemsPerPage) {\n\t\t\t\t\tpaginatedFiles.push([Object.freeze(files[i])])\n\t\t\t\t} else {\n\t\t\t\t\tlast.push(Object.freeze(files[i]))\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn paginatedFiles\n\t\t},\n\t\tremoveTaskDetail(detail) {\n\t\t\tif (this.deleteFileConfirmation) {\n\t\t\t\tconst self = this\n\t\t\t\tOC.dialogs.confirm(this.t('mediadc', 'Are you sure you want to remove this group without deleting files?'),\n\t\t\t\t\tthis.t('mediadc', 'Confirm group removal'), function(success) {\n\t\t\t\t\t\tif (success) {\n\t\t\t\t\t\t\tself._removeTaskDetail(detail)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis._removeTaskDetail(detail)\n\t\t\t}\n\t\t},\n\t\t_removeTaskDetail(detail) {\n\t\t\tthis.updating = true\n\t\t\taxios.delete(generateUrl(`/apps/mediadc/api/v1/tasks/${detail.task_id}/detail/${detail.group_id}`)).then(res => {\n\t\t\t\tif (res.data.success) {\n\t\t\t\t\temit('openNextDetailGroup', this.detail)\n\t\t\t\t\tconst updatedDetails = [...this.details]\n\t\t\t\t\tconst removedDetailIndex = updatedDetails.findIndex(d => d.group_id === this.detail.group_id)\n\t\t\t\t\tupdatedDetails.splice(removedDetailIndex, 1)\n\t\t\t\t\tconst checkedIndex = this.checkedDetailGroups.findIndex(d => d.group_id === detail.group_id)\n\t\t\t\t\tconst newCheckedDetailGroups = [...this.checkedDetailGroups]\n\t\t\t\t\tif (this.checked && checkedIndex !== -1) {\n\t\t\t\t\t\tnewCheckedDetailGroups.splice(checkedIndex, 1)\n\t\t\t\t\t\tthis.$emit('update:checkedDetailGroups', newCheckedDetailGroups)\n\t\t\t\t\t}\n\t\t\t\t\temit('updateTaskInfo')\n\t\t\t\t\tthis.$store.commit('setDetails', updatedDetails)\n\t\t\t\t\tshowSuccess(this.t('mediadc', 'Duplicate group succesffully removed'))\n\t\t\t\t\tconst detailCheckedIndex = this.checkedDetailGroups.findIndex(d => d.group_id === detail.group_id)\n\t\t\t\t\tif (detailCheckedIndex !== -1) {\n\t\t\t\t\t\tconst newCheckedDetailGroups = this.checkedDetailGroups\n\t\t\t\t\t\tnewCheckedDetailGroups.splice(detailCheckedIndex, 1)\n\t\t\t\t\t\tthis.$emit('update:checkedDetailGroups', newCheckedDetailGroups)\n\t\t\t\t\t}\n\t\t\t\t\tthis.updating = false\n\t\t\t\t} else {\n\t\t\t\t\tshowError(this.t('mediadc', 'An error occurred while deleting duplicate group'))\n\t\t\t\t\tthis.updating = false\n\t\t\t\t}\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.debug(err)\n\t\t\t\tshowError(this.t('mediadc', 'An error occurred while deleting duplicate group'))\n\t\t\t\tthis.updating = false\n\t\t\t})\n\t\t},\n\t\tsortFiles(ascending) {\n\t\t\tthis.allFiles.sort((a, b) => (ascending) ? a.filesize - b.filesize : b.filesize - a.filesize)\n\t\t\tthis.paginatedFiles = this.paginateFiles(this.allFiles)\n\t\t\tthis.files = this.paginatedFiles[this.page]\n\t\t},\n\t\tupdateFilesPagination(file) {\n\t\t\tif (file) {\n\t\t\t\tconst deletedFileIndex = this.allFiles.findIndex(f => f.fileid === file.fileid)\n\t\t\t\tif (deletedFileIndex !== -1) {\n\t\t\t\t\tthis.allFiles.splice(deletedFileIndex, 1)\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.paginatedFiles = this.paginateFiles(this.allFiles)\n\t\t\tthis.files = this.paginatedFiles[this.page]\n\t\t},\n\t\tdeselect(groupsToDeselect) {\n\t\t\tif (this.checked && groupsToDeselect.includes(this.detail.group_id)) {\n\t\t\t\tthis.checked = false\n\t\t\t}\n\t\t},\n\t\topenGroup(detail) {\n\t\t\tif (this.detail.group_id === detail.group_id && !this.opened) {\n\t\t\t\tthis.openDetailFiles(detail)\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tconst target = document.getElementById(`detail-${detail.task_id}-${detail.group_id}`)\n\t\t\t\t\tif (target) {\n\t\t\t\t\t\ttarget.scrollIntoView({ behavior: 'smooth' })\n\t\t\t\t\t}\n\t\t\t\t}, 500) // wait for the details to open and render files\n\t\t\t}\n\t\t},\n\t\ttoggleGroup(detail) {\n\t\t\tif (this.detail.group_id === detail.group_id) {\n\t\t\t\tthis.openDetailFiles(detail)\n\t\t\t}\n\t\t},\n\t\tnavigateToPage() {\n\t\t\tif (this.goToPage > this.pagesRange.length) {\n\t\t\t\tthis.goToPage = this.pagesRange.length\n\t\t\t} else if (this.goToPage <= 0) {\n\t\t\t\tthis.goToPage = 1\n\t\t\t}\n\t\t\tthis.page = this.goToPage - 1\n\t\t\tthis.files = this.paginatedFiles[this.page]\n\t\t},\n\t},\n}\n</script>\n\n<style>\n.open-details-btn .button-vue__text {\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n</style>\n\n<style scoped>\n.details-list-item {\n\twidth: 100%;\n\tpadding: 10px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tflex-direction: column;\n\tposition: relative;\n}\n\n.details-list-item-title {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.pagination {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.group-info {\n\tdisplay: flex;\n\talign-items: center;\n\tuser-select: none;\n}\n\n.delete-group-btn {\n\tvisibility: hidden;\n}\n\n.details-list-item:hover .delete-group-btn {\n\tvisibility: visible;\n}\n\n.batch-checkbox {\n\tvisibility: hidden;\n\tmargin-right: 14px;\n}\n\n.batch-checkbox .checkbox-radio-switch__icon {\n\tmargin-right: 0;\n\tcolor: #000;\n}\n\n.batch-checkbox.checkbox-radio-switch--checked {\n\tvisibility: visible;\n}\n\n.details-list-item:hover .batch-checkbox {\n\tvisibility: visible;\n}\n\n@media (max-width: 540px) {\n\t.delete-group-btn {\n\t\tvisibility: visible;\n\t}\n\n\t.batch-checkbox {\n\t\tvisibility: visible;\n\t\tmargin-right: 10px;\n\t}\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsListItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsListItem.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsListItem.vue?vue&type=style&index=0&id=d2859054&prod&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsListItem.vue?vue&type=style&index=0&id=d2859054&prod&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsListItem.vue?vue&type=style&index=1&id=d2859054&prod&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsListItem.vue?vue&type=style&index=1&id=d2859054&prod&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./DetailsListItem.vue?vue&type=template&id=d2859054&scoped=true\"\nimport script from \"./DetailsListItem.vue?vue&type=script&lang=js\"\nexport * from \"./DetailsListItem.vue?vue&type=script&lang=js\"\nimport style0 from \"./DetailsListItem.vue?vue&type=style&index=0&id=d2859054&prod&lang=css\"\nimport style1 from \"./DetailsListItem.vue?vue&type=style&index=1&id=d2859054&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d2859054\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"details-list-item\",class:{'icon-loading': _vm.updating},attrs:{\"id\":'detail-' + _vm.detail.task_id + '-' + _vm.detail.group_id}},[_c('div',{staticClass:\"details-list-item-title\"},[_c('NcCheckboxRadioSwitch',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.t('mediadc', 'Select group'), placement: 'top'}),expression:\"{content: t('mediadc', 'Select group'), placement: 'top'}\"}],staticClass:\"mediadc-checkbox-only batch-checkbox\",attrs:{\"checked\":_vm.checked},on:{\"update:checked\":function($event){_vm.checked=$event}}}),_vm._v(\" \"),_c('NcButton',{staticClass:\"open-details-btn\",attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('mediadc', 'Open duplicate group')},on:{\"click\":function($event){return _vm.openDetailFiles(_vm.detail)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('span',{staticClass:\"icon-projects\"})]},proxy:true},{key:\"default\",fn:function(){return [_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mediadc', 'Duplicate group'))+\" #\"+_vm._s(_vm.detail.group_id)+\" (\"+_vm._s(_vm.groupFilesTotal)+\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.n('mediadc', 'file', 'files', _vm.groupFilesTotal))+_vm._s(' - ' + _vm.formatBytes(_vm.groupFilesSize))+\")\\n\\t\\t\\t\\t\"),_c('span',{class:!_vm.opened ? 'icon-triangle-s' : 'icon-triangle-n',staticStyle:{\"display\":\"inline-flex\",\"margin\":\"0 0 0 5px\"}})]},proxy:true}])}),_vm._v(\" \"),_c('NcActions',[_c('NcActionButton',{attrs:{\"icon\":\"icon-delete delete-group-btn\"},on:{\"click\":function($event){return _vm.removeTaskDetail(_vm.detail)}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mediadc', 'Remove group without deleting files'))+\"\\n\\t\\t\\t\")])],1)],1),_vm._v(\" \"),(_vm.opened && _vm.groupFilesTotal > _vm.groupItemsPerPage)?_c('div',{staticClass:\"pagination\"},[_c('NcButton',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('mediadc', 'Previous duplicate group files page')},on:{\"click\":function($event){return _vm.openPrevDetailFiles(_vm.detail)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('span',{staticClass:\"icon-view-previous\"})]},proxy:true}],null,false,3222065630)}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.t('mediadc', 'Page:'))+\"\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.page + 1)+\"/\"+_vm._s(Math.ceil(_vm.groupFilesTotal / _vm.groupItemsPerPage)))]),_vm._v(\" \"),_c('NcButton',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('mediadc', 'Next duplicate group files page')},on:{\"click\":function($event){return _vm.openNextDetailFiles(_vm.detail)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('span',{staticClass:\"icon-view-next\"})]},proxy:true}],null,false,3593544488)}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.goToPage),expression:\"goToPage\"}],staticStyle:{\"width\":\"fit-content\"},attrs:{\"id\":\"go_to_page\",\"type\":\"number\",\"min\":1,\"max\":_vm.pagesRange[_vm.pagesRange.length - 1] + 1,\"name\":\"go_to_page\",\"aria-label\":_vm.t('mediadc', 'Page to navigate to')},domProps:{\"value\":(_vm.goToPage)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.navigateToPage.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.goToPage=$event.target.value}}}),_vm._v(\" \"),(_vm.detail.files.length > _vm.groupItemsPerPage)?_c('NcButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('mediadc', 'Go to page')),expression:\"t('mediadc', 'Go to page')\"}],attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('mediadc', 'Navigate to duplicate list page')},on:{\"click\":_vm.navigateToPage},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('span',{staticClass:\"icon-confirm\"})]},proxy:true}],null,false,3432447101)}):_vm._e()],1):_vm._e(),_vm._v(\" \"),(_vm.opened)?_c('DetailsGroupList',{attrs:{\"detail\":_vm.detail,\"files\":_vm.files,\"all-files\":_vm.allFiles,\"loading-files\":_vm.loadingFiles,\"updating\":_vm.updating,\"files-ascending\":_vm.filesAscending},on:{\"update:loadingFiles\":function($event){_vm.loadingFiles=$event},\"update:loading-files\":function($event){_vm.loadingFiles=$event},\"update:updating\":function($event){_vm.updating=$event},\"update:filesAscending\":function($event){_vm.filesAscending=$event},\"update:files-ascending\":function($event){_vm.filesAscending=$event}}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n - @copyright Copyright (c) 2022 Andrey Borysenko <andrey18106x@gmail.com>\n -\n - @copyright Copyright (c) 2022 Alexander Piskun <bigcat88@icloud.com>\n -\n - @author 2022 Andrey Borysenko <andrey18106x@gmail.com>\n -\n - @license AGPL-3.0-or-later\n -\n - This program is free software: you can redistribute it and/or modify\n - it under the terms of the GNU Affero General Public License as\n - published by the Free Software Foundation, either version 3 of the\n - License, or (at your option) any later version.\n -\n - This program is distributed in the hope that it will be useful,\n - but WITHOUT ANY WARRANTY; without even the implied warranty of\n - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n - GNU Affero General Public License for more details.\n -\n - You should have received a copy of the GNU Affero General Public License\n - along with this program. If not, see <http://www.gnu.org/licenses/>.\n -\n -->\n\n<template>\n\t<div class=\"pagination\">\n\t\t<NcButton v-if=\"details.length > itemsPerPage\"\n\t\t\ttype=\"tertiary\"\n\t\t\t:aria-label=\"t('mediadc', 'Previous duplicate list page')\"\n\t\t\t@click=\"prevGroupsPage\">\n\t\t\t<template #icon>\n\t\t\t\t<span class=\"icon-view-previous pagination-button\" />\n\t\t\t</template>\n\t\t</NcButton>\n\t\t<span v-if=\"details.length > itemsPerPage\" style=\"margin-left: 5px;\">{{ t('mediadc', 'Page:') }}&nbsp;</span>\n\t\t<span v-if=\"details.length > itemsPerPage\" style=\"margin-right: 5px;\">{{ page + 1 }}/{{ Math.ceil(details.length / itemsPerPage) }}</span>\n\t\t<NcButton v-if=\"details.length > itemsPerPage\"\n\t\t\ttype=\"tertiary\"\n\t\t\t:aria-label=\"t('mediadc', 'Next duplicate list page')\"\n\t\t\t@click=\"nextGroupsPage\">\n\t\t\t<template #icon>\n\t\t\t\t<span class=\"icon-view-next pagination-button\" />\n\t\t\t</template>\n\t\t</NcButton>\n\t\t<template v-if=\"details.length > itemsPerPage\">\n\t\t\t<input id=\"go_to_page\"\n\t\t\t\tv-model=\"goToPage\"\n\t\t\t\ttype=\"number\"\n\t\t\t\t:min=\"1\"\n\t\t\t\t:max=\"pagesRange[pagesRange.length - 1] + 1\"\n\t\t\t\tname=\"go_to_page\"\n\t\t\t\t:aria-label=\"t('mediadc', 'Page to navigate to')\"\n\t\t\t\t@keyup.enter=\"navigateToPage\">\n\t\t\t<NcButton v-tooltip=\"t('mediadc', 'Go to page')\"\n\t\t\t\ttype=\"tertiary\"\n\t\t\t\t:aria-label=\"t('mediadc', 'Navigate to duplicate list page')\"\n\t\t\t\t@click=\"navigateToPage\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<span class=\"icon-confirm\" />\n\t\t\t\t</template>\n\t\t\t</NcButton>\n\t\t</template>\n\t</div>\n</template>\n\n<script>\nimport { NcButton } from '@nextcloud/vue'\nimport { mapGetters } from 'vuex'\n\nexport default {\n\tname: 'Pagination',\n\tcomponents: {\n\t\tNcButton,\n\t},\n\tprops: {\n\t\tdetails: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tprevGroupsPage: {\n\t\t\ttype: Function,\n\t\t\trequired: true,\n\t\t},\n\t\tnextGroupsPage: {\n\t\t\ttype: Function,\n\t\t\trequired: true,\n\t\t},\n\t\tpage: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tgoToPage: 1,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapGetters([\n\t\t\t'itemsPerPage',\n\t\t]),\n\t\tpagesRange() {\n\t\t\treturn Array.from({ length: Math.ceil(this.details.length / this.itemsPerPage) }, (_, i) => i)\n\t\t},\n\t},\n\tmethods: {\n\t\tnavigateToPage() {\n\t\t\tif (this.goToPage > this.pagesRange.length) {\n\t\t\t\tthis.goToPage = this.pagesRange.length\n\t\t\t} else if (this.goToPage <= 0) {\n\t\t\t\tthis.goToPage = 1\n\t\t\t}\n\t\t\tthis.$emit('update:page', this.goToPage - 1)\n\t\t},\n\t},\n}\n</script>\n\n<style scoped>\ninput#go_to_page {\n\twidth: fit-content;\n\tborder-color: var(--color-border-dark);\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=style&index=0&id=07add7c2&prod&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=style&index=0&id=07add7c2&prod&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./Pagination.vue?vue&type=template&id=07add7c2&scoped=true\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\nimport style0 from \"./Pagination.vue?vue&type=style&index=0&id=07add7c2&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"07add7c2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"pagination\"},[(_vm.details.length > _vm.itemsPerPage)?_c('NcButton',{attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('mediadc', 'Previous duplicate list page')},on:{\"click\":_vm.prevGroupsPage},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('span',{staticClass:\"icon-view-previous pagination-button\"})]},proxy:true}],null,false,2362740169)}):_vm._e(),_vm._v(\" \"),(_vm.details.length > _vm.itemsPerPage)?_c('span',{staticStyle:{\"margin-left\":\"5px\"}},[_vm._v(_vm._s(_vm.t('mediadc', 'Page:'))+\"\")]):_vm._e(),_vm._v(\" \"),(_vm.details.length > _vm.itemsPerPage)?_c('span',{staticStyle:{\"margin-right\":\"5px\"}},[_vm._v(_vm._s(_vm.page + 1)+\"/\"+_vm._s(Math.ceil(_vm.details.length / _vm.itemsPerPage)))]):_vm._e(),_vm._v(\" \"),(_vm.details.length > _vm.itemsPerPage)?_c('NcButton',{attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('mediadc', 'Next duplicate list page')},on:{\"click\":_vm.nextGroupsPage},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('span',{staticClass:\"icon-view-next pagination-button\"})]},proxy:true}],null,false,2982378111)}):_vm._e(),_vm._v(\" \"),(_vm.details.length > _vm.itemsPerPage)?[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.goToPage),expression:\"goToPage\"}],attrs:{\"id\":\"go_to_page\",\"type\":\"number\",\"min\":1,\"max\":_vm.pagesRange[_vm.pagesRange.length - 1] + 1,\"name\":\"go_to_page\",\"aria-label\":_vm.t('mediadc', 'Page to navigate to')},domProps:{\"value\":(_vm.goToPage)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.navigateToPage.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.goToPage=$event.target.value}}}),_vm._v(\" \"),_c('NcButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('mediadc', 'Go to page')),expression:\"t('mediadc', 'Go to page')\"}],attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('mediadc', 'Navigate to duplicate list page')},on:{\"click\":_vm.navigateToPage},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('span',{staticClass:\"icon-confirm\"})]},proxy:true}],null,false,3432447101)})]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsList.vue?vue&type=script&lang=js\"","<!--\n - @copyright Copyright (c) 2021-2022 Andrey Borysenko <andrey18106x@gmail.com>\n -\n - @copyright Copyright (c) 2021-2022 Alexander Piskun <bigcat88@icloud.com>\n -\n - @author 2021-2022 Andrey Borysenko <andrey18106x@gmail.com>\n -\n - @license AGPL-3.0-or-later\n -\n - This program is free software: you can redistribute it and/or modify\n - it under the terms of the GNU Affero General Public License as\n - published by the Free Software Foundation, either version 3 of the\n - License, or (at your option) any later version.\n -\n - This program is distributed in the hope that it will be useful,\n - but WITHOUT ANY WARRANTY; without even the implied warranty of\n - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n - GNU Affero General Public License for more details.\n -\n - You should have received a copy of the GNU Affero General Public License\n - along with this program. If not, see <http://www.gnu.org/licenses/>.\n -\n -->\n\n<template>\n\t<div class=\"task-details\">\n\t\t<div class=\"task-details-heading\">\n\t\t\t<h3>\n\t\t\t\t{{ t('mediadc', 'Duplicates list') }}\n\t\t\t\t<span v-if=\"getStatusBadge(task) === 'finished'\">\n\t\t\t\t\t- {{ details.length }} {{ n('mediadc', 'group ', 'groups', details.length) }}\n\t\t\t\t</span>\n\t\t\t\t<span v-if=\"detailsInfo.filestotal !== -1 && detailsInfo.filessize !== -1\">\n\t\t\t\t\t({{ detailsInfo.filestotal }} {{ n('mediadc', 'file', 'files', detailsInfo.filestotal) }} - {{ formatBytes(detailsInfo.filessize) }})\n\t\t\t\t</span>\n\t\t\t</h3>\n\t\t\t<div class=\"pagination-wrapper\">\n\t\t\t\t<div class=\"pagination-sorting\">\n\t\t\t\t\t<NcCheckboxRadioSwitch :checked.sync=\"sortGroups\" style=\"margin-right: 20px;\">\n\t\t\t\t\t\t{{ t('mediadc', 'Sort groups') }}\n\t\t\t\t\t</NcCheckboxRadioSwitch>\n\t\t\t\t\t<NcButton v-tooltip=\"t('mediadc', 'Sorting details by files count')\"\n\t\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\t\t:aria-label=\"t('mediadc', 'Sorting details by files count')\"\n\t\t\t\t\t\t@click=\"toggleSorting\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<span :class=\"!sorted ? 'icon-triangle-s toggle-sorting-button' : 'icon-triangle-n toggle-sorting-button'\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</NcButton>\n\t\t\t\t</div>\n\t\t\t\t<Pagination :details=\"(!filtered) ? details : detailsFiltered\"\n\t\t\t\t\t:prev-groups-page=\"prevGroupsPage\"\n\t\t\t\t\t:next-groups-page=\"nextGroupsPage\"\n\t\t\t\t\t:page.sync=\"page\" />\n\t\t\t</div>\n\t\t</div>\n\t\t<div v-if=\"details.length > 0\">\n\t\t\t<div class=\"filters\">\n\t\t\t\t<label for=\"group-id-filter\">\n\t\t\t\t\t{{ t('mediadc', 'Filter by duplicate group id: ') }}\n\t\t\t\t\t<input id=\"group-id-filter\"\n\t\t\t\t\t\tv-model=\"filterId\"\n\t\t\t\t\t\tv-tooltip=\"t('mediadc', 'Filter by id or range of ids (1-10)')\"\n\t\t\t\t\t\ttype=\"search\"\n\t\t\t\t\t\tname=\"group-id-filter\"\n\t\t\t\t\t\tplaceholder=\"#id\"\n\t\t\t\t\t\tstyle=\"max-width: 33%;\"\n\t\t\t\t\t\t@input=\"filterByGroupId\">\n\t\t\t\t</label>\n\t\t\t\t<div class=\"batch-actions\" style=\"display: flex;\">\n\t\t\t\t\t<NcButton v-tooltip=\"t('mediadc', 'Toggle duplicate groups')\"\n\t\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\t\t:aria-label=\"t('mediadc', 'Toggle duplicate groups')\"\n\t\t\t\t\t\tstyle=\"margin-right: 10px;\"\n\t\t\t\t\t\t@click=\"toggleGroups\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<span class=\"icon-category-organization\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template #default>\n\t\t\t\t\t\t\t{{ t('mediadc', 'Toggle groups') }}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</NcButton>\n\t\t\t\t\t<div v-if=\"checkedDetailGroups.length > 0\" class=\"batch-editing\">\n\t\t\t\t\t\t{{ n('mediadc', 'Batch actions for %n group', 'Batch actions for %n groups', checkedDetailGroups.length) }}\n\t\t\t\t\t\t<NcActions placement=\"top\" style=\"margin-left: 5px;\">\n\t\t\t\t\t\t\t<template v-if=\"!filtered\">\n\t\t\t\t\t\t\t\t<NcActionButton @click=\"selectAllGroups\">\n\t\t\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t\t\t<CheckAll :size=\"20\" />\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t{{ checkedDetailGroups.length === details.length ? t('mediadc', 'Deselect all') : t('mediadc', 'Select all') }}\n\t\t\t\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t\t\t\t<NcActionButton v-if=\"details.length > itemsPerPage\" @click=\"selectAllGroupsOnPage\">\n\t\t\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t\t\t<CheckUnderline :size=\"20\" />\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t{{ checkedDetailGroupsIntersect.length === paginatedDetails[page].length || checkedDetailGroupsIntersect.length === paginatedSortedDetails[page].length ? t('mediadc', 'Deselect all on page') : t('mediadc', 'Select all on page') }}\n\t\t\t\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t\t<NcActionButton @click=\"selectAllGroups\">\n\t\t\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t\t\t<CheckAll :size=\"20\" />\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t{{ checkedDetailGroups.length === detailsFiltered.length ? t('mediadc', 'Deselect all') : t('mediadc', 'Select all') }}\n\t\t\t\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t\t\t\t<NcActionButton v-if=\"detailsFiltered.length > itemsPerPage\" @click=\"selectAllGroupsOnPage\">\n\t\t\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t\t\t<CheckUnderline :size=\"20\" />\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t{{ checkedDetailGroupsIntersect.length === paginatedDetailsFiltered[page].length ? t('mediadc', 'Deselect all on page') : t('mediadc', 'Select all on page') }}\n\t\t\t\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<NcActionButton v-if=\"checkedDetailGroups.length > 0\" @click=\"_deselectAllGroups((!filtered) ? details : detailsFiltered)\">\n\t\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t\t<MinusBoxOutline :size=\"20\" />\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t{{ t('mediadc', 'Uncheck selected') }}\n\t\t\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t\t\t<NcActionButton v-tooltip=\"{content: t('mediadc', 'Mark all files in group as resolved'), placement: 'left'}\"\n\t\t\t\t\t\t\t\ticon=\"icon-close\"\n\t\t\t\t\t\t\t\t@click=\"removeCheckedGroups\">\n\t\t\t\t\t\t\t\t{{ n('mediadc', 'Remove group', 'Remove groups', checkedDetailGroups.length) }}\n\t\t\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t\t\t<NcActionButton v-tooltip=\"{content: t('mediadc', 'Delete all files except the largest one'), placement: 'left'}\"\n\t\t\t\t\t\t\t\ticon=\"icon-delete\"\n\t\t\t\t\t\t\t\t:disabled=\"batchDeleting\"\n\t\t\t\t\t\t\t\t@click=\"deleteCheckedGroupsFiles\">\n\t\t\t\t\t\t\t\t<template v-if=\"!batchDeleting\" #icon>\n\t\t\t\t\t\t\t\t\t<span class=\"icon-delete material-design-icon\" />\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<template v-else #icon>\n\t\t\t\t\t\t\t\t\t<NcLoadingIcon :size=\"20\" />\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t{{ t('mediadc', 'Delete files') }}\n\t\t\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t\t</NcActions>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div v-if=\"!filtered\">\n\t\t\t\t<template v-if=\"sortGroups\">\n\t\t\t\t\t<div v-for=\"detail in paginatedSortedDetails[page]\"\n\t\t\t\t\t\tv-show=\"detail.files.length > 1\"\n\t\t\t\t\t\t:key=\"detail.group_id\"\n\t\t\t\t\t\tclass=\"task-details-row\">\n\t\t\t\t\t\t<DetailsListItem :detail=\"detail\" :checked-detail-groups.sync=\"checkedDetailGroups\" />\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<template v-else>\n\t\t\t\t\t<div v-for=\"detail in paginatedDetails[page]\"\n\t\t\t\t\t\tv-show=\"detail.files.length > 1\"\n\t\t\t\t\t\t:key=\"detail.group_id\"\n\t\t\t\t\t\tclass=\"task-details-row\">\n\t\t\t\t\t\t<DetailsListItem :detail=\"detail\" :checked-detail-groups.sync=\"checkedDetailGroups\" />\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t\t<div v-else-if=\"detailsFiltered.length > 0 && filtered\">\n\t\t\t\t<template v-if=\"!sortGroups\">\n\t\t\t\t\t<div v-for=\"detail in paginatedDetailsFiltered[page]\"\n\t\t\t\t\t\tv-show=\"detail.files.length > 1\"\n\t\t\t\t\t\t:key=\"detail.group_id\"\n\t\t\t\t\t\tclass=\"task-details-row\">\n\t\t\t\t\t\t<DetailsListItem :detail=\"detail\" :checked-detail-groups.sync=\"checkedDetailGroups\" />\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<template v-else>\n\t\t\t\t\t<div v-for=\"detail in paginatedDetailsFilteredSorted[page]\"\n\t\t\t\t\t\tv-show=\"detail.files.length > 1\"\n\t\t\t\t\t\t:key=\"detail.group_id\"\n\t\t\t\t\t\tclass=\"task-details-row\">\n\t\t\t\t\t\t<DetailsListItem :detail=\"detail\" :checked-detail-groups.sync=\"checkedDetailGroups\" />\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</div>\n\t\t\t<div v-else>\n\t\t\t\t<p style=\"text-align: center; font-weight: bold;\">\n\t\t\t\t\t{{ t('mediadc', 'No matchings found') }}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t\t<div v-else style=\"margin-top: 10px;\">\n\t\t\t<strong>{{ t('mediadc', 'No duplicates found.') }}</strong>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport axios from '@nextcloud/axios'\nimport { generateUrl } from '@nextcloud/router'\nimport { showError, showSuccess, showWarning } from '@nextcloud/dialogs'\nimport { subscribe, unsubscribe, emit } from '@nextcloud/event-bus'\nimport {\n\tNcCheckboxRadioSwitch,\n\tNcButton,\n\tNcActions,\n\tNcActionButton,\n\tNcLoadingIcon,\n} from '@nextcloud/vue'\nimport MinusBoxOutline from 'vue-material-design-icons/MinusBoxOutline.vue'\nimport CheckAll from 'vue-material-design-icons/CheckAll.vue'\nimport CheckUnderline from 'vue-material-design-icons/CheckUnderline.vue'\n\nimport { mapGetters } from 'vuex'\n\nimport Formats from '../../mixins/Formats.js'\n\nimport DetailsListItem from './DetailsListItem.vue'\nimport Pagination from './Pagination.vue'\n\nexport default {\n\tname: 'DetailsList',\n\tcomponents: {\n\t\tDetailsListItem,\n\t\tNcCheckboxRadioSwitch,\n\t\tNcButton,\n\t\tNcActions,\n\t\tNcActionButton,\n\t\tPagination,\n\t\tMinusBoxOutline,\n\t\tCheckAll,\n\t\tCheckUnderline,\n\t\tNcLoadingIcon,\n\t},\n\tmixins: [Formats],\n\tdata() {\n\t\treturn {\n\t\t\tpage: 0,\n\t\t\tfilterId: null,\n\t\t\tcheckedDetailGroups: [],\n\t\t\tbatchActionsOpened: false,\n\t\t\tsortGroups: true,\n\t\t\tbatchDeleting: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapGetters([\n\t\t\t'task',\n\t\t\t'taskInfo',\n\t\t\t'details',\n\t\t\t'detailsInfo',\n\t\t\t'sortedDetails',\n\t\t\t'sorted',\n\t\t\t'paginatedDetails',\n\t\t\t'paginatedSortedDetails',\n\t\t\t'paginatedDetailsFiltered',\n\t\t\t'paginatedDetailsFilteredSorted',\n\t\t\t'itemsPerPage',\n\t\t\t'detailsFiltered',\n\t\t\t'detailsFilteredSorted',\n\t\t\t'autoOpenNextGroup',\n\t\t]),\n\t\tfiltered() {\n\t\t\treturn this.filterId !== '' && this.filterId !== null\n\t\t},\n\t\tcheckedDetailGroupsIntersect() {\n\t\t\tlet a = []\n\t\t\tif (!this.sortGroups) {\n\t\t\t\tif (this.filtered) {\n\t\t\t\t\ta = new Set(this.paginatedDetailsFiltered[this.page].map(d => d.group_id))\n\t\t\t\t} else {\n\t\t\t\t\ta = new Set(this.paginatedDetails[this.page].map(d => d.group_id))\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this.filtered) {\n\t\t\t\t\ta = new Set(this.paginatedDetailsFilteredSorted[this.page].map(d => d.group_id))\n\t\t\t\t} else {\n\t\t\t\t\ta = new Set(this.paginatedSortedDetails[this.page].map(d => d.group_id))\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst b = new Set(this.checkedDetailGroups.map(d => d.group_id))\n\t\t\tconst intersect = new Set([...a].filter(i => b.has(i)))\n\t\t\treturn Array.from(intersect)\n\t\t},\n\t\tpagesRange() {\n\t\t\tif (this.filterId === null) {\n\t\t\t\treturn Array.from({ length: Math.ceil(this.details.length / this.itemsPerPage) }, (_, i) => i)\n\t\t\t} else {\n\t\t\t\treturn Array.from({ length: Math.ceil(this.detailsFiltered.length / this.itemsPerPage) }, (_, i) => i)\n\t\t\t}\n\t\t},\n\t},\n\twatch: {\n\t\titemsPerPage(newItemsPerPage) {\n\t\t\tif (this.page >= Math.ceil(this.details.length / newItemsPerPage)) {\n\t\t\t\tthis.page = Math.ceil(this.details.length / newItemsPerPage) - 1\n\t\t\t}\n\t\t},\n\t\tdetails(newDetails) {\n\t\t\tif (this.page >= Math.ceil(newDetails.length / this.itemsPerPage)) {\n\t\t\t\tthis.page = Math.ceil(newDetails.length / this.itemsPerPage) - 1\n\t\t\t}\n\t\t},\n\t\tsortGroups() {\n\t\t\twindow.localStorage.setItem('mediadc_details_sort_groups', this.sortGroups)\n\t\t\tthis.$store.commit('setSortGroups', this.sortGroups)\n\t\t},\n\t},\n\tbeforeMount() {\n\t\tthis.$emit('update:loading', false)\n\t\tconst sortGroups = window.localStorage.getItem('mediadc_details_sort_groups')\n\t\tthis.sortGroups = sortGroups !== null ? JSON.parse(sortGroups) === true : true\n\t\tthis.$store.commit('setSortGroups', sortGroups !== null ? JSON.parse(sortGroups) === true : true)\n\t\tsubscribe('openNextDetailGroup', this.openNextDetailGroup)\n\t},\n\tbeforeDestroy() {\n\t\tunsubscribe('openNextDetailGroup', this.openNextDetailGroup)\n\t},\n\tmethods: {\n\t\tprevGroupsPage() {\n\t\t\tif (this.page > 0) {\n\t\t\t\tthis.page -= 1\n\t\t\t} else {\n\t\t\t\tshowWarning(this.t('mediadc', 'First page reached!'))\n\t\t\t}\n\t\t},\n\t\tnextGroupsPage() {\n\t\t\tif (!this.filtered && this.page < Math.ceil(this.details.length / this.itemsPerPage) - 1) {\n\t\t\t\tthis.page += 1\n\t\t\t} else if (this.page < Math.ceil(this.detailsFiltered.length / this.itemsPerPage) - 1) {\n\t\t\t\tthis.page += 1\n\t\t\t} else {\n\t\t\t\tshowWarning(this.t('mediadc', 'Last page reached!'))\n\t\t\t}\n\t\t},\n\t\ttoggleSorting() {\n\t\t\tthis.$store.commit('setSorted', !this.sorted)\n\t\t},\n\t\tfilterByGroupId() {\n\t\t\tif (this.filterId !== null && this.filterId !== '') {\n\t\t\t\tconst singleIdRegex = /^[1-9]$/s\n\t\t\t\tconst rangeIdsRegex = /^\\d+-\\d+$/s // TODO: /(^\\d+-\\d+)(, ?\\d+-\\d+)*$/s\n\t\t\t\tthis.page = 0\n\n\t\t\t\tif (singleIdRegex.test(this.filterId)) {\n\t\t\t\t\tthis.$store.commit('setDetailsFiltered', this.details.filter(d => d.group_id.toString().includes(this.filterId)))\n\t\t\t\t} else if (rangeIdsRegex.test(this.filterId)) {\n\t\t\t\t\tconst beginRange = this.filterId.split('-')[0]\n\t\t\t\t\tconst endRange = this.filterId.split('-')[1]\n\t\t\t\t\tthis.$store.commit('setDetailsFiltered', this.details.filter(d => Number(d.group_id) >= beginRange && Number(d.group_id) <= endRange))\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.$store.commit('setDetailsFiltered', [])\n\t\t\t}\n\t\t},\n\t\topenBatchActionsPopup() {\n\t\t\tdocument.addEventListener('click', this.toggleBatchActionsPopup)\n\t\t},\n\t\ttoggleBatchActionsPopup() {\n\t\t\tif (this.batchActionsOpened) {\n\t\t\t\tdocument.removeEventListener('click', this.toggleBatchActionsPopup)\n\t\t\t}\n\t\t\tthis.batchActionsOpened = !this.batchActionsOpened\n\t\t},\n\t\tremoveCheckedGroups() {\n\t\t\taxios.post(generateUrl(`/apps/mediadc/api/v1/tasks/${this.task.id}/details/remove`), { groupIds: this.checkedDetailGroups.map(d => d.group_id) }).then(res => {\n\t\t\t\tif (res.data.success) {\n\t\t\t\t\temit('openNextDetailGroup', this.checkedDetailGroups[this.checkedDetailGroups.length - 1])\n\t\t\t\t\tconst updatedDetails = [...this.details]\n\t\t\t\t\tfor (const removedGroupId of res.data.removedGroupIds) {\n\t\t\t\t\t\tconst checkedIndex = this.checkedDetailGroups.findIndex(d => Number(d.group_id) === removedGroupId)\n\t\t\t\t\t\tif (checkedIndex !== -1) {\n\t\t\t\t\t\t\tthis.checkedDetailGroups.splice(checkedIndex, 1)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst removedDetailIndex = updatedDetails.findIndex(d => Number(d.group_id) === removedGroupId)\n\t\t\t\t\t\tupdatedDetails.splice(removedDetailIndex, 1)\n\t\t\t\t\t}\n\t\t\t\t\temit('updateTaskInfo')\n\t\t\t\t\tthis.$store.commit('setDetails', updatedDetails)\n\t\t\t\t\tshowSuccess(this.t('mediadc', 'Selected groups successfully removed'))\n\t\t\t\t}\n\t\t\t}).catch(err => {\n\t\t\t\tshowError(this.t('mediadc', 'A server error occurred'))\n\t\t\t\tconsole.debug(err)\n\t\t\t})\n\t\t},\n\t\t_deselectAllGroups(_details) {\n\t\t\temit('deselectGroups', this.checkedDetailGroups.map(d => d.group_id))\n\t\t\tfor (const detail of this.details) {\n\t\t\t\tconst detailIndex = this.checkedDetailGroups.findIndex(d => d.group_id === detail.group_id)\n\t\t\t\tif (detailIndex !== -1) {\n\t\t\t\t\tthis.checkedDetailGroups.splice(detailIndex, 1)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tdeleteCheckedGroupsFiles() {\n\t\t\tthis.batchDeleting = true\n\t\t\taxios.post(generateUrl(`/apps/mediadc/api/v1/tasks/${this.task.id}/details/delete`), { groupIds: this.checkedDetailGroups.map(d => d.group_id) }).then(res => {\n\t\t\t\tif (res.data.success) {\n\t\t\t\t\temit('openNextDetailGroup', this.checkedDetailGroups[this.checkedDetailGroups.length - 1])\n\t\t\t\t\tconst updatedDetails = [...this.details]\n\t\t\t\t\tfor (const removedGroupId of res.data.removedGroupIds) {\n\t\t\t\t\t\tconst checkedIndex = this.checkedDetailGroups.findIndex(d => Number(d.group_id) === removedGroupId)\n\t\t\t\t\t\tif (checkedIndex !== -1) {\n\t\t\t\t\t\t\tthis.checkedDetailGroups.splice(checkedIndex, 1)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst removedDetailIndex = updatedDetails.findIndex(d => Number(d.group_id) === removedGroupId)\n\t\t\t\t\t\tupdatedDetails.splice(removedDetailIndex, 1)\n\t\t\t\t\t}\n\t\t\t\t\temit('updateTaskInfo')\n\t\t\t\t\tthis.$store.commit('setDetails', updatedDetails)\n\t\t\t\t\tthis.$store.commit('setTask', res.data.task)\n\t\t\t\t\tshowSuccess(this.t('mediadc', 'Selected group files successfully deleted'))\n\t\t\t\t} else if (res.data.removedGroupIds.length !== 0) {\n\t\t\t\t\tshowWarning(this.t('mediadc', 'Not all selected group files deleted'))\n\t\t\t\t} else {\n\t\t\t\t\tshowError(this.t('mediadc', 'Failed to delete selected group files'))\n\t\t\t\t}\n\t\t\t\tthis.batchDeleting = false\n\t\t\t}).catch(err => {\n\t\t\t\tshowError(this.t('mediadc', 'A server error occurred'))\n\t\t\t\tconsole.debug(err)\n\t\t\t\tthis.batchDeleting = false\n\t\t\t})\n\t\t},\n\t\tselectAllGroups() {\n\t\t\tconst _details = (!this.filtered) ? this.details : this.detailsFiltered\n\t\t\tif (this.checkedDetailGroups.length === _details.length) {\n\t\t\t\tthis._deselectAllGroups(_details)\n\t\t\t} else {\n\t\t\t\tfor (const detail of _details) {\n\t\t\t\t\tconst detailIndex = this.checkedDetailGroups.findIndex(d => d.group_id === detail.group_id)\n\t\t\t\t\tif (detailIndex === -1) {\n\t\t\t\t\t\tthis.checkedDetailGroups.push(detail)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tselectAllGroupsOnPage() {\n\t\t\tconst _details = (!this.filtered)\n\t\t\t\t? ((!this.sortGroups) ? this.paginatedDetails : this.paginatedSortedDetails)\n\t\t\t\t: ((!this.sortGroups) ? this.paginatedDetailsFiltered : this.paginatedDetailsFilteredSorted)\n\t\t\tif (_details[this.page].length === this.checkedDetailGroupsIntersect.length) {\n\t\t\t\tconst groupsToDeselect = this.checkedDetailGroupsIntersect\n\t\t\t\temit('deselectGroups', groupsToDeselect)\n\t\t\t\tfor (const detail of groupsToDeselect) {\n\t\t\t\t\tconst detailIndex = this.checkedDetailGroups.findIndex(d => d.group_id === detail.group_id)\n\t\t\t\t\tif (detailIndex !== -1) {\n\t\t\t\t\t\tthis.checkedDetailGroups.splice(detailIndex, 1)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (const detail of _details[this.page]) {\n\t\t\t\t\tconst detailIndex = this.checkedDetailGroups.findIndex(d => d.group_id === detail.group_id)\n\t\t\t\t\tif (detailIndex === -1) {\n\t\t\t\t\t\tthis.checkedDetailGroups.push(detail)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\topenNextDetailGroup(detail) {\n\t\t\tif (this.autoOpenNextGroup) {\n\t\t\t\tconst detailIndex = this.details.findIndex(d => d.group_id === detail.group_id)\n\t\t\t\tif (detailIndex !== -1) {\n\t\t\t\t\tif (detailIndex !== this.details.length - 1) {\n\t\t\t\t\t\temit('openGroup', this.details[detailIndex + 1])\n\t\t\t\t\t} else if (detailIndex === this.details.length - 1 && this.details.length >= 2) {\n\t\t\t\t\t\temit('openGroup', this.details[detailIndex - 1])\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\ttoggleGroups() {\n\t\t\tconst _details = (!this.filtered)\n\t\t\t\t? ((!this.sortGroups) ? this.paginatedDetails[this.page] : this.paginatedSortedDetails[this.page])\n\t\t\t\t: ((!this.sortGroups) ? this.paginatedDetailsFiltered[this.page] : this.paginatedDetailsFilteredSorted[this.page])\n\t\t\tfor (const detail of _details) {\n\t\t\t\temit('toggleGroup', detail)\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style scoped>\n.task-details {\n\twidth: 100%;\n\tpadding: 20px 10px 20px 20px;\n\tborder: 1px solid var(--color-border-dark);\n\tborder-radius: var(--border-radius-large);\n\toverflow-y: scroll;\n\tmargin: 0 auto 20px;\n}\n\n.task-details-heading {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n}\n\n.task-details-heading h3 {\n\tmargin: 0;\n}\n\n@media (max-width: 540px) {\n\t.task-details {\n\t\tpadding: 15px 0px 10px 10px;\n\t}\n\n\t.task-details-heading {\n\t\tflex-direction: column;\n\t\ttext-align: center;\n\t}\n\n\t.pagination-wrapper {\n\t\tflex-direction: column;\n\t}\n}\n\n.pagination-wrapper, .pagination-sorting, .pagination {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.pagination-button {\n\tpadding: 20px;\n\tmargin: 0 5px;\n\twidth: 16px;\n\theight: 16px;\n\tcursor: pointer;\n\tborder-radius: 50%;\n\tuser-select: none;\n}\n\n.task-details-row {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tborder: 1px solid var(--color-border-dark);\n\tborder-radius: var(--border-radius-large);\n\tmargin-bottom: 5px;\n\ttransition: height .3s;\n}\n\n.filters {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: 5px 10px;\n\tmargin: 10px 0;\n\tborder: 1px solid var(--color-border-dark);\n\tborder-radius: var(--border-radius-large);\n}\n\ninput#group-id-filter {\n\twidth: fit-content;\n\tborder-color: var(--color-border-dark);\n}\n\nbody[data-theme-dark] .task-details-row, body[data-theme-dark] .filters {\n\tborder-color: var(--color-border-dark);\n}\n\n@media (max-width: 540px) {\n\t.filters {\n\t\tflex-direction: column;\n\t}\n}\n\n.batch-editing {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n</style>\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsList.vue?vue&type=style&index=0&id=14ad58d6&prod&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsList.vue?vue&type=style&index=0&id=14ad58d6&prod&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./DetailsList.vue?vue&type=template&id=14ad58d6&scoped=true\"\nimport script from \"./DetailsList.vue?vue&type=script&lang=js\"\nexport * from \"./DetailsList.vue?vue&type=script&lang=js\"\nimport style0 from \"./DetailsList.vue?vue&type=style&index=0&id=14ad58d6&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"14ad58d6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"task-details\"},[_c('div',{staticClass:\"task-details-heading\"},[_c('h3',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('mediadc', 'Duplicates list'))+\"\\n\\t\\t\\t\"),(_vm.getStatusBadge(_vm.task) === 'finished')?_c('span',[_vm._v(\"\\n\\t\\t\\t\\t- \"+_vm._s(_vm.details.length)+\" \"+_vm._s(_vm.n('mediadc', 'group ', 'groups', _vm.details.length))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),(_vm.detailsInfo.filestotal !== -1 && _vm.detailsInfo.filessize !== -1)?_c('span',[_vm._v(\"\\n\\t\\t\\t\\t(\"+_vm._s(_vm.detailsInfo.filestotal)+\" \"+_vm._s(_vm.n('mediadc', 'file', 'files', _vm.detailsInfo.filestotal))+\" - \"+_vm._s(_vm.formatBytes(_vm.detailsInfo.filessize))+\")\\n\\t\\t\\t\")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"pagination-wrapper\"},[_c('div',{staticClass:\"pagination-sorting\"},[_c('NcCheckboxRadioSwitch',{staticStyle:{\"margin-right\":\"20px\"},attrs:{\"checked\":_vm.sortGroups},on:{\"update:checked\":function($event){_vm.sortGroups=$event}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mediadc', 'Sort groups'))+\"\\n\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('NcButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('mediadc', 'Sorting details by files count')),expression:\"t('mediadc', 'Sorting details by files count')\"}],attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('mediadc', 'Sorting details by files count')},on:{\"click\":_vm.toggleSorting},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('span',{class:!_vm.sorted ? 'icon-triangle-s toggle-sorting-button' : 'icon-triangle-n toggle-sorting-button'})]},proxy:true}])})],1),_vm._v(\" \"),_c('Pagination',{attrs:{\"details\":(!_vm.filtered) ? _vm.details : _vm.detailsFiltered,\"prev-groups-page\":_vm.prevGroupsPage,\"next-groups-page\":_vm.nextGroupsPage,\"page\":_vm.page},on:{\"update:page\":function($event){_vm.page=$event}}})],1)]),_vm._v(\" \"),(_vm.details.length > 0)?_c('div',[_c('div',{staticClass:\"filters\"},[_c('label',{attrs:{\"for\":\"group-id-filter\"}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mediadc', 'Filter by duplicate group id: '))+\"\\n\\t\\t\\t\\t\"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filterId),expression:\"filterId\"},{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('mediadc', 'Filter by id or range of ids (1-10)')),expression:\"t('mediadc', 'Filter by id or range of ids (1-10)')\"}],staticStyle:{\"max-width\":\"33%\"},attrs:{\"id\":\"group-id-filter\",\"type\":\"search\",\"name\":\"group-id-filter\",\"placeholder\":\"#id\"},domProps:{\"value\":(_vm.filterId)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.filterId=$event.target.value},_vm.filterByGroupId]}})]),_vm._v(\" \"),_c('div',{staticClass:\"batch-actions\",staticStyle:{\"display\":\"flex\"}},[_c('NcButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('mediadc', 'Toggle duplicate groups')),expression:\"t('mediadc', 'Toggle duplicate groups')\"}],staticStyle:{\"margin-right\":\"10px\"},attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('mediadc', 'Toggle duplicate groups')},on:{\"click\":_vm.toggleGroups},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('span',{staticClass:\"icon-category-organization\"})]},proxy:true},{key:\"default\",fn:function(){return [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mediadc', 'Toggle groups'))+\"\\n\\t\\t\\t\\t\\t\")]},proxy:true}],null,false,4172331607)}),_vm._v(\" \"),(_vm.checkedDetailGroups.length > 0)?_c('div',{staticClass:\"batch-editing\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.n('mediadc', 'Batch actions for %n group', 'Batch actions for %n groups', _vm.checkedDetailGroups.length))+\"\\n\\t\\t\\t\\t\\t\"),_c('NcActions',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"placement\":\"top\"}},[(!_vm.filtered)?[_c('NcActionButton',{on:{\"click\":_vm.selectAllGroups},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CheckAll',{attrs:{\"size\":20}})]},proxy:true}],null,false,676844495)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.checkedDetailGroups.length === _vm.details.length ? _vm.t('mediadc', 'Deselect all') : _vm.t('mediadc', 'Select all'))+\"\\n\\t\\t\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),(_vm.details.length > _vm.itemsPerPage)?_c('NcActionButton',{on:{\"click\":_vm.selectAllGroupsOnPage},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CheckUnderline',{attrs:{\"size\":20}})]},proxy:true}],null,false,3724893960)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.checkedDetailGroupsIntersect.length === _vm.paginatedDetails[_vm.page].length || _vm.checkedDetailGroupsIntersect.length === _vm.paginatedSortedDetails[_vm.page].length ? _vm.t('mediadc', 'Deselect all on page') : _vm.t('mediadc', 'Select all on page'))+\"\\n\\t\\t\\t\\t\\t\\t\\t\")]):_vm._e()]:[_c('NcActionButton',{on:{\"click\":_vm.selectAllGroups},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CheckAll',{attrs:{\"size\":20}})]},proxy:true}],null,false,676844495)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.checkedDetailGroups.length === _vm.detailsFiltered.length ? _vm.t('mediadc', 'Deselect all') : _vm.t('mediadc', 'Select all'))+\"\\n\\t\\t\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),(_vm.detailsFiltered.length > _vm.itemsPerPage)?_c('NcActionButton',{on:{\"click\":_vm.selectAllGroupsOnPage},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('CheckUnderline',{attrs:{\"size\":20}})]},proxy:true}],null,false,3724893960)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.checkedDetailGroupsIntersect.length === _vm.paginatedDetailsFiltered[_vm.page].length ? _vm.t('mediadc', 'Deselect all on page') : _vm.t('mediadc', 'Select all on page'))+\"\\n\\t\\t\\t\\t\\t\\t\\t\")]):_vm._e()],_vm._v(\" \"),(_vm.checkedDetailGroups.length > 0)?_c('NcActionButton',{on:{\"click\":function($event){_vm._deselectAllGroups((!_vm.filtered) ? _vm.details : _vm.detailsFiltered)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('MinusBoxOutline',{attrs:{\"size\":20}})]},proxy:true}],null,false,2524064593)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mediadc', 'Uncheck selected'))+\"\\n\\t\\t\\t\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('NcActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.t('mediadc', 'Mark all files in group as resolved'), placement: 'left'}),expression:\"{content: t('mediadc', 'Mark all files in group as resolved'), placement: 'left'}\"}],attrs:{\"icon\":\"icon-close\"},on:{\"click\":_vm.removeCheckedGroups}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.n('mediadc', 'Remove group', 'Remove groups', _vm.checkedDetailGroups.length))+\"\\n\\t\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('NcActionButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.t('mediadc', 'Delete all files except the largest one'), placement: 'left'}),expression:\"{content: t('mediadc', 'Delete all files except the largest one'), placement: 'left'}\"}],attrs:{\"icon\":\"icon-delete\",\"disabled\":_vm.batchDeleting},on:{\"click\":_vm.deleteCheckedGroupsFiles},scopedSlots:_vm._u([(!_vm.batchDeleting)?{key:\"icon\",fn:function(){return [_c('span',{staticClass:\"icon-delete material-design-icon\"})]},proxy:true}:{key:\"icon\",fn:function(){return [_c('NcLoadingIcon',{attrs:{\"size\":20}})]},proxy:true}],null,true)},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mediadc', 'Delete files'))+\"\\n\\t\\t\\t\\t\\t\\t\")])],2)],1):_vm._e()],1)]),_vm._v(\" \"),(!_vm.filtered)?_c('div',[(_vm.sortGroups)?_vm._l((_vm.paginatedSortedDetails[_vm.page]),function(detail){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(detail.files.length > 1),expression:\"detail.files.length > 1\"}],key:detail.group_id,staticClass:\"task-details-row\"},[_c('DetailsListItem',{attrs:{\"detail\":detail,\"checked-detail-groups\":_vm.checkedDetailGroups},on:{\"update:checkedDetailGroups\":function($event){_vm.checkedDetailGroups=$event},\"update:checked-detail-groups\":function($event){_vm.checkedDetailGroups=$event}}})],1)}):_vm._l((_vm.paginatedDetails[_vm.page]),function(detail){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(detail.files.length > 1),expression:\"detail.files.length > 1\"}],key:detail.group_id,staticClass:\"task-details-row\"},[_c('DetailsListItem',{attrs:{\"detail\":detail,\"checked-detail-groups\":_vm.checkedDetailGroups},on:{\"update:checkedDetailGroups\":function($event){_vm.checkedDetailGroups=$event},\"update:checked-detail-groups\":function($event){_vm.checkedDetailGroups=$event}}})],1)})],2):(_vm.detailsFiltered.length > 0 && _vm.filtered)?_c('div',[(!_vm.sortGroups)?_vm._l((_vm.paginatedDetailsFiltered[_vm.page]),function(detail){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(detail.files.length > 1),expression:\"detail.files.length > 1\"}],key:detail.group_id,staticClass:\"task-details-row\"},[_c('DetailsListItem',{attrs:{\"detail\":detail,\"checked-detail-groups\":_vm.checkedDetailGroups},on:{\"update:checkedDetailGroups\":function($event){_vm.checkedDetailGroups=$event},\"update:checked-detail-groups\":function($event){_vm.checkedDetailGroups=$event}}})],1)}):_vm._l((_vm.paginatedDetailsFilteredSorted[_vm.page]),function(detail){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(detail.files.length > 1),expression:\"detail.files.length > 1\"}],key:detail.group_id,staticClass:\"task-details-row\"},[_c('DetailsListItem',{attrs:{\"detail\":detail,\"checked-detail-groups\":_vm.checkedDetailGroups},on:{\"update:checkedDetailGroups\":function($event){_vm.checkedDetailGroups=$event},\"update:checked-detail-groups\":function($event){_vm.checkedDetailGroups=$event}}})],1)})],2):_c('div',[_c('p',{staticStyle:{\"text-align\":\"center\",\"font-weight\":\"bold\"}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mediadc', 'No matchings found'))+\"\\n\\t\\t\\t\")])])]):_c('div',{staticStyle:{\"margin-top\":\"10px\"}},[_c('strong',[_vm._v(_vm._s(_vm.t('mediadc', 'No duplicates found.')))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{staticClass:\"block-wrapper\"},[_c('div',{staticClass:\"edit-task-block\"},[_c('div',{staticClass:\"edit-task-close\",on:{\"click\":function($event){return _vm.closeEditTaskDialog()}}}),_vm._v(\" \"),_c('h2',[_vm._v(_vm._s(_vm.t('mediadc', 'Edit task')))]),_vm._v(\" \"),_c('div',{staticClass:\"selection-container\"},[_c('div',{staticClass:\"block target-directories-block\"},[_c('h3',[_vm._v(_vm._s(_vm.t('mediadc', 'Target directories')))]),_vm._v(\" \"),(_vm.targetDirectoriesIds.length > 0)?_c('div',_vm._l((_vm.targetDirectoriesIds),function(fileid){return _c('div',{key:fileid,staticClass:\"selected-target-directories-list\"},[_c('div',{staticClass:\"target-directory\"},[_c('span',{staticStyle:{\"overflow-y\":\"scroll\",\"white-space\":\"nowrap\"}},[_vm._v(_vm._s(_vm.targetDirectoriesPaths[fileid]))]),_vm._v(\" \"),_c('NcButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({ content: _vm.t('mediadc', 'Remove'), placement: 'left'}),expression:\"{ content: t('mediadc', 'Remove'), placement: 'left'}\"}],attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('mediadc', 'Remove selected target directory')},on:{\"click\":function($event){return _vm.removeTargetDirectory(fileid)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('span',{staticClass:\"icon-delete\"})]},proxy:true}],null,true)})],1)])}),0):_c('div',[_c('span',[_vm._v(_vm._s(_vm.t('mediadc', 'Not selected')))])]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('NcButton',{attrs:{\"aria-label\":_vm.t('mediadc', 'Select target directory')},on:{\"click\":_vm.openDirectoriesExplorer},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('PlusThick',{attrs:{\"size\":16}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mediadc', 'Select'))+\"\\n\\t\\t\\t\\t\\t\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"block\"},[_c('h3',[_vm._v(_vm._s(_vm.t('mediadc', 'Exclude directories')))]),_vm._v(\" \"),(_vm.excludeDirectoriesPaths.length > 0)?_c('div',_vm._l((Object.keys(_vm.excludeFileIds)),function(fileid){return _c('div',{key:fileid,staticClass:\"selected-excluded-directories-list\"},[_c('div',{staticClass:\"target-directory\"},[_c('span',{staticStyle:{\"overflow-y\":\"scroll\",\"white-space\":\"nowrap\"}},[_vm._v(_vm._s(_vm.excludeFileIds[fileid]))]),_vm._v(\" \"),_c('NcButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({ content: _vm.t('mediadc', 'Remove'), placement: 'left'}),expression:\"{ content: t('mediadc', 'Remove'), placement: 'left'}\"}],attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('mediadc', 'Remove selected exclude directory')},on:{\"click\":function($event){return _vm.removeExcludeDirectory(fileid)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('span',{staticClass:\"icon-delete\"})]},proxy:true}],null,true)})],1)])}),0):_c('div',[_c('span',[_vm._v(_vm._s(_vm.t('mediadc', 'Not selected')))])]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('NcButton',{attrs:{\"aria-label\":_vm.t('mediadc', 'Select exclude directory')},on:{\"click\":_vm.openExcludeExplorer},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('PlusThick',{attrs:{\"size\":16}})]},proxy:true}])},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mediadc', 'Select'))+\"\\n\\t\\t\\t\\t\\t\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"selection-container\"},[_c('div',{staticClass:\"block\"},[_c('h3',[_vm._v(_vm._s(_vm.t('mediadc', 'Custom exclude mask')))]),_vm._v(\" \"),(_vm.customExcludeList.length > 0)?_c('div',{staticClass:\"custom-masks-list\"},_vm._l((_vm.customExcludeList),function(mask,index){return _c('div',{key:index,staticClass:\"custom-mask\"},[_c('span',[_vm._v(_vm._s(mask))]),_vm._v(\" \"),_c('NcButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({ content: _vm.t('mediadc', 'Remove'), placement: 'left'}),expression:\"{ content: t('mediadc', 'Remove'), placement: 'left'}\"}],attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('mediadc', 'Remove selected custom exclude mask')},on:{\"click\":function($event){return _vm.deleteCustomMask(mask)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('span',{staticClass:\"icon-delete\"})]},proxy:true}],null,true)})],1)}),0):_c('div',[_c('span',[_vm._v(_vm._s(_vm.t('mediadc', 'Not added')))])]),_vm._v(\" \"),(_vm.addingCustomMask)?_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.customExcludeMask),expression:\"customExcludeMask\"}],ref:\"customExcludeMask\",attrs:{\"id\":\"custom-exclude-mask\",\"type\":\"text\"},domProps:{\"value\":(_vm.customExcludeMask)},on:{\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.addCustomMask.apply(null, arguments)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"]))return null;return _vm.cancelAddingCustomMask.apply(null, arguments)}],\"input\":function($event){if($event.target.composing)return;_vm.customExcludeMask=$event.target.value}}}),_vm._v(\" \"),_c('NcButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('mediadc', 'Confirm')),expression:\"t('mediadc', 'Confirm')\"}],attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('mediadc', 'Confirm adding of the custom exclude mask')},on:{\"click\":_vm.addCustomMask},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('span',{staticClass:\"icon-checkmark\"})]},proxy:true}],null,false,3443818620)}),_vm._v(\" \"),_c('NcButton',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.t('mediadc', 'Decline')),expression:\"t('mediadc', 'Decline')\"}],attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('mediadc', 'Cancel adding of the custom exclude mask')},on:{\"click\":_vm.cancelAddingCustomMask},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('span',{staticClass:\"icon-close\"})]},proxy:true}],null,false,1218614841)})],1):_vm._e(),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"margin\":\"20px 0\"}},[_c('NcButton',{attrs:{\"aria-label\":_vm.t('mediadc', 'Add custom exclude mask')},on:{\"click\":_vm.addNewMask},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('PlusThick',{attrs:{\"size\":16}})]},proxy:true},{key:\"default\",fn:function(){return [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mediadc', 'Add mask'))+\"\\n\\t\\t\\t\\t\\t\\t\\t\")]},proxy:true}])})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"block\"},[_c('h3',{staticStyle:{\"margin\":\"5px 0\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mediadc', 'Target Mime Type'))+\"\\n\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.targetMimeType),expression:\"targetMimeType\"}],attrs:{\"id\":\"target_mtype\",\"name\":\"target_mtype\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.targetMimeType=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{domProps:{\"value\":0}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mediadc', 'Photos'))+\"\\n\\t\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('option',{domProps:{\"value\":1}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mediadc', 'Videos'))+\"\\n\\t\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('option',{domProps:{\"value\":2}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mediadc', 'Photos and Videos'))+\"\\n\\t\\t\\t\\t\\t\\t\")])]),_vm._v(\" \"),_c('h3',{staticStyle:{\"margin\":\"5px 0\"}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mediadc', 'Similarity threshold'))+\"\\n\\t\\t\\t\\t\\t\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.similarity_threshold),expression:\"similarity_threshold\"}],staticStyle:{\"margin\":\"0 0 10px\"},attrs:{\"type\":\"number\",\"min\":\"50\",\"max\":\"100\"},domProps:{\"value\":(_vm.similarity_threshold)},on:{\"input\":function($event){if($event.target.composing)return;_vm.similarity_threshold=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"create-task-actions\"},[_c('NcButton',{attrs:{\"aria-label\":_vm.t('mediadc', 'Restart Task with changed parameters'),\"disabled\":_vm.runningTask || Object.keys(_vm.targetDirectoriesPaths).length === 0},on:{\"click\":_vm.restartTask},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mediadc', 'Restart task'))+\"\\n\\t\\t\\t\\t\\t\")]},proxy:true},(_vm.runningTask)?{key:\"icon\",fn:function(){return [_c('span',{staticClass:\"icon-loading-small\"})]},proxy:true}:null],null,true)}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.taskName),expression:\"taskName\"}],attrs:{\"type\":\"text\",\"placeholder\":_vm.t('mediadc', 'Task name')},domProps:{\"value\":(_vm.taskName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.taskName=$event.target.value}}}),_vm._v(\" \"),_c('NcCheckboxRadioSwitch',{attrs:{\"checked\":_vm.finishNotification},on:{\"update:checked\":function($event){_vm.finishNotification=$event}}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('mediadc', 'Finish notification'))+\"\\n\\t\\t\\t\\t\")])],1)])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n - @copyright Copyright (c) 2021-2022 Andrey Borysenko <andrey18106x@gmail.com>\n -\n - @copyright Copyright (c) 2021-2022 Alexander Piskun <bigcat88@icloud.com>\n -\n - @author Andrey Borysenko <andrey18106x@gmail.com>\n -\n - @license AGPL-3.0-or-later\n -\n - This program is free software: you can redistribute it and/or modify\n - it under the terms of the GNU Affero General Public License as\n - published by the Free Software Foundation, either version 3 of the\n - License, or (at your option) any later version.\n -\n - This program is distributed in the hope that it will be useful,\n - but WITHOUT ANY WARRANTY; without even the implied warranty of\n - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n - GNU Affero General Public License for more details.\n -\n - You should have received a copy of the GNU Affero General Public License\n - along with this program. If not, see <http://www.gnu.org/licenses/>.\n -\n -->\n\n<template>\n\t<transition name=\"fade\">\n\t\t<div class=\"block-wrapper\">\n\t\t\t<div class=\"edit-task-block\">\n\t\t\t\t<div class=\"edit-task-close\" @click=\"closeEditTaskDialog()\" />\n\t\t\t\t<h2>{{ t('mediadc', 'Edit task') }}</h2>\n\t\t\t\t<div class=\"selection-container\">\n\t\t\t\t\t<div class=\"block target-directories-block\">\n\t\t\t\t\t\t<h3>{{ t('mediadc', 'Target directories') }}</h3>\n\t\t\t\t\t\t<div v-if=\"targetDirectoriesIds.length > 0\">\n\t\t\t\t\t\t\t<div v-for=\"fileid in targetDirectoriesIds\" :key=\"fileid\" class=\"selected-target-directories-list\">\n\t\t\t\t\t\t\t\t<div class=\"target-directory\">\n\t\t\t\t\t\t\t\t\t<span style=\"overflow-y: scroll; white-space: nowrap;\">{{ targetDirectoriesPaths[fileid] }}</span>\n\t\t\t\t\t\t\t\t\t<NcButton v-tooltip=\"{ content: t('mediadc', 'Remove'), placement: 'left'}\"\n\t\t\t\t\t\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\t\t\t\t\t\t:aria-label=\"t('mediadc', 'Remove selected target directory')\"\n\t\t\t\t\t\t\t\t\t\t@click=\"removeTargetDirectory(fileid)\">\n\t\t\t\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"icon-delete\" />\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t</NcButton>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t\t<span>{{ t('mediadc', 'Not selected') }}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<NcButton :aria-label=\"t('mediadc', 'Select target directory')\"\n\t\t\t\t\t\t\t@click=\"openDirectoriesExplorer\">\n\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t<PlusThick :size=\"16\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t{{ t('mediadc', 'Select') }}\n\t\t\t\t\t\t</NcButton>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"block\">\n\t\t\t\t\t\t<h3>{{ t('mediadc', 'Exclude directories') }}</h3>\n\t\t\t\t\t\t<div v-if=\"excludeDirectoriesPaths.length > 0\">\n\t\t\t\t\t\t\t<div v-for=\"fileid in Object.keys(excludeFileIds)\" :key=\"fileid\" class=\"selected-excluded-directories-list\">\n\t\t\t\t\t\t\t\t<div class=\"target-directory\">\n\t\t\t\t\t\t\t\t\t<span style=\"overflow-y: scroll; white-space: nowrap;\">{{ excludeFileIds[fileid] }}</span>\n\t\t\t\t\t\t\t\t\t<NcButton v-tooltip=\"{ content: t('mediadc', 'Remove'), placement: 'left'}\"\n\t\t\t\t\t\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\t\t\t\t\t\t:aria-label=\"t('mediadc', 'Remove selected exclude directory')\"\n\t\t\t\t\t\t\t\t\t\t@click=\"removeExcludeDirectory(fileid)\">\n\t\t\t\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"icon-delete\" />\n\t\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t</NcButton>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t\t<span>{{ t('mediadc', 'Not selected') }}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<NcButton :aria-label=\"t('mediadc', 'Select exclude directory')\"\n\t\t\t\t\t\t\t@click=\"openExcludeExplorer\">\n\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t<PlusThick :size=\"16\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t{{ t('mediadc', 'Select') }}\n\t\t\t\t\t\t</NcButton>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"selection-container\">\n\t\t\t\t\t<div class=\"block\">\n\t\t\t\t\t\t<h3>{{ t('mediadc', 'Custom exclude mask') }}</h3>\n\t\t\t\t\t\t<div v-if=\"customExcludeList.length > 0\" class=\"custom-masks-list\">\n\t\t\t\t\t\t\t<div v-for=\"(mask, index) in customExcludeList\" :key=\"index\" class=\"custom-mask\">\n\t\t\t\t\t\t\t\t<span>{{ mask }}</span>\n\t\t\t\t\t\t\t\t<NcButton v-tooltip=\"{ content: t('mediadc', 'Remove'), placement: 'left'}\"\n\t\t\t\t\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\t\t\t\t\t:aria-label=\"t('mediadc', 'Remove selected custom exclude mask')\"\n\t\t\t\t\t\t\t\t\t@click=\"deleteCustomMask(mask)\">\n\t\t\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t\t\t<span class=\"icon-delete\" />\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</NcButton>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t\t<span>{{ t('mediadc', 'Not added') }}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div v-if=\"addingCustomMask\" style=\"display: flex; align-items: center;\">\n\t\t\t\t\t\t\t<input id=\"custom-exclude-mask\"\n\t\t\t\t\t\t\t\tref=\"customExcludeMask\"\n\t\t\t\t\t\t\t\tv-model=\"customExcludeMask\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t@keyup.enter=\"addCustomMask\"\n\t\t\t\t\t\t\t\t@keyup.esc=\"cancelAddingCustomMask\">\n\t\t\t\t\t\t\t<NcButton v-tooltip=\"t('mediadc', 'Confirm')\"\n\t\t\t\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\t\t\t\t:aria-label=\"t('mediadc', 'Confirm adding of the custom exclude mask')\"\n\t\t\t\t\t\t\t\t@click=\"addCustomMask\">\n\t\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t\t<span class=\"icon-checkmark\" />\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</NcButton>\n\t\t\t\t\t\t\t<NcButton v-tooltip=\"t('mediadc', 'Decline')\"\n\t\t\t\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\t\t\t\t:aria-label=\"t('mediadc', 'Cancel adding of the custom exclude mask')\"\n\t\t\t\t\t\t\t\t@click=\"cancelAddingCustomMask\">\n\t\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t\t<span class=\"icon-close\" />\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</NcButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div style=\"display: flex; align-items: center; margin: 20px 0;\">\n\t\t\t\t\t\t\t<NcButton :aria-label=\"t('mediadc', 'Add custom exclude mask')\"\n\t\t\t\t\t\t\t\t@click=\"addNewMask\">\n\t\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t\t<PlusThick :size=\"16\" />\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<template #default>\n\t\t\t\t\t\t\t\t\t{{ t('mediadc', 'Add mask') }}\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</NcButton>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"block\">\n\t\t\t\t\t\t<h3 style=\"margin: 5px 0;\">\n\t\t\t\t\t\t\t{{ t('mediadc', 'Target Mime Type') }}\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<select id=\"target_mtype\"\n\t\t\t\t\t\t\tv-model=\"targetMimeType\"\n\t\t\t\t\t\t\tname=\"target_mtype\">\n\t\t\t\t\t\t\t<option :value=\"0\">\n\t\t\t\t\t\t\t\t{{ t('mediadc', 'Photos') }}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option :value=\"1\">\n\t\t\t\t\t\t\t\t{{ t('mediadc', 'Videos') }}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option :value=\"2\">\n\t\t\t\t\t\t\t\t{{ t('mediadc', 'Photos and Videos') }}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t\t<h3 style=\"margin: 5px 0;\">\n\t\t\t\t\t\t\t{{ t('mediadc', 'Similarity threshold') }}\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<input v-model=\"similarity_threshold\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tmin=\"50\"\n\t\t\t\t\t\t\tmax=\"100\"\n\t\t\t\t\t\t\tstyle=\"margin: 0 0 10px;\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"create-task-actions\">\n\t\t\t\t\t<NcButton :aria-label=\"t('mediadc', 'Restart Task with changed parameters')\"\n\t\t\t\t\t\t:disabled=\"runningTask || Object.keys(targetDirectoriesPaths).length === 0\"\n\t\t\t\t\t\t@click=\"restartTask\">\n\t\t\t\t\t\t<template #default>\n\t\t\t\t\t\t\t{{ t('mediadc', 'Restart task') }}\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-if=\"runningTask\" #icon>\n\t\t\t\t\t\t\t<span class=\"icon-loading-small\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</NcButton>\n\t\t\t\t\t<input v-model=\"taskName\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t:placeholder=\"t('mediadc', 'Task name')\">\n\t\t\t\t\t<NcCheckboxRadioSwitch :checked.sync=\"finishNotification\">\n\t\t\t\t\t\t{{ t('mediadc', 'Finish notification') }}\n\t\t\t\t\t</NcCheckboxRadioSwitch>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</transition>\n</template>\n\n<script>\nimport axios from '@nextcloud/axios'\nimport { getCurrentUser } from '@nextcloud/auth'\nimport { generateUrl } from '@nextcloud/router'\nimport { getFilePickerBuilder, showWarning, showSuccess, showError } from '@nextcloud/dialogs'\nimport { emit } from '@nextcloud/event-bus'\n\nimport { NcCheckboxRadioSwitch, NcButton } from '@nextcloud/vue'\nimport PlusThick from 'vue-material-design-icons/PlusThick.vue'\n\nimport { mapGetters } from 'vuex'\n\nimport { requestFileInfo, getFileId } from '../../utils/files.js'\n\nexport default {\n\tname: 'TasksEdit',\n\tcomponents: {\n\t\tNcButton,\n\t\tNcCheckboxRadioSwitch,\n\t\tPlusThick,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\ttargetDirectoriesPaths: {},\n\t\t\ttargetDirectoriesIds: [],\n\t\t\texcludeDirectoriesPaths: [],\n\t\t\texcludeFileIds: {},\n\t\t\ttargetMimeType: 0,\n\t\t\tsimilarity_threshold: 90,\n\t\t\tcustomExcludeList: [],\n\t\t\tcustomExcludeMask: '',\n\t\t\taddingCustomMask: false,\n\t\t\trunningTask: false,\n\t\t\tfinishNotification: true,\n\t\t\ttaskName: '',\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapGetters([\n\t\t\t'settings',\n\t\t\t'settingByName',\n\t\t\t'tasks',\n\t\t\t'task',\n\t\t\t'taskInfo',\n\t\t]),\n\t},\n\tbeforeMount() {\n\t\tthis.similarity_threshold = this.settingByName('similarity_threshold') !== undefined\n\t\t\t? this.settingByName('similarity_threshold').value\n\t\t\t: 90\n\t\tthis.targetMimeType = JSON.parse(this.task.collector_settings).target_mtype\n\t\tthis.similarity_threshold = JSON.parse(this.task.collector_settings).similarity_threshold\n\t\tthis.finishNotification = JSON.parse(this.task.collector_settings).finish_notification\n\t\tthis.taskName = this.task.name\n\t\tthis.parseTaskSettings()\n\t},\n\tmethods: {\n\t\tparseTaskSettings() {\n\t\t\tif (this.taskInfo !== null && 'target_directories' in this.taskInfo) {\n\t\t\t\tthis.taskInfo.target_directories.forEach(dir => {\n\t\t\t\t\tthis.targetDirectoriesIds.push(dir.fileid.toString())\n\t\t\t\t\tthis.targetDirectoriesPaths[dir.fileid.toString()] = dir.filepath.replace(`/${getCurrentUser().uid}/files`, '') !== '' ? dir.filepath.replace(`/${getCurrentUser().uid}/files`, '') : '/'\n\t\t\t\t})\n\t\t\t}\n\t\t\tif (this.taskInfo !== null && 'exclude_directories' in this.taskInfo) {\n\t\t\t\tthis.taskInfo.exclude_directories.forEach(dir => {\n\t\t\t\t\tthis.excludeDirectoriesPaths.push(dir.filepath.replace())\n\t\t\t\t\tthis.excludeFileIds[dir.fileid.toString()] = dir.filepath.replace(`/${getCurrentUser().uid}/files`, '')\n\t\t\t\t})\n\t\t\t\tthis.customExcludeList = JSON.parse(this.task.exclude_list).user.mask\n\t\t\t}\n\t\t},\n\t\tgetDirectoriesPicker(title) {\n\t\t\treturn getFilePickerBuilder(title)\n\t\t\t\t.setMultiSelect(false)\n\t\t\t\t.addMimeTypeFilter('httpd/unix-directory')\n\t\t\t\t.setType(1)\n\t\t\t\t.allowDirectories(true)\n\t\t\t\t.build()\n\t\t},\n\t\topenDirectoriesExplorer() {\n\t\t\tthis.getDirectoriesPicker(this.t('mediadc', 'Choose target directory')).pick().then(dir => {\n\t\t\t\tif (dir.startsWith('/')) {\n\t\t\t\t\trequestFileInfo(dir).then(res => {\n\t\t\t\t\t\tconst fileid = getFileId(res.data)\n\t\t\t\t\t\tif (fileid !== -1) {\n\t\t\t\t\t\t\tif (!(fileid in this.targetDirectoriesPaths)) {\n\t\t\t\t\t\t\t\tthis.targetDirectoriesIds.push(fileid)\n\t\t\t\t\t\t\t\tthis.targetDirectoriesPaths[fileid.toString()] = dir\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tshowWarning(this.t('mediadc', 'This directory already selected'))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\trequestFileInfo('/').then(res => {\n\t\t\t\t\t\tconst fileid = getFileId(res.data)\n\t\t\t\t\t\tif (fileid !== -1) {\n\t\t\t\t\t\t\tif (!(fileid in this.targetDirectoriesPaths)) {\n\t\t\t\t\t\t\t\tthis.targetDirectoriesIds.push(fileid)\n\t\t\t\t\t\t\t\tthis.targetDirectoriesPaths[fileid.toString()] = '/'\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tshowWarning(this.t('mediadc', 'This directory already selected'))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\topenExcludeExplorer() {\n\t\t\tthis.getDirectoriesPicker(this.t('mediadc', 'Choose directory to exclude')).pick().then(dir => {\n\t\t\t\tif (Object.values(this.excludeFileIds).findIndex(targetDir => targetDir === dir) === -1) {\n\t\t\t\t\tif (dir.startsWith('/')) {\n\t\t\t\t\t\trequestFileInfo(dir).then(res => {\n\t\t\t\t\t\t\tconst fileid = getFileId(res.data)\n\t\t\t\t\t\t\tif (fileid !== -1) {\n\t\t\t\t\t\t\t\tthis.excludeDirectoriesPaths.push(dir)\n\t\t\t\t\t\t\t\tthis.excludeFileIds[fileid.toString()] = dir\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\trequestFileInfo('/').then(res => {\n\t\t\t\t\t\t\tconst fileid = getFileId(res.data)\n\t\t\t\t\t\t\tif (fileid !== -1) {\n\t\t\t\t\t\t\t\tthis.excludeDirectoriesPaths.push(dir)\n\t\t\t\t\t\t\t\tthis.excludeFileIds[fileid.toString()] = '/'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tshowWarning(this.t('mediadc', 'This directory already excluded'))\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\trestartTask() {\n\t\t\tthis.runningTask = true\n\t\t\tthis.$store.dispatch('getSettings').then(() => {\n\t\t\t\taxios.post(generateUrl('/apps/mediadc/api/v1/tasks/restart'), {\n\t\t\t\t\ttaskId: this.task.id,\n\t\t\t\t\ttargetDirectoryIds: JSON.stringify(this.targetDirectoriesIds),\n\t\t\t\t\texcludeList: {\n\t\t\t\t\t\tuser: {\n\t\t\t\t\t\t\tmask: this.customExcludeList,\n\t\t\t\t\t\t\tfileid: Object.keys(this.excludeFileIds).map(item => Number(item)),\n\t\t\t\t\t\t},\n\t\t\t\t\t\tadmin: JSON.parse(this.settingByName('exclude_list').value) || { mask: [], fileid: [] },\n\t\t\t\t\t},\n\t\t\t\t\tcollectorSettings: {\n\t\t\t\t\t\thashing_algorithm: JSON.parse(this.settingByName('hashing_algorithm').value) || 'dhash',\n\t\t\t\t\t\tsimilarity_threshold: Number(this.similarity_threshold),\n\t\t\t\t\t\thash_size: Number(this.settingByName('hash_size').value) || 16,\n\t\t\t\t\t\ttarget_mtype: this.targetMimeType,\n\t\t\t\t\t\tfinish_notification: this.finishNotification,\n\t\t\t\t\t},\n\t\t\t\t\tname: this.taskName,\n\t\t\t\t}).then(res => {\n\t\t\t\t\tthis.runningTask = false\n\t\t\t\t\tif (res.data.success) {\n\t\t\t\t\t\tthis.runningTask = false\n\t\t\t\t\t\tthis.closeEditTaskDialog()\n\t\t\t\t\t\temit('restartTask')\n\t\t\t\t\t\tshowSuccess(this.t('mediadc', 'Task successfully restarted!'))\n\t\t\t\t\t} else if (res.data.limit) {\n\t\t\t\t\t\tshowWarning(this.t('mediadc', 'Running tasks limit exceeded. Try again later.'))\n\t\t\t\t\t} else if (res.data.empty) {\n\t\t\t\t\t\tshowWarning(this.n('mediadc', 'Target folder has no files or all of them excluded', 'Target folders have no files or all of them excluded', this.targetDirectoriesIds.length))\n\t\t\t\t\t} else if (res.data.php_exec_not_enabled) {\n\t\t\t\t\t\tshowError(t('mediadc', 'Task run error: PHP `exec` function is not enabled'))\n\t\t\t\t\t} else {\n\t\t\t\t\t\tshowWarning(t('medaidc', 'Some error occurred while running Collector Task. Try again.'))\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\tremoveTargetDirectory(fileid) {\n\t\t\tdelete this.targetDirectoriesPaths[fileid]\n\t\t\tconst fileidIndex = this.targetDirectoriesIds.findIndex(id => id === fileid)\n\t\t\tthis.targetDirectoriesIds.splice(fileidIndex, 1)\n\t\t},\n\t\tremoveExcludeDirectory(fileid) {\n\t\t\tif (fileid in this.excludeFileIds) {\n\t\t\t\tconst dirIndex = this.excludeDirectoriesPaths.findIndex(dir => dir === this.excludeFileIds[fileid])\n\t\t\t\tthis.excludeDirectoriesPaths.splice(dirIndex, 1)\n\t\t\t\tdelete this.excludeFileIds[fileid]\n\t\t\t}\n\t\t},\n\t\taddNewMask() {\n\t\t\tthis.addingCustomMask = true\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.$refs.customExcludeMask.focus()\n\t\t\t}, 100)\n\t\t},\n\t\taddCustomMask() {\n\t\t\tif (this.customExcludeMask.length > 0) {\n\t\t\t\tif (this.customExcludeList.findIndex(mask => mask === this.customExcludeMask) === -1) {\n\t\t\t\t\tthis.customExcludeList.push(this.customExcludeMask)\n\t\t\t\t\tthis.customExcludeMask = ''\n\t\t\t\t\tthis.addingCustomMask = false\n\t\t\t\t} else {\n\t\t\t\t\tshowWarning(this.t('mediadc', 'This mask already exists!'))\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tshowWarning(this.t('mediadc', 'Enter custom mask!'))\n\t\t\t}\n\t\t},\n\t\tcancelAddingCustomMask() {\n\t\t\tthis.customExcludeMask = ''\n\t\t\tthis.addingCustomMask = false\n\t\t},\n\t\tdeleteCustomMask(mask) {\n\t\t\tconst maskIndex = this.customExcludeList.findIndex(m => m === mask)\n\t\t\tthis.customExcludeList.splice(maskIndex, 1)\n\t\t},\n\t\tresetForm() {\n\t\t\tthis.targetDirectoriesPaths = {}\n\t\t\tthis.targetDirectoriesIds = []\n\t\t\tthis.excludeDirectoriesNames = []\n\t\t\tthis.excludeFileIds = {}\n\t\t\tthis.targetMimeType = 0\n\t\t\tthis.similarity_threshold = this.settingByName('similarity_threshold') !== undefined\n\t\t\t\t? this.settingByName('similarity_threshold').value\n\t\t\t\t: 90\n\t\t\tthis.customExcludeList = []\n\t\t\tthis.runningTask = false\n\t\t\tthis.finishNotification = true\n\t\t},\n\t\tcloseEditTaskDialog() {\n\t\t\tthis.$emit('update:opened', false)\n\t\t},\n\t},\n}\n</script>\n\n<style scoped>\n.fade-enter-active,\n.fade-leave-active {\n\ttransition: opacity 250ms;\n}\n\n.fade-enter,\n.fade-leave-to {\n\topacity: 0;\n}\n\n.fade-visibility-enter,\n.fade-visibility-leave-to {\n\tvisibility: hidden;\n\topacity: 0;\n}\n\n.block-wrapper {\n\tposition: fixed;\n\tz-index: 9998;\n\ttop: 0;\n\tleft: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 100%;\n\theight: 100%;\n\n}\n\n.edit-task-block {\n\tposition: relative;\n\tborder: 1px solid var(--color-border-dark);\n\tborder-radius: var(--border-radius-large);\n\tbox-shadow: 0 0 30px var(--color-box-shadow);\n\tpadding: 20px 20px 10px;\n\twidth: 100%;\n\tmax-width: 600px;\n\tmargin: auto;\n\tbackground-color: var(--color-main-background);\n}\n\n.edit-task-close {\n\tposition: absolute;\n\ttop: 10px;\n\tright: 5px;\n\tpadding: 25px;\n\tbackground: var(--icon-close-dark) no-repeat center;\n\topacity: .5;\n\tcursor: pointer;\n}\n\n.edit-task-close:hover {\n\topacity: 1;\n}\n\n@media (max-width: 767px) {\n\t.selection-container {\n\t\tflex-wrap: wrap;\n\t}\n}\n\n@media (max-width: 540px) {\n\t.edit-task-block {\n\t\twidth: 90vw;\n\t\theight: 80vh;\n\t\toverflow-y: scroll;\n\t\ttop: calc(100% - 96vh);\n\t}\n}\n\n.delete-button {\n\tdisplay: inline-flex;\n\twidth: 15px;\n\theight: 15px;\n\tcursor: pointer;\n\tmargin: 0 10px;\n}\n\n.create-task-actions {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tmargin-top: 5px;\n\tpadding: 0 10px;\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TasksEdit.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TasksEdit.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TasksEdit.vue?vue&type=style&index=0&id=d11ce3a6&prod&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TasksEdit.vue?vue&type=style&index=0&id=d11ce3a6&prod&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./TasksEdit.vue?vue&type=template&id=d11ce3a6&scoped=true\"\nimport script from \"./TasksEdit.vue?vue&type=script&lang=js\"\nexport * from \"./TasksEdit.vue?vue&type=script&lang=js\"\nimport style0 from \"./TasksEdit.vue?vue&type=style&index=0&id=d11ce3a6&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d11ce3a6\",\n  null\n  \n)\n\nexport default component.exports","<!--\n - @copyright Copyright (c) 2022 Andrey Borysenko <andrey18106x@gmail.com>\n -\n - @copyright Copyright (c) 2022 Alexander Piskun <bigcat88@icloud.com>\n -\n - @author 2022 Andrey Borysenko <andrey18106x@gmail.com>\n -\n - @license AGPL-3.0-or-later\n -\n - This program is free software: you can redistribute it and/or modify\n - it under the terms of the GNU Affero General Public License as\n - published by the Free Software Foundation, either version 3 of the\n - License, or (at your option) any later version.\n -\n - This program is distributed in the hope that it will be useful,\n - but WITHOUT ANY WARRANTY; without even the implied warranty of\n - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n - GNU Affero General Public License for more details.\n -\n - You should have received a copy of the GNU Affero General Public License\n - along with this program. If not, see <http://www.gnu.org/licenses/>.\n -\n -->\n\n<template>\n\t<transition name=\"fade\">\n\t\t<div class=\"details-export-wrapper\">\n\t\t\t<div class=\"details-export\">\n\t\t\t\t<div class=\"details-export-close\" @click=\"closeExportResultsDialog()\" />\n\t\t\t\t<h2>{{ t('mediadc', 'Export task results') }}</h2>\n\t\t\t\t<div class=\"selection-container\">\n\t\t\t\t\t<label for=\"export-file-format\">{{ t('mediadc', 'Select export file format') }}</label>\n\t\t\t\t\t<select id=\"export-file-format\"\n\t\t\t\t\t\tv-model=\"exportFileFormat\">\n\t\t\t\t\t\t<option v-for=\"format in exportFormatOptions\" :key=\"format\" :value=\"format\">\n\t\t\t\t\t\t\t{{ format }}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<NcButton :href=\"downloadExportUrl\">\n\t\t\t\t\t{{ t('mediadc', 'Export') }}\n\t\t\t\t</NcButton>\n\t\t\t</div>\n\t\t</div>\n\t</transition>\n</template>\n\n<script>\nimport { generateUrl } from '@nextcloud/router'\n\nimport { NcButton } from '@nextcloud/vue'\n\nexport default {\n\tname: 'DetailsExport',\n\tcomponents: {\n\t\tNcButton,\n\t},\n\tprops: {\n\t\ttask: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\texportFormatOptions: ['xml', 'json'],\n\t\t\texportFileFormat: 'xml',\n\t\t}\n\t},\n\tcomputed: {\n\t\tdownloadExportUrl() {\n\t\t\treturn generateUrl(`/apps/mediadc/api/v1/tasks/${this.task.id}/export/${this.exportFileFormat}`)\n\t\t},\n\t},\n\tmethods: {\n\t\tcloseExportResultsDialog() {\n\t\t\tthis.$emit('update:opened', false)\n\t\t},\n\t},\n}\n</script>\n\n<style scoped>\n.fade-enter-active,\n.fade-leave-active {\n\ttransition: opacity 250ms;\n}\n\n.fade-enter,\n.fade-leave-to {\n\topacity: 0;\n}\n\n.fade-visibility-enter,\n.fade-visibility-leave-to {\n\tvisibility: hidden;\n\topacity: 0;\n}\n\n.details-export-wrapper {\n\tposition: fixed;\n\tz-index: 9998;\n\ttop: 0;\n\tleft: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 100%;\n\theight: 100%;\n\n}\n\n.details-export {\n\tposition: relative;\n\tborder: 1px solid var(--color-border-dark);\n\tborder-radius: var(--border-radius-large);\n\tbox-shadow: 0 0 30px var(--color-box-shadow);\n\tpadding: 20px 20px 10px;\n\twidth: 100%;\n\tmax-width: 300px;\n\tmargin: auto;\n\tbackground-color: var(--color-main-background);\n}\n\n.details-export-close {\n\tposition: absolute;\n\ttop: 10px;\n\tright: 5px;\n\tpadding: 25px;\n\tbackground: var(--icon-close-dark) no-repeat center;\n\topacity: .5;\n\tcursor: pointer;\n}\n\n.details-export-close:hover {\n\topacity: 1;\n}\n\n.selection-container {\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin: 10px auto;\n}\n\n@media (max-width: 540px) {\n\t.details-export {\n\t\twidth: 90vw;\n\t\theight: 80vh;\n\t\toverflow-y: scroll;\n\t\ttop: calc(100% - 96vh);\n\t}\n}\n</style>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsExport.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsExport.vue?vue&type=script&lang=js\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsExport.vue?vue&type=style&index=0&id=59143620&prod&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailsExport.vue?vue&type=style&index=0&id=59143620&prod&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./DetailsExport.vue?vue&type=template&id=59143620&scoped=true\"\nimport script from \"./DetailsExport.vue?vue&type=script&lang=js\"\nexport * from \"./DetailsExport.vue?vue&type=script&lang=js\"\nimport style0 from \"./DetailsExport.vue?vue&type=style&index=0&id=59143620&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"59143620\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{staticClass:\"details-export-wrapper\"},[_c('div',{staticClass:\"details-export\"},[_c('div',{staticClass:\"details-export-close\",on:{\"click\":function($event){return _vm.closeExportResultsDialog()}}}),_vm._v(\" \"),_c('h2',[_vm._v(_vm._s(_vm.t('mediadc', 'Export task results')))]),_vm._v(\" \"),_c('div',{staticClass:\"selection-container\"},[_c('label',{attrs:{\"for\":\"export-file-format\"}},[_vm._v(_vm._s(_vm.t('mediadc', 'Select export file format')))]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.exportFileFormat),expression:\"exportFileFormat\"}],attrs:{\"id\":\"export-file-format\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.exportFileFormat=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.exportFormatOptions),function(format){return _c('option',{key:format,domProps:{\"value\":format}},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(format)+\"\\n\\t\\t\\t\\t\\t\")])}),0)]),_vm._v(\" \"),_c('NcButton',{attrs:{\"href\":_vm.downloadExportUrl}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('mediadc', 'Export'))+\"\\n\\t\\t\\t\")])],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span v-bind=\"$attrs\"\n        :aria-hidden=\"title ? null : 'true'\"\n        :aria-label=\"title\"\n        class=\"material-design-icon file-export-outline-icon\"\n        role=\"img\"\n        @click=\"$emit('click', $event)\">\n    <svg :fill=\"fillColor\"\n         class=\"material-design-icon__svg\"\n         :width=\"size\"\n         :height=\"size\"\n         viewBox=\"0 0 24 24\">\n      <path d=\"M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V8L14 2M18 20H6V4H13V9H18V20M16 11V18.1L13.9 16L11.1 18.8L8.3 16L11.1 13.2L8.9 11H16Z\">\n        <title v-if=\"title\">{{ title }}</title>\n      </path>\n    </svg>\n  </span>\n</template>\n\n<script>\nexport default {\n  name: \"FileExportOutlineIcon\",\n  emits: ['click'],\n  props: {\n    title: {\n      type: String,\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n}\n</script>","import mod from \"-!../vue-loader/lib/index.js??vue-loader-options!./FileExportOutline.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../vue-loader/lib/index.js??vue-loader-options!./FileExportOutline.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./FileExportOutline.vue?vue&type=template&id=354fac6b\"\nimport script from \"./FileExportOutline.vue?vue&type=script&lang=js\"\nexport * from \"./FileExportOutline.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',_vm._b({staticClass:\"material-design-icon file-export-outline-icon\",attrs:{\"aria-hidden\":_vm.title ? null : 'true',\"aria-label\":_vm.title,\"role\":\"img\"},on:{\"click\":function($event){return _vm.$emit('click', $event)}}},'span',_vm.$attrs,false),[_c('svg',{staticClass:\"material-design-icon__svg\",attrs:{\"fill\":_vm.fillColor,\"width\":_vm.size,\"height\":_vm.size,\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V8L14 2M18 20H6V4H13V9H18V20M16 11V18.1L13.9 16L11.1 18.8L8.3 16L11.1 13.2L8.9 11H16Z\"}},[(_vm.title)?_c('title',[_vm._v(_vm._s(_vm.title))]):_vm._e()])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectorDetails.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectorDetails.vue?vue&type=script&lang=js\"","<!--\n - @copyright Copyright (c) 2021-2022 Andrey Borysenko <andrey18106x@gmail.com>\n -\n - @copyright Copyright (c) 2021-2022 Alexander Piskun <bigcat88@icloud.com>\n -\n - @author 2021-2022 Andrey Borysenko <andrey18106x@gmail.com>\n -\n - @license AGPL-3.0-or-later\n -\n - This program is free software: you can redistribute it and/or modify\n - it under the terms of the GNU Affero General Public License as\n - published by the Free Software Foundation, either version 3 of the\n - License, or (at your option) any later version.\n -\n - This program is distributed in the hope that it will be useful,\n - but WITHOUT ANY WARRANTY; without even the implied warranty of\n - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n - GNU Affero General Public License for more details.\n -\n - You should have received a copy of the GNU Affero General Public License\n - along with this program. If not, see <http://www.gnu.org/licenses/>.\n -\n -->\n\n<template>\n\t<div v-if=\"!loading\" class=\"container\">\n\t\t<TasksEdit v-if=\"editingTask\" :opened.sync=\"editingTask\" />\n\t\t<DetailsExport v-if=\"exporting\" :opened.sync=\"exporting\" :task=\"task\" />\n\t\t<div class=\"task-details\">\n\t\t\t<div class=\"task-details-heading\">\n\t\t\t\t<h2>\n\t\t\t\t\t{{ rootTitle }}\n\t\t\t\t\t<NcButton v-if=\"isValidUser\"\n\t\t\t\t\t\tv-tooltip=\"{content: !collapsedStatus\n\t\t\t\t\t\t\t? t('mediadc', 'Collapse task status')\n\t\t\t\t\t\t\t: t('mediadc', 'Show task status'), placement: 'bottom-end'}\"\n\t\t\t\t\t\ttype=\"tertiary\"\n\t\t\t\t\t\t:aria-label=\"t('mediadc', 'Collapse task status')\"\n\t\t\t\t\t\tstyle=\"margin: 0 10px;\"\n\t\t\t\t\t\t@click=\"collapseTaskStatus\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<span :class=\"!collapsedStatus ? 'icon-triangle-n' : 'icon-triangle-s'\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</NcButton>\n\t\t\t\t</h2>\n\t\t\t\t<Transition name=\"fade\" appear>\n\t\t\t\t\t<div v-if=\"isValidUser\" v-show=\"!collapsedStatus\" class=\"task-details-description\">\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t{{ t('mediadc', 'Here you can view task details, manage task (stop or restart), delete found duplicated photos and videos.') }}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t{{ t('mediadc', 'Deleted files are placed in the trashbin, so that they can be restored in case of need.') }}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</Transition>\n\t\t\t</div>\n\t\t\t<Transition name=\"fade\" appear>\n\t\t\t\t<div v-if=\"isValidUser\" v-show=\"!collapsedStatus\" class=\"task-status-row\">\n\t\t\t\t\t<div class=\"task-status-wrapper\" style=\"display: flex; flex-direction: column; margin: 20px;\">\n\t\t\t\t\t\t<div class=\"task-status\">\n\t\t\t\t\t\t\t<span :class=\"'badge ' + getStatusBadge(task)\">{{ getStatusBadge(task) }}</span>\n\t\t\t\t\t\t\t<div style=\"display: flex; flex-direction: column;\">\n\t\t\t\t\t\t\t\t<span v-if=\"task.name !== null && task.name !== ''\"><b>{{ task.name }}</b><br></span>\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t<b>{{ parseTargetMtype(task) }}</b> {{ task.files_scanned !== task.files_total ? `${task.files_scanned}/` : '' }}{{ task.files_total }} {{ n('mediadc', 'file', 'files', task.files_total) }}\n\t\t\t\t\t\t\t\t\t({{ formatBytes(Number(task.files_total_size)) }})\n\t\t\t\t\t\t\t\t\t({{ task !== null && 'collector_settings' in task ? t('mediadc', 'precision: ') + JSON.parse(task.collector_settings).similarity_threshold + '%' : '' }})\n\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t<b>{{ t('mediadc', 'Deleted: ') }} </b>\n\t\t\t\t\t\t\t\t\t{{ task.deleted_files_count }} {{ n('mediadc', 'file', 'files', task.deleted_files_count) }}\n\t\t\t\t\t\t\t\t\t({{ formatBytes(Number(task.deleted_files_size)) }})\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t{{ parseUnixTimestamp(task.created_time) }}\n\t\t\t\t\t\t\t\t\t{{ Number(task.finished_time) > 0 ? ' - ' + parseUnixTimestamp(task.finished_time) : '' }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<NcActions style=\"margin: 0 0 0 10px;\">\n\t\t\t\t\t\t\t\t<NcActionButton v-tooltip=\"{content: t('mediadc', 'Restart task with current params'), placement: 'left'}\"\n\t\t\t\t\t\t\t\t\ticon=\"icon-history\"\n\t\t\t\t\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t\t\t\t\t@click=\"restartTask(task)\">\n\t\t\t\t\t\t\t\t\t{{ getStatusBadge(task) === 'duplicated' ? t('mediadc', 'Start') : t('mediadc', 'Restart') }}\n\t\t\t\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t\t\t\t<NcActionButton v-tooltip=\"{content: t('mediadc', 'Edit task params'), placement: 'left'}\"\n\t\t\t\t\t\t\t\t\ticon=\"icon-rename\"\n\t\t\t\t\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t\t\t\t\t@click=\"openEditTaskDialog(task)\">\n\t\t\t\t\t\t\t\t\t{{ t('mediadc', 'Edit') }}\n\t\t\t\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t\t\t\t<NcActionButton v-tooltip=\"{content: t('mediadc', 'Terminate task execution'), placement: 'left'}\"\n\t\t\t\t\t\t\t\t\ticon=\"icon-pause\"\n\t\t\t\t\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t\t\t\t\t@click=\"_terminateTask(task)\">\n\t\t\t\t\t\t\t\t\t{{ t('mediadc', 'Stop') }}\n\t\t\t\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t\t\t\t<NcActionButton v-if=\"getStatusBadge(task) === 'finished'\"\n\t\t\t\t\t\t\t\t\tv-tooltip=\"{ content: t('mediadc', 'Export task results'), placement: 'left' }\"\n\t\t\t\t\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t\t\t\t\t@click=\"openExportResultsDialog(task)\">\n\t\t\t\t\t\t\t\t\t<template #default>\n\t\t\t\t\t\t\t\t\t\t{{ t('mediadc', 'Export') }}\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t\t\t\t<FileExportOutline :size=\"18\" />\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t\t\t\t<NcActionButton v-tooltip=\"{content: t('mediadc', 'Delete task'), placement: 'left'}\"\n\t\t\t\t\t\t\t\t\ticon=\"icon-delete\"\n\t\t\t\t\t\t\t\t\t:close-after-click=\"true\"\n\t\t\t\t\t\t\t\t\t@click=\"deleteTask(task)\">\n\t\t\t\t\t\t\t\t\t{{ t('mediadc', 'Delete task') }}\n\t\t\t\t\t\t\t\t</NcActionButton>\n\t\t\t\t\t\t\t</NcActions>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<NcProgressBar :value=\"Math.round((task.files_scanned / task.files_total) * 100)\"\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t:error=\"getStatusBadge(task) === 'error'\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"task-info\">\n\t\t\t\t\t\t<h3>{{ t('mediadc', 'Target directories') }}</h3>\n\t\t\t\t\t\t<div class=\"target-directories-list\">\n\t\t\t\t\t\t\t<div v-for=\"dir in taskInfo.target_directories\"\n\t\t\t\t\t\t\t\t:key=\"dir.fileid\"\n\t\t\t\t\t\t\t\tv-tooltip=\"{content: getDirOwnerToolip(dir), placement: 'bottom'}\"\n\t\t\t\t\t\t\t\tclass=\"target-directory-row\">\n\t\t\t\t\t\t\t\t<a :href=\"filesDirLink(dir)\" target=\"_blank\">\n\t\t\t\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t\t\t\tdir.filepath.replace(`/${dir.fileowner}/files`, '').replace(`/${currentUser}/files`, '') !== ''\n\t\t\t\t\t\t\t\t\t\t\t\t? dir.filepath.replace(`/${dir.fileowner}/files`, '').replace(`/${currentUser}/files`, '')\n\t\t\t\t\t\t\t\t\t\t\t\t: '/'\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t</b>\n\t\t\t\t\t\t\t\t\t({{ !dir.hasignoreflag ? formatBytes(dir.filesize) : t('mediadc', 'Ignored') }})\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Transition>\n\t\t\t<Transition name=\"fade\" appear>\n\t\t\t\t<div v-if=\"isValidUser\" class=\"details-row\">\n\t\t\t\t\t<DetailsList v-if=\"getStatusBadge(task) === 'finished'\" />\n\t\t\t\t</div>\n\t\t\t\t<div v-else>\n\t\t\t\t\t<p style=\"text-align: center;\">\n\t\t\t\t\t\t<b>{{ t('mediadc', 'You are not allowed to manage other user\\'s tasks.') }}</b>\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</Transition>\n\t\t\t<div v-if=\"hasErrors\" class=\"errors\">\n\t\t\t\t<div class=\"errors-heading\" style=\"display: flex; align-items: center;\">\n\t\t\t\t\t<h3>{{ t('mediadc', 'Task errors' ) }}</h3>\n\t\t\t\t\t<NcButton v-tooltip=\"t('mediadc', 'Copy to clipboard')\"\n\t\t\t\t\t\ttype=\"tertiary-no-background\"\n\t\t\t\t\t\t:aria-label=\"t('mediadc', 'Copy to clipboard')\"\n\t\t\t\t\t\tstyle=\"margin: 0 10px;\"\n\t\t\t\t\t\t@click=\"copyErrorsToClipboard\">\n\t\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t\t<ContentCopy :size=\"20\" />\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</NcButton>\n\t\t\t\t</div>\n\t\t\t\t<div v-for=\"error in task.errors.split('\\\\n')\" :key=\"error\" class=\"error-row\">\n\t\t\t\t\t{{ error }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport axios from '@nextcloud/axios'\nimport { getCurrentUser } from '@nextcloud/auth'\nimport { subscribe, unsubscribe } from '@nextcloud/event-bus'\nimport { showSuccess, showError, showWarning, showMessage } from '@nextcloud/dialogs'\nimport { generateUrl } from '@nextcloud/router'\nimport { mapActions, mapGetters } from 'vuex'\n\nimport DetailsList from '../components/details/DetailsList.vue'\nimport Formats from '../mixins/Formats.js'\nimport TasksEdit from '../components/tasks/TasksEdit.vue'\nimport DetailsExport from '../components/details/DetailsExport.vue'\n\nimport NcActions from '@nextcloud/vue/dist/Components/NcActions.js'\nimport NcActionButton from '@nextcloud/vue/dist/Components/NcActionButton.js'\nimport NcProgressBar from '@nextcloud/vue/dist/Components/NcProgressBar.js'\nimport NcButton from '@nextcloud/vue/dist/Components/NcButton.js'\nimport ContentCopy from 'vue-material-design-icons/ContentCopy.vue'\nimport FileExportOutline from 'vue-material-design-icons/FileExportOutline.vue'\n\nexport default {\n\tname: 'CollectorDetails',\n\tcomponents: {\n\t\tDetailsList,\n\t\tTasksEdit,\n\t\tDetailsExport,\n\t\tNcActions,\n\t\tNcActionButton,\n\t\tNcProgressBar,\n\t\tNcButton,\n\t\tContentCopy,\n\t\tFileExportOutline,\n\t},\n\tmixins: [Formats],\n\tprops: {\n\t\trootTitle: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\ttasksUpdater: null,\n\t\t\tcollapsedStatus: false,\n\t\t\teditingTask: false,\n\t\t\texporting: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapGetters([\n\t\t\t'task',\n\t\t\t'taskInfo',\n\t\t\t'details',\n\t\t\t'settingByName',\n\t\t]),\n\t\tisValidUser() {\n\t\t\treturn getCurrentUser().uid === this.task?.owner\n\t\t},\n\t\tcurrentUser() {\n\t\t\treturn getCurrentUser().uid\n\t\t},\n\t\thasErrors() {\n\t\t\treturn this.task?.errors?.length > 0\n\t\t},\n\t},\n\tbeforeMount() {\n\t\tthis.$emit('update:loading', true)\n\t\tthis.tasksUpdater = setInterval(this._getTaskDetails, 3000)\n\t\tthis.getTaskDetails().then((res) => {\n\t\t\tif (this.getStatusBadge(res.data.collectorTask) === 'finished' || this.getStatusBadge(res.data.collectorTask) === 'duplicated') {\n\t\t\t\tclearInterval(this.tasksUpdater)\n\t\t\t}\n\t\t\tthis.$emit('update:loading', false)\n\t\t})\n\t\tthis.getTaskInfo()\n\t\tsubscribe('restartTask', this.onRestartTaskEvent)\n\t\tsubscribe('updateTaskInfo', this.getDetailFilesTotalSize)\n\t},\n\tbeforeDestroy() {\n\t\tclearInterval(this.tasksUpdater)\n\t\tunsubscribe('updateTaskInfo', this.getDetailFilesTotalSize)\n\t\tunsubscribe('restartTask', this.onRestartTaskEvent)\n\t\tthis.$store.commit('setTask', {})\n\t\tthis.$store.commit('setTaskInfo', { exclude_directories: [], target_directories: [] })\n\t\tthis.$store.commit('setDetails', [])\n\t\tthis.$store.commit('setDetailsInfo', { filestotal: 0, filessize: 0 })\n\t},\n\tmethods: {\n\t\t...mapActions([\n\t\t\t'getTaskDetails',\n\t\t\t'getTaskInfo',\n\t\t\t'getDetailFilesTotalSize',\n\t\t\t'terminateTask',\n\t\t\t'getSettings',\n\t\t]),\n\t\t_terminateTask(task) {\n\t\t\tif (this.isValidUser) {\n\t\t\t\tthis.terminateTask(task).then(() => {\n\t\t\t\t\tshowSuccess(this.t('mediadc', 'Task terminated'))\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tshowWarning(this.t('mediadc', 'You are not allowed to terminate this task'))\n\t\t\t}\n\t\t},\n\t\t_getTaskDetails() {\n\t\t\tthis.getTaskDetails().then(res => {\n\t\t\t\tif (this.getStatusBadge(res.data.collectorTask) === 'finished' || this.getStatusBadge(res.data.collectorTask) === 'terminated' || this.getStatusBadge(res.data.collectorTask) === 'error') {\n\t\t\t\t\tclearInterval(this.tasksUpdater)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\trestartTask(task) {\n\t\t\tif (this.isValidUser) {\n\t\t\t\tclearInterval(this.tasksUpdater)\n\t\t\t\tthis.getSettings().then(() => {\n\t\t\t\t\taxios.post(generateUrl('/apps/mediadc/api/v1/tasks/restart'), {\n\t\t\t\t\t\ttaskId: task.id,\n\t\t\t\t\t\ttargetDirectoryIds: task.target_directory_ids,\n\t\t\t\t\t\texcludeList: {\n\t\t\t\t\t\t\tuser: JSON.parse(task.exclude_list).user,\n\t\t\t\t\t\t\tadmin: JSON.parse(this.settingByName('exclude_list').value),\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcollectorSettings: {\n\t\t\t\t\t\t\thashing_algorithm: JSON.parse(this.settingByName('hashing_algorithm').value) || 'dhash',\n\t\t\t\t\t\t\tsimilarity_threshold: Number(JSON.parse(this.task.collector_settings).similarity_threshold),\n\t\t\t\t\t\t\thash_size: Number(this.settingByName('hash_size').value) || 16,\n\t\t\t\t\t\t\ttarget_mtype: Number(JSON.parse(this.task.collector_settings).target_mtype),\n\t\t\t\t\t\t\tfinish_notification: JSON.parse(this.task.collector_settings).finish_notification,\n\t\t\t\t\t\t\texif_transpose: !this.settingByName('ignore_orientation').value || true,\n\t\t\t\t\t\t},\n\t\t\t\t\t}).then(res => {\n\t\t\t\t\t\tif (res.data.success) {\n\t\t\t\t\t\t\tthis.getTaskDetails()\n\t\t\t\t\t\t\tthis.$store.commit('setDetailsInfo', { filestotal: 0, filessize: 0 })\n\t\t\t\t\t\t\tthis.tasksUpdater = setInterval(this._getTaskDetails, 3000)\n\t\t\t\t\t\t\tshowSuccess(this.t('mediadc', 'Task successfully restarted with previous settings!'))\n\t\t\t\t\t\t} else if (res.data.limit) {\n\t\t\t\t\t\t\tshowWarning(this.t('mediadc', 'Running tasks limit exceed. Try again later.'))\n\t\t\t\t\t\t} else if (res.data.empty) {\n\t\t\t\t\t\t\tshowWarning(this.n('mediadc', 'Target folder has no files or all of them excluded', 'Target folders have no files or all of them excluded', task.target_directory_ids.length))\n\t\t\t\t\t\t} else if (res.data.php_exec_not_enabled) {\n\t\t\t\t\t\t\tshowError(t('mediadc', 'Task run error: PHP `exec` function is not enabled'))\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tshowWarning(this.t('medaidc', 'Some error occurred while running Collector Task. Try again.'))\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\tconsole.debug(err)\n\t\t\t\t\t\tshowError('Some error occurred while running Collector Task. Try again.')\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tshowWarning(this.t('mediadc', 'You are not allowed to restart this task'))\n\t\t\t}\n\t\t},\n\t\tdeleteTask(task) {\n\t\t\tif (this.isValidUser) {\n\t\t\t\tconst self = this\n\t\t\t\tOC.dialogs.confirm(this.t('mediadc', 'Are sure you want to delete this task?'),\n\t\t\t\t\tthis.t('mediadc', 'Confirm task deletion'),\n\t\t\t\t\tfunction(success) {\n\t\t\t\t\t\tif (success) {\n\t\t\t\t\t\t\tself.$store.dispatch('deleteTask', task).then(() => {\n\t\t\t\t\t\t\t\tself.$router.push({ name: 'collector' })\n\t\t\t\t\t\t\t\tshowSuccess(self.t('mediadc', 'Task successfully deleted'))\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t)\n\t\t\t} else {\n\t\t\t\tshowWarning(this.t('mediadc', 'You are not allowed to delete this task'))\n\t\t\t}\n\t\t},\n\t\tcollapseTaskStatus() {\n\t\t\tthis.collapsedStatus = !this.collapsedStatus\n\t\t},\n\t\topenEditTaskDialog() {\n\t\t\tthis.editingTask = true\n\t\t},\n\t\topenExportResultsDialog(task) {\n\t\t\tif (this.getStatusBadge(task) === 'finished' && this.details.length > 0) {\n\t\t\t\tthis.exporting = true\n\t\t\t} else {\n\t\t\t\tshowMessage(this.t('mediadc', 'No results to export'))\n\t\t\t}\n\t\t},\n\t\tfilesDirLink(dir) {\n\t\t\tif (dir) {\n\t\t\t\tconst path = dir.filepath.replace(`/${dir.fileowner}/files`, '').replace(`/${this.currentUser}/files`, '') !== ''\n\t\t\t\t\t? dir.filepath.replace(`/${dir.fileowner}/files`, '').replace(`/${this.currentUser}/files`, '')\n\t\t\t\t\t: '/'\n\t\t\t\treturn generateUrl(`/apps/files?dir=${path}`)\n\t\t\t}\n\t\t\treturn '#'\n\t\t},\n\t\tonRestartTaskEvent() {\n\t\t\tthis.getTaskInfo()\n\t\t\tthis.getTaskDetails()\n\t\t\tthis.$store.commit('setDetailsInfo', { filestotal: 0, filessize: 0 })\n\t\t\tclearInterval(this.tasksUpdater)\n\t\t\tthis.tasksUpdater = setInterval(this._getTaskDetails, 3000)\n\t\t},\n\t\tgetDirOwnerToolip(dir) {\n\t\t\treturn `${this.t('mediadc', 'Owner:')} ${dir.fileowner}`\n\t\t},\n\t\tcopyErrorsToClipboard() {\n\t\t\tnavigator.clipboard.writeText(JSON.stringify(Object.assign(this.task.errors.split('\\\\n')), null, 2))\n\t\t\tshowSuccess(this.t('mediadc', 'Copied to clipboard'))\n\t\t},\n\t},\n}\n</script>\n\n<style scoped>\n.fade-enter-active,\n.fade-leave-active {\n\ttransition: opacity 0.5s ease;\n}\n\n.fade-enter-from,\n.fade-leave-to {\n\topacity: 0;\n}\n\n.container {\n\tpadding: 0 20px;\n\twidth: 100%;\n\tmax-width: 1440px;\n\tmargin: 0 auto;\n\tmax-height: 100%;\n}\n\n@media (min-width: 1920px) {\n\t.container {\n\t\tmax-width: 80vw;\n\t}\n}\n\nh2 {\n\tdisplay: inline-flex;\n\talign-items: center;\n\tjustify-content: center;\n\twidth: 100%;\n\tmargin: 20px auto 10px;\n\ttext-align: center;\n\tfont-size: 24px;\n}\n\n.task-details-heading p {\n\ttext-align: center;\n\tfont-size: 15px;\n}\n\n.details-row {\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin: 0 10px 20px;\n\tposition: relative;\n}\n\n@media (max-width: 767px) {\n\t.details-row {\n\t\tflex-wrap: wrap;\n\t}\n\t.task-details-heading {\n\t\tflex-direction: column;\n\t}\n}\n\n.task-status-row {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-wrap: wrap;\n}\n\n.task-status-wrapper {\n\tborder: 1px solid var(--color-border-dark);\n\tborder-radius: 16px;\n\toverflow: hidden;\n}\n\n.task-status-wrapper progress {\n\tmargin-top: 5px;\n}\n\n.task-status {\n\tdisplay: inline-flex;\n\talign-items: center;\n\tpadding: 10px\n}\n\n.task-info {\n\tmargin: 20px 0;\n\tborder: 1px solid var(--color-border-dark);\n\tborder-radius: var(--border-radius-large);\n\tpadding: 10px 20px;\n\theight: 100%;\n\tmin-height: 105px;\n\tmax-height: 105px;\n\tmax-width: 50%;\n\toverflow-y: scroll;\n}\n\n@media (max-width: 767px) {\n\t.details-row {\n\t\tmargin: 0 0 20px;\n\t}\n\n\t.task-status {\n\t\tflex-direction: column;\n\t\twidth: 100%;\n\t}\n\n\t.task-info {\n\t\tmax-width: 100%;\n\t\tmargin: 0;\n\t}\n}\n\n.task-info h3 {\n\tmargin: 0 0 5px 0;\n\tfont-weight: bold;\n}\n\n.target-directory-row {\n\twhite-space: nowrap;\n\tpadding: 7px 0;\n}\n\n@media (max-width: 540px) {\n\t.task-status-row {\n\t\tflex-direction: column;\n\t\tmargin: 20px 0;\n\t}\n\n\t.badge {\n\t\tmargin-right: 0;\n\t\tmargin-top: 10px;\n\t\tmargin-bottom: 10px;\n\t}\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectorDetails.vue?vue&type=style&index=0&id=a195a68e&prod&scoped=true&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollectorDetails.vue?vue&type=style&index=0&id=a195a68e&prod&scoped=true&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CollectorDetails.vue?vue&type=template&id=a195a68e&scoped=true\"\nimport script from \"./CollectorDetails.vue?vue&type=script&lang=js\"\nexport * from \"./CollectorDetails.vue?vue&type=script&lang=js\"\nimport style0 from \"./CollectorDetails.vue?vue&type=style&index=0&id=a195a68e&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a195a68e\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../vue-loader/lib/index.js??vue-loader-options!./ContentCopy.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../vue-loader/lib/index.js??vue-loader-options!./ContentCopy.vue?vue&type=script&lang=js\"","import mod from \"-!../vue-loader/lib/index.js??vue-loader-options!./PlusThick.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../vue-loader/lib/index.js??vue-loader-options!./PlusThick.vue?vue&type=script&lang=js\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',_vm._b({staticClass:\"material-design-icon content-copy-icon\",attrs:{\"aria-hidden\":_vm.title ? null : 'true',\"aria-label\":_vm.title,\"role\":\"img\"},on:{\"click\":function($event){return _vm.$emit('click', $event)}}},'span',_vm.$attrs,false),[_c('svg',{staticClass:\"material-design-icon__svg\",attrs:{\"fill\":_vm.fillColor,\"width\":_vm.size,\"height\":_vm.size,\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"}},[(_vm.title)?_c('title',[_vm._v(_vm._s(_vm.title))]):_vm._e()])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',_vm._b({staticClass:\"material-design-icon plus-thick-icon\",attrs:{\"aria-hidden\":_vm.title ? null : 'true',\"aria-label\":_vm.title,\"role\":\"img\"},on:{\"click\":function($event){return _vm.$emit('click', $event)}}},'span',_vm.$attrs,false),[_c('svg',{staticClass:\"material-design-icon__svg\",attrs:{\"fill\":_vm.fillColor,\"width\":_vm.size,\"height\":_vm.size,\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M20 14H14V20H10V14H4V10H10V4H14V10H20V14Z\"}},[(_vm.title)?_c('title',[_vm._v(_vm._s(_vm.title))]):_vm._e()])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"names":["___CSS_LOADER_EXPORT___","push","module","id","name","emits","props","title","type","String","fillColor","default","size","Number","_vm","this","_c","_self","_b","staticClass","attrs","on","$event","$emit","$attrs","_v","_s","_e","components","NcButton","NcCheckboxRadioSwitch","mixins","Formats","file","Object","required","files","Array","allFiles","checkedFiles","detail","data","loaded","checked","updating","computed","mapGetters","imageUrl","has_preview","generateUrl","fileid","detailsGridSize","generateRemoteUrl","filepath","replace","watch","newCheckedFiles","fileIndex","findIndex","f","splice","beforeMount","fileIndexChecked","subscribe","deselect","beforeDestroy","unsubscribe","methods","openFile","filesList","map","basename","filename","getCurrentUser","uid","getcontentlength","filesize","getcontenttype","filemtype","mime","OCA","Viewer","open","path","list","onLoad","deleteGroupFile","deleteFileConfirmation","self","OC","dialogs","confirm","t","success","_deleteGroupFile","axios","delete","task_id","group_id","then","res","length","emit","$store","commit","showMessage","fileidIndex","checkedIndex","task","locked","showWarning","not_permited","showError","not_found","catch","err","console","debug","removeGroupFile","post","fileIds","filesToDeselect","includes","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","DetailsFile","class","style","filempart","directives","rawName","value","expression","key","showFullFilePath","fileowner","formatBytes","staticStyle","content","placement","scopedSlots","_u","fn","proxy","NcActions","NcActionButton","loadingFiles","Boolean","filesAscending","batchActionsOpened","filesFiltered","filterFileName","filteredFiles","checkedFilesIntersect","a","Set","b","intersect","filter","i","has","from","filterByFileName","openBatchActionsPopup","document","addEventListener","toggleBatchActionsPopup","removeEventListener","selectAllFiles","selectAllFilesOnPage","removeCheckedFiles","removedFileIds","checkedFileIdIndex","showSuccess","deleteCheckedFiles","_deleteCheckedFiles","_updateDeletedFiles","deletedFileIds","errors","toLowerCase","updateFileSorting","domProps","target","composing","n","groupItemsPerPage","_l","DetailsGroupList","checkedDetailGroups","opened","page","totalPages","paginatedFiles","goToPage","groupFilesSize","reduce","sum","groupFilesTotal","pagesRange","Math","ceil","_","newCheckedDetailGroups","detailIndex","d","sortFiles","newGroupItemsPerPage","paginateFiles","newAllFiles","detailCheckedIndex","updateFilesPagination","openGroup","toggleGroup","openDetailFiles","undefined","taskId","detailId","loadAllFilesInfo","openNextDetailFiles","openPrevDetailFiles","get","last","freeze","removeTaskDetail","_removeTaskDetail","updatedDetails","details","removedDetailIndex","ascending","sort","deletedFileIndex","groupsToDeselect","setTimeout","getElementById","scrollIntoView","behavior","navigateToPage","indexOf","_k","keyCode","apply","arguments","prevGroupsPage","Function","nextGroupsPage","itemsPerPage","DetailsListItem","Pagination","MinusBoxOutline","CheckAll","CheckUnderline","NcLoadingIcon","filterId","sortGroups","batchDeleting","filtered","checkedDetailGroupsIntersect","paginatedDetailsFilteredSorted","paginatedSortedDetails","paginatedDetailsFiltered","paginatedDetails","detailsFiltered","newItemsPerPage","newDetails","window","localStorage","setItem","getItem","JSON","parse","openNextDetailGroup","toggleSorting","sorted","filterByGroupId","singleIdRegex","rangeIdsRegex","test","toString","beginRange","split","endRange","removeCheckedGroups","groupIds","removedGroupId","removedGroupIds","_deselectAllGroups","_details","deleteCheckedGroupsFiles","selectAllGroups","selectAllGroupsOnPage","autoOpenNextGroup","toggleGroups","getStatusBadge","detailsInfo","filestotal","filessize","PlusThick","targetDirectoriesPaths","targetDirectoriesIds","excludeDirectoriesPaths","excludeFileIds","targetMimeType","similarity_threshold","customExcludeList","customExcludeMask","addingCustomMask","runningTask","finishNotification","taskName","settingByName","collector_settings","target_mtype","finish_notification","parseTaskSettings","taskInfo","target_directories","forEach","dir","exclude_directories","exclude_list","user","mask","getDirectoriesPicker","getFilePickerBuilder","setMultiSelect","addMimeTypeFilter","setType","allowDirectories","build","openDirectoriesExplorer","pick","startsWith","requestFileInfo","getFileId","openExcludeExplorer","values","targetDir","restartTask","dispatch","targetDirectoryIds","stringify","excludeList","keys","item","admin","collectorSettings","hashing_algorithm","hash_size","closeEditTaskDialog","limit","empty","php_exec_not_enabled","removeTargetDirectory","removeExcludeDirectory","dirIndex","addNewMask","$refs","focus","addCustomMask","cancelAddingCustomMask","deleteCustomMask","maskIndex","m","resetForm","excludeDirectoriesNames","index","ref","$$selectedVal","prototype","call","o","selected","_value","multiple","exportFormatOptions","exportFileFormat","downloadExportUrl","closeExportResultsDialog","format","DetailsList","TasksEdit","DetailsExport","NcProgressBar","ContentCopy","FileExportOutline","rootTitle","loading","tasksUpdater","collapsedStatus","editingTask","exporting","isValidUser","owner","currentUser","hasErrors","setInterval","_getTaskDetails","getTaskDetails","collectorTask","clearInterval","getTaskInfo","onRestartTaskEvent","getDetailFilesTotalSize","mapActions","_terminateTask","terminateTask","getSettings","target_directory_ids","exif_transpose","deleteTask","$router","collapseTaskStatus","openEditTaskDialog","openExportResultsDialog","filesDirLink","getDirOwnerToolip","copyErrorsToClipboard","navigator","clipboard","writeText","assign","parseTargetMtype","files_scanned","files_total","files_total_size","deleted_files_count","deleted_files_size","parseUnixTimestamp","created_time","finished_time","round","hasignoreflag","error","render","staticRenderFns"],"sourceRoot":""}